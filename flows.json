[
    {
        "id": "55a762ae72fa441b",
        "type": "tab",
        "label": "Main Game Flow",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "175af8efcea2d591",
        "type": "tab",
        "label": "Match Status Dashboard",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d32826a1611e0622",
        "type": "tab",
        "label": "Ref UI Components",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f3ec5d556e86f8d0",
        "type": "tab",
        "label": "Field Config",
        "disabled": false,
        "info": ""
    },
    {
        "id": "bd2296fd2d68d405",
        "type": "tab",
        "label": "Manual Mode",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f66e6f21e6630f00",
        "type": "tab",
        "label": "Setters / Getters",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f6f035102302ba5a",
        "type": "tab",
        "label": "Bldg / FS Callbacks",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "47c0e0ae667846a9",
        "type": "tab",
        "label": "Field Nodes Config / Debug",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "26a7e7275cb541d0",
        "type": "tab",
        "label": "[OBSOLETE]",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "191a41e1c006a3a3",
        "type": "subflow",
        "name": "==[ BURN TIMER SUBFLOW ]==",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 100,
                "y": 80,
                "wires": [
                    {
                        "id": "9bd608f065aaccf9"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1760,
                "y": 60,
                "wires": [
                    {
                        "id": "93ce0f7213302324",
                        "port": 0
                    }
                ]
            },
            {
                "x": 1760,
                "y": 140,
                "wires": [
                    {
                        "id": "237f3fe0029650a0",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#DDAA99"
    },
    {
        "id": "4a4f80625f8ea163",
        "type": "group",
        "z": "55a762ae72fa441b",
        "g": "8dd89b3dfdd4cad0",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "85965edc.72971",
            "5efe17e007074ad1",
            "672af1a8627b7e63",
            "e33ce82b402295fc",
            "227f2d5a2ea24037",
            "da02d40547f5f97a",
            "f2be5d92f9656966",
            "b46c481de9536333",
            "9296e95263e5ddc7",
            "b06a20262c7c11b3"
        ],
        "x": 74,
        "y": 39,
        "w": 762,
        "h": 242
    },
    {
        "id": "6f159bf7a82f4dfa",
        "type": "group",
        "z": "55a762ae72fa441b",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "ee998e797cc6bfa3",
            "5bf648170501ee01",
            "2b2a6d295740d392",
            "ec7979310fe9e00f",
            "28011fcca82837fc"
        ],
        "x": 54,
        "y": 339,
        "w": 1638,
        "h": 868
    },
    {
        "id": "0d233ae99a4c6065",
        "type": "group",
        "z": "47c0e0ae667846a9",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "7a5f520857017bbb",
            "70c149ec65fb102c",
            "5f3e0a85eea68705"
        ],
        "x": 34,
        "y": 19,
        "w": 552,
        "h": 122
    },
    {
        "id": "aa7cdd8f3125703c",
        "type": "group",
        "z": "47c0e0ae667846a9",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "0e16be23a79edb49",
            "af913b1474ed43d9",
            "4f65e1b1c3249fbc",
            "39d591f75ab6581f",
            "6e6816ac951a5c0f"
        ],
        "x": 34,
        "y": 159,
        "w": 852,
        "h": 182
    },
    {
        "id": "2ac942eccf98a996",
        "type": "group",
        "z": "175af8efcea2d591",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "0bb4f2dd1a0c4bda",
            "8ddea564d172bf3f",
            "171f62c6c1563726",
            "05cbae4faf594123",
            "deaae49be7b573b0",
            "892376e5bd117bc9",
            "cc34e7492d373681"
        ],
        "x": 94,
        "y": 59,
        "w": 712,
        "h": 282
    },
    {
        "id": "284c27310b25477c",
        "type": "group",
        "z": "f6f035102302ba5a",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "0416ea6909311b42",
            "187c6afe9262807c",
            "8078387b8154fc28",
            "5acfacf7a05cc895",
            "926f27b7e8249ddb",
            "ed2d399b29970928",
            "5f0bcff5c4ed6ec4",
            "f986ab9711daf36b",
            "085de4503ad6ec20",
            "63f18a575dc37f3b",
            "dda9a78374edd0d2",
            "a25ecc470396a417",
            "2a37db221e4919dc",
            "fe84ce88167ea094",
            "5c0e589cb02e5ad4",
            "6983c6fb1a960333",
            "c558863179e4ef0b",
            "9ec27b48eb18ce04",
            "30922eb04470fcd3",
            "e214f388cf42a7bc",
            "b0111393f42d13c5",
            "df0730dca6dcd4ae",
            "1a82187c851908ef",
            "e1499c0ddc6fdf99",
            "9fa16415953d9ae6",
            "28964f598a2b91f8",
            "ec9a8da5fdcd039c",
            "ee79a9d508104fa0",
            "4c512025a065832e",
            "b3159d92c7d2d07d",
            "3eed4a6d746b77f9",
            "f2b56dfdbbe11a17"
        ],
        "x": 134,
        "y": 79,
        "w": 2712,
        "h": 362
    },
    {
        "id": "5f1037ebc6dbd72f",
        "type": "group",
        "z": "f6f035102302ba5a",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "7138aeefb2263d68",
            "f8afe1542a91baa2",
            "f976aafaf0f9a3c1",
            "2d3d077a6a33a90f",
            "19c221d99629ee7a"
        ],
        "x": 94,
        "y": 515,
        "w": 872,
        "h": 186
    },
    {
        "id": "459fe488a5804676",
        "type": "group",
        "z": "f6f035102302ba5a",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "42500fdf3edadd8f",
            "ab46c7d25d3bb74b",
            "570cc8a3dd014038",
            "7e1e1ed2c52487f5",
            "505ee7d447687c96",
            "8498c6ad0a1a8df7",
            "192043bb5930e80f",
            "f4ccd769fbdd6843",
            "64807321f86b9125",
            "71f67f7f27cafd81"
        ],
        "x": 74,
        "y": 807,
        "w": 1592,
        "h": 266
    },
    {
        "id": "11a9b9cee18f6b6c",
        "type": "group",
        "z": "f6f035102302ba5a",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "3c85efd6b9fe4796",
            "7503e9afbf970c67",
            "36c9b826c07c4844",
            "b497a4557843716d",
            "223c3fe920a91621",
            "270a5506f8851358",
            "b019d27b1b388b63",
            "74e30c503ee7b8b0",
            "f5ac07449078a00d",
            "3f402ddd8643cce0",
            "a429c99752090afe"
        ],
        "x": 74,
        "y": 1179,
        "w": 772,
        "h": 322
    },
    {
        "id": "3a81c46c8f3762a2",
        "type": "group",
        "z": "47c0e0ae667846a9",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "13b29febb8e2b3e9",
            "042587d56aedd796",
            "478145ccd1cc1b6c",
            "1c1fbdd28c2c806b",
            "1b55865e8e16d405"
        ],
        "x": 34,
        "y": 399,
        "w": 812,
        "h": 122
    },
    {
        "id": "b16460b067e3329b",
        "type": "group",
        "z": "175af8efcea2d591",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "09e1bb987f6fc783",
            "318fd2d140ad472a",
            "46514258ddd5880b",
            "e9c6866ca0db7662"
        ],
        "x": 894,
        "y": 59,
        "w": 522,
        "h": 122
    },
    {
        "id": "738dc520034f11a7",
        "type": "group",
        "z": "175af8efcea2d591",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "2c36544f165ecf61",
            "bb41b3b3cc7b681d",
            "4f56704568189cfc",
            "02424c99509bf97f",
            "8dd1f8659cf326c1",
            "931aa0aecec7203f",
            "ba9de4c0d6c59f58",
            "335c51185ed320a8",
            "c948202a41d32b74",
            "e96421f5b1cc5638"
        ],
        "x": 94,
        "y": 459,
        "w": 612,
        "h": 242
    },
    {
        "id": "cb9c0c3b1fe84ccc",
        "type": "group",
        "z": "d32826a1611e0622",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "b2d4ac6f1946502e",
            "daaf11927f2a4a8b",
            "2c989acbcca096b1",
            "4ff11dd0b666fb48",
            "9a1d6ba86b7f753b",
            "95d5bbb03ba2f1fb",
            "ab91ea138a0ca368",
            "f437b1f9f5574bab",
            "4a3e2edb7b10cecb",
            "af0d6f75fe37452a",
            "10f28faa6d606765",
            "dcac314a2015fdf2",
            "48f1b9502311d765",
            "4088277eb07d1853",
            "8d9d9fd3428aef53",
            "7aea2e0d58cee970",
            "93a01049a60df5c5"
        ],
        "x": 54,
        "y": 39,
        "w": 1072,
        "h": 462
    },
    {
        "id": "a83bb00d46efe804",
        "type": "group",
        "z": "f3ec5d556e86f8d0",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "5bdc6b89364fd15a",
            "9bca7655eb1d89cf",
            "c7fe99b0e0506601",
            "8c0e6a2a0a04fcd7",
            "340a8ade18808c45",
            "cf58eb77138066b2",
            "9dd0a2d0ffb6a743",
            "4215a3196c228639",
            "c58252a4cb097661",
            "579c8c19ccab0937",
            "a74d42b7ae961652",
            "6f32fc52a4d53df8",
            "3dd25f169354ef22",
            "ad34ea44766153db"
        ],
        "x": 134,
        "y": 659,
        "w": 1272,
        "h": 402
    },
    {
        "id": "e63633ec18181ba7",
        "type": "group",
        "z": "f3ec5d556e86f8d0",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "f4b7c4c243db620d",
            "837b88b53ec5549a",
            "ac6ab4bb77d73dc4",
            "0faf666bf00276e9",
            "2bcc56e6d241c3d9",
            "feddd1768611c551",
            "b111193564f5a7a0",
            "161f3cee4bd60724",
            "b1e8ab6feba986c9",
            "4b72a159e1e82517",
            "c79cb601a8c0ab17"
        ],
        "x": 134,
        "y": 1099,
        "w": 952,
        "h": 342
    },
    {
        "id": "bc92f0b2168e67b1",
        "type": "group",
        "z": "f3ec5d556e86f8d0",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "9f34def0af02efeb",
            "80e1d2d095f19693",
            "ac5d35d999fc40b9",
            "cd811a5da6dea1c9"
        ],
        "x": 1174,
        "y": 1079,
        "w": 512,
        "h": 122
    },
    {
        "id": "2024311963b7a70e",
        "type": "group",
        "z": "f3ec5d556e86f8d0",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "97e2f252303bfcf3",
            "a1e6f1282aa6e63a",
            "b70ae83c222fa7da"
        ],
        "x": 1174,
        "y": 1299,
        "w": 482,
        "h": 122
    },
    {
        "id": "7ceda8dc6f5a8d60",
        "type": "group",
        "z": "f3ec5d556e86f8d0",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "f86871afbc03993e",
            "91b03956f65107e7",
            "7a6d7007d9d5ec67",
            "ccf03d13258bb4e3"
        ],
        "x": 134,
        "y": 1499,
        "w": 792,
        "h": 142
    },
    {
        "id": "96cafb8e88dad064",
        "type": "group",
        "z": "f3ec5d556e86f8d0",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "e2b27e9faf37bd1e",
            "6331f7057ebfd37c",
            "bc8a6edecc1a9a5c",
            "c74fb766b19e2bf1"
        ],
        "x": 134,
        "y": 1679,
        "w": 832,
        "h": 142
    },
    {
        "id": "96faa29525ade8f0",
        "type": "group",
        "z": "f3ec5d556e86f8d0",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "f8aa15da571b3aae",
            "dfeaa41a75adbf51",
            "f4c6348e4bde4c20",
            "5870cb8ac8846724",
            "4369b98b6d58fe86",
            "99f3e6c97f2c0d2b",
            "02673478ac90323a",
            "1dfa349788a1a948",
            "9e93acca6dde891c",
            "a11c3ee5796d07f2",
            "f03d05829f9254f9",
            "a3534a12592a4f1e",
            "c1f7e764f490f914",
            "4bdef8d87b5da823",
            "b15078312d3e61f5",
            "da8da29f2b800fa5"
        ],
        "x": 134,
        "y": 59,
        "w": 672,
        "h": 542
    },
    {
        "id": "a298e34363e28341",
        "type": "group",
        "z": "d32826a1611e0622",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "e43ad99f63876631",
            "f56f220557986020",
            "d86bd1060551b27a",
            "30048645b24ac102",
            "8bfbb74c8bd6ea8a",
            "4184eea9c2f5d0d1",
            "d13946c0b6d68832",
            "8a1c54a30f6e321d",
            "32915cef9c4e0ed7",
            "afd6f477655fb67b",
            "9498eab6a1cd0f2a"
        ],
        "x": 54,
        "y": 499,
        "w": 952,
        "h": 242
    },
    {
        "id": "821639e23b06e8b7",
        "type": "group",
        "z": "d32826a1611e0622",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "6d58716da651f98b",
            "5858556980b0d246",
            "056679311fed702a",
            "e7798a49af21c28b",
            "616bbcb4c232933c",
            "1a2852c276803a8e",
            "78ddbf57592be916",
            "d3f61fe6cb27f19e",
            "cc273cb5e0f36c84",
            "e168dcf484ba5412",
            "3e1b0163bae2fa11"
        ],
        "x": 54,
        "y": 719,
        "w": 952,
        "h": 242
    },
    {
        "id": "b00a1e1bf34b7a99",
        "type": "group",
        "z": "d32826a1611e0622",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "50226fe53fcc9e70",
            "ceb849d3a15ac63a",
            "11600c0e200f8b48",
            "68487416aabe8f57",
            "a983ca068023543c",
            "23d2a4ca3438a190",
            "0f5c26b8f9c0e8fb",
            "c22b5a348046e18b",
            "7626e97f968a858e",
            "5dd6bf30d7616b6a",
            "5a7f6afebccd7fa7"
        ],
        "x": 54,
        "y": 959,
        "w": 952,
        "h": 282
    },
    {
        "id": "0b3af3753f33292d",
        "type": "group",
        "z": "d32826a1611e0622",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "3ba58d08a73e33cc",
            "fa2980fcc5d6a8e4",
            "3ea14b53dd44535e",
            "831e96c4467d6f69",
            "b3ba77c1e8ec3469",
            "2aa6e40eeae7bb45",
            "b230315a6b0b9787",
            "36583aa149ee6f4c",
            "97d1f6e1a1761fb8",
            "02fd7d7b8a1e1196",
            "8d059dd5b45d6a89"
        ],
        "x": 54,
        "y": 1239,
        "w": 952,
        "h": 262
    },
    {
        "id": "dc5384f7b9f470a3",
        "type": "group",
        "z": "d32826a1611e0622",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "bbf65c45d0cca916",
            "699237516e7fcd8b",
            "765726cb439764c4",
            "28c68dc58063d62e",
            "d4f59c42c8e3621f",
            "1cf74dc6629c5bc1",
            "355a867b4e709ec3",
            "76d2c82b5490d10a",
            "8d3431ec5b26ff8d",
            "6d3355eebfaf7aa4",
            "5b091724b2b67ab5"
        ],
        "x": 54,
        "y": 1499,
        "w": 942,
        "h": 262
    },
    {
        "id": "58bd3feb98c01c36",
        "type": "group",
        "z": "d32826a1611e0622",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "445a086531e1b056",
            "3d9d6744f7dd1d08",
            "b0d7843d6ee3db56",
            "228607c2d02661e8",
            "fba31ee77b4c2b41",
            "46689e504b3a40a2",
            "642c1029ef735b21",
            "ad073fe469f07b4c",
            "669d8b2e34271d5d",
            "d14fd5e2b3037016",
            "dc8f4d8f85a10f79"
        ],
        "x": 54,
        "y": 1759,
        "w": 942,
        "h": 242
    },
    {
        "id": "21aaba78e384f976",
        "type": "group",
        "z": "d32826a1611e0622",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "cdc58e810531278a",
            "e483c61ce3155902",
            "cfd745dc40b7283e",
            "22fd860b3e1f56cf",
            "0a980167dfc3e031",
            "bdfdc2a2ccccfec9",
            "eb7d7e39c504daf9",
            "201572b4026ee457",
            "a5f5872be5b97f6c",
            "d61b2b44b03c499a",
            "a767d0c5f4352f2d"
        ],
        "x": 54,
        "y": 1979,
        "w": 942,
        "h": 242
    },
    {
        "id": "6ac6b771fff8c239",
        "type": "group",
        "z": "d32826a1611e0622",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "12fa4a3a779eab41",
            "a4c7b9991273598b",
            "29b8876936972554",
            "91cc457481d7ddc9",
            "b3c760bc47deb7a1",
            "cbc1bf7f30580e47",
            "393dbe7450f53bc9",
            "c995e02d640aefcf",
            "414808a5201d6091",
            "f63ce94338e3e4fb",
            "2a78ff579a5e9464"
        ],
        "x": 54,
        "y": 2219,
        "w": 942,
        "h": 222
    },
    {
        "id": "6a070793fb470a03",
        "type": "group",
        "z": "bd2296fd2d68d405",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "e1ba7bc1352dbb74",
            "5725302ea02fb9eb",
            "ff606f8c806a3eac",
            "28a544304a1e4303",
            "b52637f4da03c425",
            "a3b9dda68a07d22c",
            "0941e20c1244d3c4",
            "95c484054d952cb6",
            "17966a2f1dd06930",
            "3697150f5332d13d",
            "822ce164ff689dfc",
            "5903df706bf17bf9",
            "31c4db3eb2f36e59"
        ],
        "x": 114,
        "y": 59,
        "w": 872,
        "h": 322
    },
    {
        "id": "18778eda46bd5b07",
        "type": "group",
        "z": "bd2296fd2d68d405",
        "name": "",
        "style": {
            "label": true
        },
        "nodes": [
            "93750bbcea38e7fe",
            "442e921eed2365ac",
            "aa5c2742d22be7f8",
            "fd128583b8d87f7f",
            "bdb7dfde4f3191a6",
            "4eb1999fbc3aab57"
        ],
        "x": 114,
        "y": 859,
        "w": 652,
        "h": 182
    },
    {
        "id": "378995858571b39f",
        "type": "group",
        "z": "bd2296fd2d68d405",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "f5a74fe1d67dc764",
            "54b84dae77542449",
            "7156e130265428bd",
            "a802cc1f90bd41ea",
            "108daae7a312a34f",
            "bdb38005806f60c4",
            "916452b345ae29e0",
            "e05f3a75274f8b73",
            "d3c4d73421b078d1",
            "19ec3afca86d1046",
            "7bd8a304b7ed99cb",
            "7690e8c04058fd38",
            "48373ebe740e92b6"
        ],
        "x": 114,
        "y": 479,
        "w": 892,
        "h": 322
    },
    {
        "id": "4f152b1eeea1837b",
        "type": "group",
        "z": "bd2296fd2d68d405",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "456e8735d35afba5",
            "8b6467bf56c2cbce",
            "53134e60fe9ad531",
            "254d6dbe796bead4",
            "cb99be2b70c3a4ee",
            "16fb96507f1910a9",
            "756238117240a8cf",
            "e3641c48aef6dae2"
        ],
        "x": 134,
        "y": 1099,
        "w": 1052,
        "h": 222
    },
    {
        "id": "1e5cf91bef2d0b81",
        "type": "group",
        "z": "d32826a1611e0622",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "8520f7d702b7b51a",
            "fd5ffabf4e8f6d4a",
            "c9d158730c6fc6a5",
            "9a60e2cbb3676d16",
            "cabc9379e91bfd5e"
        ],
        "x": 1074,
        "y": 539,
        "w": 912,
        "h": 162
    },
    {
        "id": "ab2d725536c9b091",
        "type": "group",
        "z": "d32826a1611e0622",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "9db6ec45531f1534",
            "a6d6b7919b5c3565",
            "5eadd8f77d6dd1ce",
            "9060c4417769a8a6",
            "a20da76881a2c92f",
            "335e406982635187",
            "40b6873d3362e5b0",
            "06e130297ace1369",
            "eda20c35c862c3df",
            "2381a139ccbf25a5",
            "1e1b70cbabfaee5d",
            "33f61ade06dd74c8",
            "c4ce4b14be142171",
            "93d0adee9f6f4273",
            "a7d4ab585203adf8",
            "fbef5856707ebe0e",
            "e1ebb0cff0844ace",
            "2702e40d947bb9c3",
            "85ec7e8e89a5a1d9",
            "bfb334433a7d8842",
            "3b6b77c692325673"
        ],
        "x": 1114,
        "y": 1559,
        "w": 812,
        "h": 502
    },
    {
        "id": "86746eb8946eaa91",
        "type": "group",
        "z": "bd2296fd2d68d405",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "bf8a32b7f8081bb2",
            "b093ebf16ae60878",
            "c30bab3d6b1794ac",
            "f0f486a730b8ca76",
            "f4d91ac44401745d",
            "3f38d246c62ef7bd"
        ],
        "x": 134,
        "y": 1439,
        "w": 592,
        "h": 222
    },
    {
        "id": "77bdfe65956919ec",
        "type": "group",
        "z": "bd2296fd2d68d405",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "25bdc69949d0b152",
            "b3329dfa95503c2c",
            "1a9410ac2442e363",
            "2d07da5341cf14ee",
            "b8f41ef7533e00c1",
            "811f25a4a4480bf7",
            "d775d38173b3593c",
            "8b81919795d67036",
            "3014efb296f50a70",
            "3fbcebb8a982c031",
            "412dda5307ab23bc",
            "11d191fddb70f4cf",
            "c5d69c3b0f5e30ee",
            "0e3ebf9316c50718"
        ],
        "x": 1214,
        "y": 679,
        "w": 1242,
        "h": 362
    },
    {
        "id": "1e2b3d276327b031",
        "type": "group",
        "z": "bd2296fd2d68d405",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "eb1c9ed5222c1bae",
            "c126a3be75f30239",
            "5928222f3d7ec169",
            "af69dcc68b5be41d",
            "c9c52f1b1fc4875f"
        ],
        "x": 1214,
        "y": 79,
        "w": 792,
        "h": 242
    },
    {
        "id": "b73bab6188d86888",
        "type": "group",
        "z": "bd2296fd2d68d405",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "04f2bf0e5e5fda90",
            "86bc73a47bd09922",
            "8ff26e579280950f",
            "26dde0beab910f33",
            "66877abc465757d5"
        ],
        "x": 1214,
        "y": 359,
        "w": 792,
        "h": 242
    },
    {
        "id": "9e4ed901b9748060",
        "type": "group",
        "z": "d32826a1611e0622",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "d7f3df0a1692397d",
            "ce1bb2d3a424da1b",
            "f5fe22018f3f2bc8",
            "6ba9f1a7ecc85684",
            "cc17e4051b812144",
            "e3e10cbba16c8c9d",
            "ad27e32640d4392a",
            "e217d1e7d73aefee",
            "962a8e203226a299",
            "3eb979de5f3757eb",
            "999cde74d9eac4b6",
            "a5e31bd49e05c26f",
            "c0d73c7a8e66d4c2",
            "a448d13962eb94f7",
            "4ed34ea250e49761",
            "17c7c5ef21344b19",
            "1ea3ad5aebc2a31a",
            "9aa5d98a7bf8194c",
            "704358b9cb09cd33",
            "b46550e1d62dd305",
            "a30ba1a5aa4607d7",
            "3cadc83b9f63ae32",
            "013858d1f9e6a995",
            "69264f469f00bdb9",
            "2e1623f95451d14a",
            "1b2c50b0449cb164",
            "459c216f03bfc5d3",
            "5d7f259652fefaf7",
            "fc3d4541c36ad1be",
            "ea32926a4d024a07",
            "4935b6c48ff42ece"
        ],
        "x": 84,
        "y": 2519,
        "w": 1062,
        "h": 762
    },
    {
        "id": "b786c9d92d164f0e",
        "type": "group",
        "z": "d32826a1611e0622",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "98038077.751848",
            "34acfe999b1dfe55",
            "8f52eb742bd90a9e",
            "914c06733f94ce85",
            "349355f6e26b062c",
            "5cfc1180f4ea4ff5",
            "93467bb9550545d1",
            "e9d2f751156577aa"
        ],
        "x": 114,
        "y": 3419,
        "w": 1012,
        "h": 242
    },
    {
        "id": "0bb0145c8adb017a",
        "type": "group",
        "z": "f66e6f21e6630f00",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "a847f6cdc0cb3084",
            "d83d28b0aa1dfecf",
            "083d670df93fc63f",
            "c24d7ccb4813ce9a",
            "cef9fe201b176c2d",
            "0bfd858cbf7dd015",
            "a982d77f63880d2c"
        ],
        "x": 74,
        "y": 819,
        "w": 472,
        "h": 222
    },
    {
        "id": "bf327706215ccff4",
        "type": "group",
        "z": "bd2296fd2d68d405",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "a4436834ffd8d273",
            "096607a1165ab5dd",
            "429025b01e7e6d4d"
        ],
        "x": 948,
        "y": 1413,
        "w": 784,
        "h": 1074
    },
    {
        "id": "a034d18f4f2e4bd6",
        "type": "group",
        "z": "bd2296fd2d68d405",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "156f05bb828f97ee",
            "4fdc3891a83ced02",
            "ec0ec170aad778ad"
        ],
        "x": 1828,
        "y": 1413,
        "w": 784,
        "h": 1074
    },
    {
        "id": "7ae10c2df5524d01",
        "type": "group",
        "z": "bd2296fd2d68d405",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "f1d2f751a9ddb7b8",
            "10013add423d6bb2",
            "0a1b72ac20c7b9d3",
            "da5b434d466b7ab8",
            "7a87f696ccb90fa6",
            "0890dc5854489522",
            "0c0397a08701116b",
            "4f7890090a83f5bb",
            "415239f281920bf8",
            "9b8a3752bde55204",
            "1b5afdc3c905373e",
            "90e55099663abdb1",
            "f50831d0c8b517d2",
            "beb7282432692231",
            "8d7c1e181f7ebb3a",
            "5fed48b72b1963de",
            "60affa2068161af8",
            "dcae7ce4e5d49ca5",
            "af339647b46b531f"
        ],
        "x": 1854,
        "y": 2539,
        "w": 1012,
        "h": 322
    },
    {
        "id": "67280a1824f2e68f",
        "type": "group",
        "z": "f66e6f21e6630f00",
        "g": "f950efc084a45cd2",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "dc1d674e61de820d",
            "ea43b63ac74264a6",
            "fd3278c8b8251cb2",
            "3e5e745b25e837a1",
            "5f1e32d4a9243886"
        ],
        "x": 84,
        "y": 99,
        "w": 472,
        "h": 242
    },
    {
        "id": "8ea343d5acb02cd2",
        "type": "group",
        "z": "f66e6f21e6630f00",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "1c3fdf208f1d04ab",
            "bee1de4c12ef9269",
            "39c136dc6262f611",
            "cba544c17d6aa13d",
            "d76197cd025dce1f",
            "1125739b31b22db9",
            "02110c0df353b5c6",
            "cdd67f2387d5de33"
        ],
        "x": 682.9999694824219,
        "y": 279,
        "w": 603.0000305175781,
        "h": 242
    },
    {
        "id": "a4436834ffd8d273",
        "type": "group",
        "z": "bd2296fd2d68d405",
        "g": "bf327706215ccff4",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "0a259f61ef263ff4",
            "48336719f32d37fa",
            "994fdba605b8d390",
            "a24ffcc749b1439d",
            "0ca3f39d0e17b614",
            "ec0812801f759152",
            "fa539c94e51af673",
            "7cf7c2a31bf1bcce",
            "c5be06f462d960cb",
            "16e630ed7e81d738"
        ],
        "x": 974,
        "y": 1439,
        "w": 712,
        "h": 342
    },
    {
        "id": "096607a1165ab5dd",
        "type": "group",
        "z": "bd2296fd2d68d405",
        "g": "bf327706215ccff4",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "0daf3a9e8c310067",
            "d728650e3d3d36c3",
            "a1f8226389886d66",
            "d6bac14fab6840fe",
            "e05e346b9fb5fbd3",
            "18fee8cf09aa56b6",
            "15c8af9ecc4504b9",
            "a672663eed4f1899",
            "32b4fbc2e326e9d8",
            "6df023e1989102e5"
        ],
        "x": 974,
        "y": 1819,
        "w": 712,
        "h": 342
    },
    {
        "id": "429025b01e7e6d4d",
        "type": "group",
        "z": "bd2296fd2d68d405",
        "g": "bf327706215ccff4",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "06d3e2320ed797d7",
            "260905c9622989e0",
            "303c612e4f366a64",
            "f8ed1d8e4301b635",
            "dfd37ae16eec3d3b"
        ],
        "x": 974,
        "y": 2199,
        "w": 732,
        "h": 262
    },
    {
        "id": "2b2a6d295740d392",
        "type": "group",
        "z": "55a762ae72fa441b",
        "g": "6f159bf7a82f4dfa",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "80cdfca71b0a4285",
            "4833618839f23d81",
            "8f38f406c628cd92",
            "71450ef8b8905ee9",
            "75202ca16a123855",
            "3a2d656d9de58a64",
            "7f56ec0176b540bc",
            "3c6b0d2e7d12f47d",
            "a9e9a6448592d3b2",
            "dafcb9eeb25bd05f",
            "97db8049c673a98e",
            "079d1a3ec4dd91d9",
            "2a0d525888f8207a",
            "4c724d58d017c572",
            "92aca6c09c966e83",
            "490c984c330991c7",
            "e3e9fd0d99b1549e",
            "e0d9d7310fe50dd8",
            "8c8fae70037e1c26",
            "1399d03d81d48081",
            "f3f8bdcc8f8d1713"
        ],
        "x": 114,
        "y": 739,
        "w": 1552,
        "h": 442
    },
    {
        "id": "ec7979310fe9e00f",
        "type": "group",
        "z": "55a762ae72fa441b",
        "g": "6f159bf7a82f4dfa",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "b43ba60f45967c77",
            "c9e2c1f189fc8576",
            "e0c6c1515d7fb9ae",
            "6d2a234344182486",
            "5d34c40fa95adf3b"
        ],
        "x": 114,
        "y": 579,
        "w": 732,
        "h": 122
    },
    {
        "id": "28011fcca82837fc",
        "type": "group",
        "z": "55a762ae72fa441b",
        "g": "6f159bf7a82f4dfa",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "e5d8eb5d72932755",
            "e1f84c7be941ca8c",
            "8d1b28dd96f6b81e",
            "6ee9ecd341bb2e5c",
            "d213416ed624b309",
            "317c4b8d0c02f08a",
            "4173a50514c384c6",
            "d3ed72bb430a14d5"
        ],
        "x": 114,
        "y": 419,
        "w": 972,
        "h": 142
    },
    {
        "id": "156f05bb828f97ee",
        "type": "group",
        "z": "bd2296fd2d68d405",
        "g": "a034d18f4f2e4bd6",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "21c1a36c6eeec879",
            "2c67052878b82a9f",
            "d040dfd31ac803f3",
            "4d7dd9500d554d29",
            "9e0034f563520f15",
            "a530f51f02b55940",
            "53067221f53cf271",
            "e9b331ce522d6fff",
            "397afc29e37dea4f",
            "d4756f35786b766d"
        ],
        "x": 1854,
        "y": 1439,
        "w": 712,
        "h": 342
    },
    {
        "id": "4fdc3891a83ced02",
        "type": "group",
        "z": "bd2296fd2d68d405",
        "g": "a034d18f4f2e4bd6",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "7e3a6a92eb8f1794",
            "ae8147e43f1023ba",
            "701519fb19756ce5",
            "558eac6afdcf8563",
            "80b76622216b9807",
            "f1db54ebc7cd879b",
            "9c991227a903215e",
            "69d3a6f27883fd2e",
            "6e23af39d4f63fe0",
            "d7966aa3641c8fcf",
            "98833f39eaeba382"
        ],
        "x": 1854,
        "y": 1635,
        "w": 712,
        "h": 526
    },
    {
        "id": "ec0ec170aad778ad",
        "type": "group",
        "z": "bd2296fd2d68d405",
        "g": "a034d18f4f2e4bd6",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "29a9307f80926b96",
            "36158908d91ccd6f",
            "9daa3ddcaf2694b4",
            "3c75761e406b9a9c",
            "cd9a098d80ea8fca"
        ],
        "x": 1854,
        "y": 2199,
        "w": 732,
        "h": 262
    },
    {
        "id": "d1c6977fdede82fe",
        "type": "group",
        "z": "55a762ae72fa441b",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "45208014d2d00ce0",
            "f7107def0bcb0b9e",
            "8690d1dfb45601ab",
            "e1a0483ff23d768b",
            "7741898ebc9d5ef8",
            "1aabfd0c7bf1fce1",
            "93dc95fcb851b38b",
            "3764e089f61cc9a7",
            "28c0d1a50caac549",
            "821f2841a1141d3d",
            "8c413bdb5f2a20df",
            "218a084ed0dac320",
            "68aa5688177e30e7",
            "da56a0702839f09a",
            "6b441f5688f3be24",
            "3824f025131adb7d",
            "5d7142916236b97e",
            "ced32d8be696727e",
            "64fe431e82341821",
            "4fc1630f55b705fd",
            "1d79d030bb97d1cb",
            "c15ecd4af88078fe",
            "990a5f67fd3c5363",
            "6ebf21b9c35b491f",
            "0288b8af1ceb54de",
            "6bae0ce8e995b031",
            "9321df77664c4496",
            "b1892a5d909d22a5",
            "363559faefd82ea5",
            "2e31b9270c6d712a",
            "2f1d8a2826147444",
            "7059882ea6339130",
            "b395a9b2e2e8a412",
            "e9064ad0876af058",
            "e0ac23384dedbc40",
            "3067707184cd6d97",
            "3cd3774d5a3cdd30"
        ],
        "x": 54,
        "y": 1259,
        "w": 2102,
        "h": 682
    },
    {
        "id": "325d6a9e63d4c375",
        "type": "group",
        "z": "55a762ae72fa441b",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "076e7875117acb7c",
            "7f4d3b57fb223092",
            "4083bde3272cdecd",
            "65506621145c3ffb",
            "178203d884110025",
            "b1a12d7e894426ee",
            "ca5dd7da6a525065",
            "25e253e5a54e3110",
            "c6e859984c6c2583",
            "3e134a993c1b3fbe",
            "c8b0f520ed08c7a6",
            "15ec07be63476f47",
            "f5f17912a6b03826",
            "e8fd57bcff4cabcb",
            "1f590c01c036d9b6",
            "08a29338294dfb72",
            "e36e232e45440235",
            "63e5d51d3c5537de",
            "a360df724bcd3f11",
            "b0e7c4943b7665f1"
        ],
        "x": 74,
        "y": 1959,
        "w": 1658,
        "h": 1108
    },
    {
        "id": "c8b0f520ed08c7a6",
        "type": "group",
        "z": "55a762ae72fa441b",
        "g": "325d6a9e63d4c375",
        "name": "",
        "style": {
            "label": true
        },
        "nodes": [
            "1a2d6e714aea9f24",
            "ffb76cb366f8f326",
            "611d2e7ab4c4df4d",
            "b168987c1df43253",
            "374ad7109c8ae83c"
        ],
        "x": 1014,
        "y": 2219,
        "w": 692,
        "h": 162
    },
    {
        "id": "15ec07be63476f47",
        "type": "group",
        "z": "55a762ae72fa441b",
        "g": "325d6a9e63d4c375",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "e71dabb088e11184",
            "9bd7f41eff7657e7",
            "ac3997f506e655bc",
            "dd60a83720551880",
            "6d4dee2de447ea5a"
        ],
        "x": 1014,
        "y": 2539,
        "w": 692,
        "h": 162
    },
    {
        "id": "f5f17912a6b03826",
        "type": "group",
        "z": "55a762ae72fa441b",
        "g": "325d6a9e63d4c375",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "38814e878484ba2d",
            "55d1be7677c9b9da",
            "595534f2e07f6f17",
            "9561806327b7b373",
            "70bc3c0ac1f6d076"
        ],
        "x": 1014,
        "y": 2879,
        "w": 692,
        "h": 162
    },
    {
        "id": "6a8702296ddd22a1",
        "type": "group",
        "z": "26a7e7275cb541d0",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "fd280fb139a56e3e",
            "82a8466517112ffd",
            "c612b81a64bb9759",
            "ee7fad842ebd85de",
            "ae0759e01e0881af",
            "18a7e5b4e99c326d",
            "aadcf8e2c074df27",
            "140ccabed0093842",
            "a7ed1ac2a675515d",
            "3b77325dbc1afa0c",
            "f80fcf16add6a94c",
            "d1995509f950a1a9",
            "da8215e65b543ef9",
            "4b6a57a81a1ea4ce",
            "ea98a939f9a52953",
            "2335df53b4766297",
            "6d217ae324a7acc7",
            "b139a3ab9696d743",
            "0ff21611a0176572",
            "691a5afc5b52b78a",
            "45e70a9ad7899e4d",
            "9cbdb9d52fe7cf9a",
            "9bc5be050fadf6b6",
            "e4346dc3857e09be",
            "6e9c04bbdc0780af",
            "53ad0d9118b96995",
            "d504585ce63f5428",
            "4ddc4f8c8e23432a",
            "334fd460617b85bd",
            "840d83d276567759",
            "a920288bc5a73af2",
            "87776e9d6e72f8b7"
        ],
        "x": 54,
        "y": 79,
        "w": 1882,
        "h": 582
    },
    {
        "id": "02ce9447bb02faf7",
        "type": "group",
        "z": "26a7e7275cb541d0",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "1e1c7379d222d543",
            "7c021285ab1cb1de",
            "9cad5208bdecb706",
            "9b568c684831987e",
            "4bed08c71e9e8bf9",
            "1d62b36f11529438",
            "d76c9c232c05e97e",
            "e1cc859ba784a678",
            "e4b62f6f4296fca8",
            "fd55779ccd56155f",
            "c1a90303531def31",
            "19cd1fc687cb899a",
            "90d6f18b09e1c6b5",
            "846e1f20d568c2da",
            "f13d9ce18d748f8f",
            "a09cc4d46358b314",
            "44f4a840ec1b589d",
            "f6e062923baa476e",
            "f646899bf16b76b6",
            "0ee5885f70e1a162",
            "6f91f3d03b147e08",
            "10f78329219af1a4"
        ],
        "x": 94,
        "y": 719,
        "w": 1412,
        "h": 522
    },
    {
        "id": "da5dfd18efe136b1",
        "type": "group",
        "z": "26a7e7275cb541d0",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "10ba0965c5c6a10f",
            "ec04ce96331f3c58",
            "88202dc9135e20fa",
            "f14554f1fa404823",
            "72a3554a4648663f",
            "0d8173f38e89fbff",
            "f4d059522562d6ee",
            "54d2fb1e31d10786",
            "3169a0e7aefec915",
            "9a1fea64496dca0b",
            "9819d01a6d9c632b",
            "f3c5a6e47bb4e136",
            "f847a8fbed96f010",
            "7a1fe1dc9f21c9b7",
            "5ed3a3ca0846d32d",
            "ef955756849278aa"
        ],
        "x": 554,
        "y": 1319,
        "w": 1252,
        "h": 422
    },
    {
        "id": "7a9d34be24c9d358",
        "type": "group",
        "z": "55a762ae72fa441b",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "5f8a2f68386c0902",
            "6650c705ab7e2e1e",
            "684c25d9a0c8194b",
            "eba078dc2c71e197",
            "363511d556bae424",
            "176e7c6aa3f1a681",
            "614e06960c4619e1",
            "4e6ce2d11aa2d6e4",
            "f2fbf9f516184769",
            "0ebb2337407dbe3f",
            "03645d32361c5729",
            "ba931823ae11d4ea"
        ],
        "x": 2354,
        "y": 1219,
        "w": 942,
        "h": 522
    },
    {
        "id": "3b4d148e2feae984",
        "type": "group",
        "z": "f66e6f21e6630f00",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "c18680ecca2f99fb",
            "109a198c442dc26f",
            "a12c5fed51dba728",
            "431af36a3ef22227",
            "a69414e6f67deda5",
            "c47734c2c38bc568"
        ],
        "x": 84,
        "y": 399,
        "w": 462,
        "h": 262
    },
    {
        "id": "b2c04e106e7697f0",
        "type": "group",
        "z": "26a7e7275cb541d0",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "d56b2c69ab7a5b19",
            "c71621e5f8d62525",
            "3324776758a34ef8",
            "14d53b51ae10a6d7",
            "3ddb4866a6ecb8fe",
            "250504d69a42ec07",
            "a43cfe8c60aa1766",
            "03cc0a5688f63569",
            "8b9f85415994242a",
            "81525ae27ca9e82c",
            "b92ea91a45968087",
            "6cbc63bf1ddca5ee",
            "7ec8575c8ae051af",
            "eb26606ce7b0b4da",
            "d7533cfe83cb541d",
            "da290e77a88988a7"
        ],
        "x": 154,
        "y": 1799,
        "w": 992,
        "h": 462
    },
    {
        "id": "f950efc084a45cd2",
        "type": "group",
        "z": "f66e6f21e6630f00",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "67280a1824f2e68f"
        ],
        "x": 58,
        "y": 73,
        "w": 524,
        "h": 294
    },
    {
        "id": "f4b953e583c4193d",
        "type": "group",
        "z": "55a762ae72fa441b",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "db1756875c29a069",
            "a7d99a942f016eff",
            "324b291666bc0fed",
            "e89ef88e113cdc1b",
            "7e6d1d3441627a31",
            "0a6864fb4c9b42f4",
            "8149df671154d345"
        ],
        "x": 2354,
        "y": 1839,
        "w": 922,
        "h": 162
    },
    {
        "id": "3c736f3f8fb9049f",
        "type": "group",
        "z": "55a762ae72fa441b",
        "g": "c61a3666d4d9e6cc",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "8514de7473cdc63d",
            "35d7842449cc5407",
            "2c41d52979a31316",
            "b6b86c414d386111",
            "3ad9f59549cfb1c2",
            "7960cf867b7e4a78",
            "32f4fcba179c05b8",
            "9379e4327f29e381"
        ],
        "x": 234,
        "y": 3199,
        "w": 792,
        "h": 242
    },
    {
        "id": "c61a3666d4d9e6cc",
        "type": "group",
        "z": "55a762ae72fa441b",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "b7983b1421307bef",
            "29dc4973d7dcbcf4",
            "c8f44eaa2aa8da46",
            "ae67d29625a11352",
            "5c1f40ee35f2a6ca",
            "548ab843aae2f534",
            "d17f66006ce8e96b",
            "456bd7cffd256066",
            "b5cf79cc058c8ffa",
            "4387cf2f1b40d3b8",
            "07ec816b8431f6fe",
            "f2fad7a0f61cd56b",
            "699d455d7e070f7f",
            "1b937a81ce4637d2",
            "b1d4327dc1405be1",
            "983cbe2243285f7b",
            "1b35a7773e0b1611",
            "3c736f3f8fb9049f",
            "dad89c1138e7e4f8",
            "8129aa3f03a57ebd",
            "a083f800833c1fc5"
        ],
        "x": 34,
        "y": 3119,
        "w": 2312,
        "h": 442
    },
    {
        "id": "04cf701b8b094633",
        "type": "group",
        "z": "55a762ae72fa441b",
        "g": "a2191c93ea98c3cd",
        "name": "",
        "style": {
            "label": true
        },
        "nodes": [
            "6033b9343789b08e",
            "49c1d158fff7d9fa",
            "10aa02afe21c7a24",
            "5f254d40c5e8240f",
            "5f46218c00bd82e5"
        ],
        "x": 674,
        "y": 3759,
        "w": 692,
        "h": 162
    },
    {
        "id": "2971d7c90b74f3b4",
        "type": "group",
        "z": "26a7e7275cb541d0",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "9004aeb7ec1ed4bf",
            "dc410816705aadf3",
            "4c72ca30adc671fc",
            "627488f25f62e8dc",
            "58af15e1f7b1e202",
            "41fe48a660030e78",
            "244a5e68750deac1",
            "9c7e5e9066493481",
            "f35369f3e7d9d9f9",
            "54f240d0cd94a297",
            "53c404b6960d9d5d",
            "a051d26f3d84b499",
            "ece36ce509a29e6b",
            "5c2c6bce8c7555a8",
            "340b990d6b13e2a7",
            "93e63f839cdaec05",
            "37c7a2dbbcb0a457",
            "5178f08d4efe39d8",
            "53fa00494ea9a428",
            "04945c3baa280d56",
            "df670749b6ba940f",
            "90051ad270b2f765",
            "692f7e973b247e3f",
            "266ee9c97ad1fe86"
        ],
        "x": 1464,
        "y": 1839,
        "w": 1992,
        "h": 422
    },
    {
        "id": "696338a863cf43dc",
        "type": "group",
        "z": "55a762ae72fa441b",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "0696dfed47787161",
            "3e8cddebe9821750",
            "11ab1aaf6ca42a14",
            "90df1a2f47e67002",
            "a9936705c3706204",
            "6494ec07de55a20b",
            "ad244be403c702a2"
        ],
        "x": 2354,
        "y": 2079,
        "w": 912,
        "h": 162
    },
    {
        "id": "c0996267b091c9c3",
        "type": "group",
        "z": "55a762ae72fa441b",
        "g": "a2191c93ea98c3cd",
        "name": "",
        "style": {
            "label": true
        },
        "nodes": [
            "50fc3a4577acd26a",
            "3dd0f9c6f6793cd4",
            "a18a60b81152208f",
            "580da0b3754a5818",
            "4754a91b730752ea"
        ],
        "x": 674,
        "y": 4039,
        "w": 692,
        "h": 162
    },
    {
        "id": "914422360e75360c",
        "type": "group",
        "z": "55a762ae72fa441b",
        "g": "a2191c93ea98c3cd",
        "name": "",
        "style": {
            "label": true
        },
        "nodes": [
            "6df3e0114ac85fee",
            "04054f448cd23fc4",
            "83118ebca9e0405b",
            "d2fe120e88698aeb",
            "4e2f97a180d92ce0"
        ],
        "x": 674,
        "y": 4319,
        "w": 692,
        "h": 162
    },
    {
        "id": "a2191c93ea98c3cd",
        "type": "group",
        "z": "55a762ae72fa441b",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "e347d2f3f1d7b867",
            "e250e85c9bf3a336",
            "c5dde430e853d458",
            "d933fd6ba240e248",
            "f58d58c6ba7c9093",
            "42684de7c516bf79",
            "b345dbc959763a12",
            "30a41bfa8ece7f07",
            "c5549d2580877907",
            "f261d268c894a2ab",
            "dc03f1f4c896cdb8",
            "04cf701b8b094633",
            "c0996267b091c9c3",
            "914422360e75360c",
            "8034e63b9a0a6a07",
            "f770371e8cd2e3c8",
            "834a4d8218917cc2"
        ],
        "x": 94,
        "y": 3579,
        "w": 1298,
        "h": 928
    },
    {
        "id": "e6f0aa02159bc664",
        "type": "group",
        "z": "26a7e7275cb541d0",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "d236e6eee53270f4",
            "f31e8c8e319d93ce",
            "971728897ecf9437",
            "2badacc9a7cff346",
            "66a6c020170412e9",
            "9b2dd509237ea4ba",
            "75bb4dcf27e09311",
            "c9cff8053a0560cc",
            "cd6470a4dd6dcf5a",
            "a0b22b12a042c73b",
            "d50e20b89aafa29b",
            "4c742ebce9027c25",
            "42523d902813f067",
            "28af28cc8618a072",
            "28862dd1f1f894b4"
        ],
        "x": 84,
        "y": 2419,
        "w": 1302,
        "h": 322
    },
    {
        "id": "661aa04cb7a21daf",
        "type": "group",
        "z": "55a762ae72fa441b",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "244d4b05f8a5b661",
            "a77816d2d55d2269",
            "4ecb30f2fa83e7d5",
            "ecbe93f38efb9fef",
            "30dec06ecdfd023b",
            "6bb90e49f6dd6579",
            "56af08aa5b3e0733",
            "e0a3a06def398ebe",
            "8f5501eb7723b27a",
            "93b41a186984a67e",
            "53fea78f00015603",
            "fdce46b507084b4f",
            "a75cdd2e2fc7e9a8",
            "408240b3888622ce"
        ],
        "x": 34,
        "y": 4539,
        "w": 2022,
        "h": 422
    },
    {
        "id": "93b41a186984a67e",
        "type": "group",
        "z": "55a762ae72fa441b",
        "g": "661aa04cb7a21daf",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "b4298b54f0fedfd1",
            "17efe76a856eadfe",
            "88a6bd1c878e3fef",
            "81693e58d454fce2",
            "86621e1005278448",
            "3101ced9397172da",
            "309dc99dff061d40",
            "f706ca3c8999dcb1"
        ],
        "x": 234,
        "y": 4619,
        "w": 792,
        "h": 242
    },
    {
        "id": "f1e1af78cf930290",
        "type": "group",
        "z": "d32826a1611e0622",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "9a38f2942ff4605f",
            "da1ab5f800be4343",
            "bcc47bf7cad06ac1",
            "3731a8ad784af987",
            "ebd69a89636bb4c2"
        ],
        "x": 1074,
        "y": 839,
        "w": 932,
        "h": 162
    },
    {
        "id": "8dd89b3dfdd4cad0",
        "type": "group",
        "z": "55a762ae72fa441b",
        "style": {
            "stroke": "#3a3a3a",
            "stroke-opacity": "1",
            "fill": "#1e1e1e",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#cccccc"
        },
        "nodes": [
            "4a4f80625f8ea163"
        ],
        "x": 48,
        "y": 13,
        "w": 814,
        "h": 294
    },
    {
        "id": "b411c6135a7823e0",
        "type": "ui_base",
        "theme": {
            "name": "theme-dark",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#003d5c",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#003d5c",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#097479",
                    "value": "#003d5c",
                    "edited": true
                },
                "page-titlebar-backgroundColor": {
                    "value": "#003d5c",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#0070a8",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#555555",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#eeeeee",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#003d5c",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#333333",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "050e42e2db96a9f4",
        "type": "ui_tab",
        "name": "Manual Mode",
        "icon": "dashboard",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "7c1e7786ce952a5d",
        "type": "ui_group",
        "name": "Lights (may or may not work)",
        "tab": "050e42e2db96a9f4",
        "order": 1,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "bc90be16040a7d21",
        "type": "mqtt-broker",
        "name": "",
        "broker": "192.168.1.112",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "3feccb6b5184919b",
        "type": "ui_tab",
        "name": "Match Control",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "062c9dae52b8ca4a",
        "type": "ui_group",
        "name": "----- Pre-Match Setup ----- ",
        "tab": "3feccb6b5184919b",
        "order": 1,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "eec8a831cc9d15c1",
        "type": "ui_group",
        "name": "----- Queue / Heater ----- ",
        "tab": "3feccb6b5184919b",
        "order": 2,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "f1f13388d5f613e8",
        "type": "ui_group",
        "name": "----- Time to Party ----- ",
        "tab": "3feccb6b5184919b",
        "order": 3,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "b194d4f5bf93f9af",
        "type": "ui_tab",
        "name": "Node Debug",
        "icon": "dashboard",
        "order": 5,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "8ab51318efc44d27",
        "type": "ui_group",
        "name": "HeartBeat Messages",
        "tab": "b194d4f5bf93f9af",
        "order": 2,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "9b0778b1ab30b93e",
        "type": "ui_group",
        "name": "Laser Messages",
        "tab": "b194d4f5bf93f9af",
        "order": 1,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "c98b5bcc37992daf",
        "type": "ui_tab",
        "name": "Match Status",
        "icon": "dashboard",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "ee9886ff6322a456",
        "type": "ui_group",
        "name": "Building Status",
        "tab": "c98b5bcc37992daf",
        "order": 1,
        "disp": true,
        "width": "22",
        "collapse": false,
        "className": ""
    },
    {
        "id": "3e7886cb7c605213",
        "type": "ui_group",
        "d": true,
        "name": "Manual Testers (may or may not work)",
        "tab": "050e42e2db96a9f4",
        "order": 5,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "1e4da6b2e1809214",
        "type": "ui_group",
        "name": "Scoring Summaries",
        "tab": "c98b5bcc37992daf",
        "order": 2,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "7a3c32bb77d2c5c3",
        "type": "ui_tab",
        "name": "Ref In-Match",
        "icon": "dashboard",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "e385e97cb63ad34f",
        "type": "ui_group",
        "name": "--- Trees ---",
        "tab": "7a3c32bb77d2c5c3",
        "order": 2,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "13504c5753af441d",
        "type": "ui_group",
        "name": "--- Trenches - if using LEDs ---",
        "tab": "7a3c32bb77d2c5c3",
        "order": 4,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "6f6f2d0bf9d4b5e3",
        "type": "sqlitedb",
        "db": "/home/pi/sqlite-storage/sqlite",
        "mode": "RWC"
    },
    {
        "id": "5999f1d09afe1039",
        "type": "mqtt-broker",
        "name": "mqtt-node-main",
        "broker": "127.0.0.1",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "sessionExpiry": ""
    },
    {
        "id": "a5991f3b10b51e7c",
        "type": "ui_group",
        "name": "Default",
        "tab": "8cc3fd17a6d665c5",
        "order": 1,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "8cc3fd17a6d665c5",
        "type": "ui_tab",
        "name": "Field Config",
        "icon": "dashboard",
        "order": 6,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "087e97027a44b747",
        "type": "ui_group",
        "name": "Manual Heaters",
        "tab": "050e42e2db96a9f4",
        "order": 6,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "bc2157348f251310",
        "type": "ui_group",
        "name": "--- AVR Drone Multipliers ---",
        "tab": "7a3c32bb77d2c5c3",
        "order": 1,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "3fe7b2a68005ea00",
        "type": "ui_group",
        "name": "--- Recon Path ---",
        "tab": "7a3c32bb77d2c5c3",
        "order": 3,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "d30d14b4d9e32e11",
        "type": "ui_group",
        "name": "Manual Waters",
        "tab": "050e42e2db96a9f4",
        "order": 4,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "fb5ecbc22265f21a",
        "type": "ui_spacer",
        "z": "bd2296fd2d68d405",
        "name": "spacer",
        "group": "3e7886cb7c605213",
        "order": 2,
        "width": 5,
        "height": 1
    },
    {
        "id": "d91b1912eee3d74c",
        "type": "ui_spacer",
        "z": "bd2296fd2d68d405",
        "name": "spacer",
        "group": "3e7886cb7c605213",
        "order": 6,
        "width": 5,
        "height": 1
    },
    {
        "id": "1be2e91ab36f9525",
        "type": "ui_group",
        "name": "--- Water Towers ---",
        "tab": "7a3c32bb77d2c5c3",
        "order": 6,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "121aadc1d09320eb",
        "type": "ui_group",
        "name": "Lights (rev CMP)",
        "tab": "050e42e2db96a9f4",
        "order": 2,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "28b3ed7cb9589c84",
        "type": "ui_group",
        "name": "BldgLights (rev CMP)",
        "tab": "050e42e2db96a9f4",
        "order": 3,
        "disp": true,
        "width": "12",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e1f30d546402b36d",
        "type": "ui_spacer",
        "z": "bd2296fd2d68d405",
        "name": "spacer",
        "group": "28b3ed7cb9589c84",
        "order": 1,
        "width": 3,
        "height": 1
    },
    {
        "id": "a781f9b547a147ce",
        "type": "ui_spacer",
        "z": "bd2296fd2d68d405",
        "name": "spacer",
        "group": "28b3ed7cb9589c84",
        "order": 3,
        "width": 3,
        "height": 1
    },
    {
        "id": "eaf195bd1737c2d1",
        "type": "ui_group",
        "name": "Burn Timers - Phase 1",
        "tab": "3feccb6b5184919b",
        "order": 4,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "d5eb4f8c4e11b4ae",
        "type": "ui_group",
        "name": "Burn Timers - Phase 2",
        "tab": "3feccb6b5184919b",
        "order": 5,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "3cd49212ab9859c9",
        "type": "ui_spacer",
        "z": "55a762ae72fa441b",
        "name": "spacer",
        "group": "eec8a831cc9d15c1",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "fc290b5afceb4296",
        "type": "ui_spacer",
        "z": "55a762ae72fa441b",
        "name": "spacer",
        "group": "eec8a831cc9d15c1",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "eb75b24a82c10bab",
        "type": "ui_spacer",
        "z": "55a762ae72fa441b",
        "name": "spacer",
        "group": "eec8a831cc9d15c1",
        "order": 4,
        "width": 1,
        "height": 1
    },
    {
        "id": "944eea90e28ead98",
        "type": "ui_spacer",
        "z": "55a762ae72fa441b",
        "name": "spacer",
        "group": "eec8a831cc9d15c1",
        "order": 5,
        "width": 1,
        "height": 1
    },
    {
        "id": "99c33b4df81e10cc",
        "type": "ui_spacer",
        "z": "55a762ae72fa441b",
        "name": "spacer",
        "group": "eec8a831cc9d15c1",
        "order": 10,
        "width": 3,
        "height": 1
    },
    {
        "id": "3922b27d539a88bc",
        "type": "ui_spacer",
        "z": "55a762ae72fa441b",
        "name": "spacer",
        "group": "eec8a831cc9d15c1",
        "order": 12,
        "width": 3,
        "height": 1
    },
    {
        "id": "c19441ece52a07db",
        "type": "ui_spacer",
        "z": "175af8efcea2d591",
        "name": "spacer",
        "group": "ee9886ff6322a456",
        "order": 2,
        "width": 3,
        "height": 1
    },
    {
        "id": "32c8ebe4068248d4",
        "type": "ui_spacer",
        "z": "175af8efcea2d591",
        "name": "spacer",
        "group": "ee9886ff6322a456",
        "order": 4,
        "width": 3,
        "height": 1
    },
    {
        "id": "3e2c5548135cbf0b",
        "type": "ui_spacer",
        "z": "175af8efcea2d591",
        "name": "spacer",
        "group": "1e4da6b2e1809214",
        "order": 2,
        "width": 5,
        "height": 1
    },
    {
        "id": "e821029f11888de8",
        "type": "ui_spacer",
        "z": "175af8efcea2d591",
        "name": "spacer",
        "group": "1e4da6b2e1809214",
        "order": 4,
        "width": 5,
        "height": 1
    },
    {
        "id": "8fa86af3c748052d",
        "type": "ui_spacer",
        "z": "175af8efcea2d591",
        "name": "spacer",
        "group": "1e4da6b2e1809214",
        "order": 6,
        "width": 5,
        "height": 1
    },
    {
        "id": "dace923c9e4e1f1b",
        "type": "ui_group",
        "name": "--- Trenches - if Manual ---",
        "tab": "7a3c32bb77d2c5c3",
        "order": 5,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "1213b465aeaf2ef2",
        "type": "ui_group",
        "name": "====== Commit? ======",
        "tab": "7a3c32bb77d2c5c3",
        "order": 9,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "2fe672a1c1dd0cd7",
        "type": "ui_group",
        "name": "--- Parking ---",
        "tab": "7a3c32bb77d2c5c3",
        "order": 8,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "1b6cfea29db6584c",
        "type": "ui_group",
        "name": "--- Tello ---",
        "tab": "7a3c32bb77d2c5c3",
        "order": 7,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "ce07cf6a697c134e",
        "type": "trigger",
        "z": "191a41e1c006a3a3",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "-250",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 760,
        "y": 80,
        "wires": [
            [
                "e5713dd3ebdb8abc"
            ]
        ]
    },
    {
        "id": "e5713dd3ebdb8abc",
        "type": "switch",
        "z": "191a41e1c006a3a3",
        "name": "If still phase > 0",
        "property": "matchPhase",
        "propertyType": "global",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 960,
        "y": 80,
        "wires": [
            [
                "c6b2b3c63cf0b817"
            ],
            [
                "237f3fe0029650a0"
            ]
        ]
    },
    {
        "id": "c6b2b3c63cf0b817",
        "type": "function",
        "z": "191a41e1c006a3a3",
        "name": "Calc Time Remaining",
        "func": "var waitTime = global.get(\"burnTimeTarget\") - global.get(\"timeElapsed\");\nmsg.payload = waitTime;\n//node.warn(waitTime);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1180,
        "y": 60,
        "wires": [
            [
                "93ce0f7213302324"
            ]
        ]
    },
    {
        "id": "93ce0f7213302324",
        "type": "switch",
        "z": "191a41e1c006a3a3",
        "name": "If still time remaining",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1400,
        "y": 60,
        "wires": [
            [],
            [
                "237f3fe0029650a0"
            ]
        ]
    },
    {
        "id": "237f3fe0029650a0",
        "type": "change",
        "z": "191a41e1c006a3a3",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1560,
        "y": 140,
        "wires": [
            [
                "ce07cf6a697c134e"
            ]
        ]
    },
    {
        "id": "2901c4780ccf2562",
        "type": "comment",
        "z": "191a41e1c006a3a3",
        "name": "Status dashboard output",
        "info": "",
        "x": 1910,
        "y": 60,
        "wires": []
    },
    {
        "id": "0d98bfefa730207b",
        "type": "comment",
        "z": "191a41e1c006a3a3",
        "name": "Timer done",
        "info": "",
        "x": 1860,
        "y": 140,
        "wires": []
    },
    {
        "id": "715f2171dff30055",
        "type": "function",
        "z": "191a41e1c006a3a3",
        "name": "Set 0:30 target for burn",
        "func": "//--- Set up vars\nvar curTime = global.get(\"timeElapsed\"); //in secs\n\n//--- Set a \"time target\" that is 30 secs from now\nvar timeTarget = curTime + global.get(\"fireWindowSpreadDelay\");\n//var timeTarget = curTime + 5; //for testing\nglobal.set(\"burnTimeTarget\", timeTarget);\n\n\n//Fin\nmsg.payload = timeTarget;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 80,
        "wires": [
            [
                "ce07cf6a697c134e"
            ]
        ]
    },
    {
        "id": "9bd608f065aaccf9",
        "type": "change",
        "z": "191a41e1c006a3a3",
        "name": "",
        "rules": [
            {
                "t": "delete",
                "p": "reset",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 80,
        "wires": [
            [
                "715f2171dff30055"
            ]
        ]
    },
    {
        "id": "85965edc.72971",
        "type": "ui_template",
        "z": "55a762ae72fa441b",
        "g": "4a4f80625f8ea163",
        "group": "",
        "name": "Dashboard Theme : Modern Dark",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<div>\n    <link href=\"https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700&display=swap\" rel=\"stylesheet\">\n    <style>\n        body {\n            --background: #212529;\n            --on-background: white;\n            --surface: #2d3136;\n            --on-surface: white;\n            --primary: var(--nr-dashboard-widgetColor);\n            --on-primary: white;\n            --secondary: var(--nr-dashboard-groupTextColor);\n            --accent: red;\n            --radius-s: 2px;\n            --font-weight-m: 300;\n            --font-weight-m: 500;\n            --font-weight-l: 700;\n            --space-s: 8px;\n            --space-m: 16px;\n            --space-l: 32px;\n        }\n\n        body.nr-dashboard-theme {\n            background-color: var(--background);\n            font-family: 'Montserrat', sans-serif;\n        }\n        .nr-dashboard-theme ui-card-panel {\n            background-color: var(--background);\n            border: 0;\n        }\n        .nr-dashboard-theme .nr-dashboard-button .md-button {\n            background-color: var(--primary);\n            border-radius: var(--radius-s);\n            padding: 8px !important;\n            line-height: inherit;\n            font-weight: var(--font-weight-l);\n            color: var(--on-primary);\n        }\n        .nr-dashboard-theme [ui-card-size=\"2x2\"].nr-dashboard-button .md-button {\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            white-space: pre-line;\n        }\n        \n        .nr-dashboard-theme .nr-dashboard-button .md-button ui-icon {\n                margin-bottom: 8px;\n        }\n        .nr-dashboard-theme .nr-dashboard-button .md-button:hover {\n            background-color: var(--secondary);\n        }\n        body.nr-dashboard-theme md-content md-card {\n            background-color: var(--surface);\n        }\n        md-card.md-default-theme, md-card {\n            border-radius: var(--radius-s);\n        }\n        .nr-dashboard-theme .nr-dashboard-gauge-titlel {\n            font-weight: var(--font-weight-l) !important;      \n        }\n        .nr-dashboard-theme ui-card-panel p.nr-dashboard-cardtitle {\n            font-weight: var(--font-weight-l);  \n            text-transform: capitalize;\n            color: var(--on-background);\n        }\n        .nr-dashboard-cardpanel > p {\n            margin-left: 0;\n            padding-left: 16px;\n        }\n        body.nr-dashboard-theme md-toolbar {\n            background-color: var(--surface);\n        }\n        .md-default-theme .md-datepicker-calendar, .md-datepicker-calendar,\n        .md-default-theme .md-calendar, .md-calendar{\n            background-color: var(--surface);\n            color: var(--on-surface);\n        }\n        .md-default-theme .md-datepicker-calendar-pane, .md-datepicker-calendar-pane{\n            border: 0;\n        }\n        .md-default-theme .md-calendar-month-label md-icon, .md-calendar-month-label md-icon, .md-default-theme .md-datepicker-input, .md-datepicker-input {\n            color: var(--on-surface);\n        }\n        body.nr-dashboard-theme md-content md-card {\n            color: var(--on-surface);\n        }\n        .nr-dashboard-theme .nr-dashboard-numeric .value {\n            background-color: var(--surface);\n            color: var(--on-surface);\n        }\n        .nr-dashboard-theme .nr-dashboard-dropdown md-select .md-select-value, .nr-dashboard-theme .nr-dashboard-dropdown md-select .md-select-value.md-select-placeholder {\n            color: var(--on-surface);\n            border-color: var(--on-surface);\n        }\n        .nr-dashboard-theme .nr-dashboard-dropdown .md-select-icon {\n            color: var(--on-surface);\n        }\n        .nr-dashboard-theme .nr-dashboard-date-picker md-input-container .md-input {\n            color: var(--on-surface);\n            border-color: var(--on-surface);\n        }\n        .nr-dashboard-theme .nr-dashboard-date-picker .md-datepicker-triangle-button .md-datepicker-expand-triangle {\n            border-top-color: var(--on-surface);\n        }\n        body.nr-dashboard-theme md-sidenav {\n            background-color: var(--surface);\n        }\n        md-list-item._md-button-wrap > div.md-button:first-child, md-list-item .md-list-item-inner {\n            background-color: var(--surface);\n        }\n\n        .bigbutton {\n            font-size: large;\n        }\n    </style>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "global",
        "className": "",
        "x": 300,
        "y": 120,
        "wires": [
            []
        ],
        "icon": "node-red-dashboard/ui_colour_picker.png",
        "info": "# Modern Dark Theme for node-red-dashboard\n\nInspired by Victor Lucachi with his [Node Red Dashboard Concept](https://dribbble.com/shots/10356530-Node-Red-Dashboard-Concept) on Dribbble. Thank you for your work.\n\n## Customize\n\n1. Go on dashboard customisation tab (At the right of Debug Console).\n2. Select the style `Dark`.\n3. Pick the color you want. Example `#66B5F8`\n\n## Buttons\n\nUse `2x2` size for buttons with icon and text on the screenshot"
    },
    {
        "id": "ee998e797cc6bfa3",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "6f159bf7a82f4dfa",
        "name": "=== QUEUE MATCH",
        "info": "",
        "x": 180,
        "y": 380,
        "wires": []
    },
    {
        "id": "b43ba60f45967c77",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "ec7979310fe9e00f",
        "name": "Heater",
        "info": "",
        "x": 190,
        "y": 620,
        "wires": []
    },
    {
        "id": "e5d8eb5d72932755",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "28011fcca82837fc",
        "name": "Pick a Side",
        "info": "",
        "x": 200,
        "y": 460,
        "wires": []
    },
    {
        "id": "5efe17e007074ad1",
        "type": "inject",
        "z": "55a762ae72fa441b",
        "g": "4a4f80625f8ea163",
        "name": "do",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 230,
        "y": 160,
        "wires": [
            [
                "672af1a8627b7e63"
            ]
        ]
    },
    {
        "id": "672af1a8627b7e63",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "4a4f80625f8ea163",
        "name": "Reset / Default Global Variables",
        "func": "// Code added here will be run once\n// whenever the node is started.\n\n//--- Initialize global variables\n// - General / Manual mode / Utilities\nglobal.set(\"DEBUG\", true);\nglobal.set(\"manualMode.lightBldgAction\", \"1-OFF\");\n\n// - Match / field info         \nglobal.set(\"droneActiveSide\", \"[N/A]\");    //L or R - formerly startSide    \nglobal.set(\"droneNonActiveSide\", \"R\"); //L or R - formerly otherSide \nglobal.set(\"startRoute\", \"T\"); // T or B\nglobal.set(\"hotBldg\", \"T\");    // T or B\nglobal.set(\"matchPhase\", 0);    // formerly curPhase - 0, 1, 2, or 3 (0 is inactive, otherwise phase #)\nglobal.set(\"totalPoints\", 0);   // formerly totalFS\nglobal.set(\"ballDropMultiplier\", 1.0); // formerly ballDoubler\nglobal.set(\"laserHitMultiplier\", 1.0);  // formerly ballDoubler ish\nglobal.set(\"timeElapsed\", 0);\nglobal.set(\"burnTimeTarget\", 9999);\nglobal.set(\"heaterTime\",0);\nglobal.set(\"heaterTimeTarget\",9999);\nglobal.set(\"fireWindowSpreadDelay\", 30);  // # of seconds to spread fire to next window\nglobal.set(\"fireBuildingSpreadDelay\", 0); // # of seconds to spread fire to next building, 0 means no \nglobal.set(\"windowsPerBuilding\", 2);\nglobal.set(\"laserSensitivity\", 500);\n\n// - Scoring\nglobal.set(\"totalFS\", 0);  \nglobal.set(\"totalFCS\", 0);\nglobal.set(\"totalTreeScore\", 0);\nglobal.set(\"totalPoints\", 0);   // formerly totalFS\nglobal.set(\"otherScores.trees-left-1\", 0);\nglobal.set(\"otherScores.trees-left-2\", 0);\nglobal.set(\"otherScores.trees-right-1\", 0);\nglobal.set(\"otherScores.trees-right-2\", 0);\n\n\n// - OBSOLETE match-specific\n/*\nglobal.set(\"startside\",\"L\");   // replaced by droneActiveSide\nglobal.set(\"otherSide\", \"R\");  // replaced by droneNonActiveSide\nglobal.set(\"curPhase\", 0);     // replaced by matchPhase\nglobal.set(\"totalFS\", 0);      // replaced by totalPoints\nglobal.set(\"balldoubler\", 1);  // replaced by waterDropMultiplier and laserHitMultiplier\n*/\n\n// - Building arrays / info\nvar rightBldgs = [\"RTO\", \"RBO\", \"RTM\", \"RBM\", \"RTI\", \"RBI\"];\nvar leftBldgs = [\"LBO\", \"LTO\", \"LBM\", \"LTM\", \"LBI\", \"LTI\"];\nvar allBldgs = rightBldgs.concat(leftBldgs);\nvar heaterBldgs = [\"RTO\", \"RBO\", \"LBO\", \"LTO\"];\nvar laserBldgs = [\"LBO\", \"LBM\", \"LTM\", \"RTO\", \"RBM\", \"RTM\"];\nvar waterBldgs = [\"LTO\", \"LBI\", \"LTI\", \"RBO\", \"RBI\", \"RTI\"];\nvar trenchBldgs = [\"LTT\", \"RTT\"];\nglobal.set(\"rightBldgs\", rightBldgs);\nglobal.set(\"leftBldgs\", leftBldgs);\nglobal.set(\"allBldgs\", allBldgs);\nglobal.set(\"heaterBldgs\", heaterBldgs);\nglobal.set(\"laserBldgs\", laserBldgs);\nglobal.set(\"waterBldgs\", waterBldgs);\nglobal.set(\"trenchBldgs\", trenchBldgs);\n\n// - Specific building attributes\nfor (var i in allBldgs) {\n\n    //Status - Dormant, At Risk(Unblocked), Blocked, Cleared, Damaged\n    global.set(allBldgs[i] + \".Status\", \"Dormant\");\n\n    //Fire scores -- POSSIBLY BECOMING OBSOLETE?\n    /* \n    global.set(allBldgs[i] + \".FS.Window1-BeforeWater\", 0);\n    global.set(allBldgs[i] + \".FS.Window2-BeforeWater\", 0);\n    global.set(allBldgs[i] + \".FS.Window1-AfterWater\", 0);\n    global.set(allBldgs[i] + \".FS.Window2-AfterWater\", 0);\n    global.set(allBldgs[i] + \".Damage\", 0);\n    */\n    global.set(allBldgs[i] + \".FS.Total\", 0);\n\n    //FirePixels -- NEW\n    global.set(allBldgs[i] + \".FirePixels.TotalBeforeWater\", 0);\n    global.set(allBldgs[i] + \".FirePixels.TotalAfterWater\", 0);\n\n    // Water qtys - int\n    global.set(allBldgs[i] + \".WaterQty\", 0);\n\n    // Lights - Windows\n    global.set(allBldgs[i] + \".Lights.Window1\", \"OFF\");\n    global.set(allBldgs[i] + \".Lights.Window2\", \"OFF\");\n\n    // Lights - Gutterpixels - string of numbers that represent colors\n    global.set(allBldgs[i] + \".Lights.GutterPixels\", \"000000000000000000000000000000\");\n}\nfor (var i in trenchBldgs) {\n    global.set(trenchBldgs[i] + \".Lights.GutterPixels\", \"000000000000000000000000000000\");\n}\n\n//--- Send initialization MQTT's\n/*\nvar msg1 = {};\nvar msg2 = {};\nmsg1.topic = \"nodered/laserdiff\";\nmsg1.payload = \"{ \\\"[mqtt_goes_here]\\\": \" + global.get(\"laserSensitivity\");\"\n*/\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "// Code added here will be run once\n// whenever the node is started.\n\n//--- Initialize global variables\n// - General / Manual mode / Utilities\nglobal.set(\"DEBUG\",true);\nglobal.set(\"manualMode.lightBldgAction\",\"1-OFF\");\n\n// - Match / field info         \nglobal.set(\"droneActiveSide\", \"[N/A]\");    //L or R - formerly startSide    \nglobal.set(\"droneNonActiveSide\", \"R\"); //L or R - formerly otherSide \nglobal.set(\"startRoute\", \"T\"); // T or B\nglobal.set(\"hotBldg\", \"T\");    // T or B\nglobal.set(\"matchPhase\",0);    // formerly curPhase - 0, 1, 2, or 3 (0 is inactive, otherwise phase #)\nglobal.set(\"ballDropMultiplier\", 1.0); // formerly ballDoubler\nglobal.set(\"laserHitMultiplier\", 1.0);  // formerly ballDoubler ish\nglobal.set(\"timeElapsed\", 0);\nglobal.set(\"burnTimeTarget\", 9999);\nglobal.set(\"fireWindowSpreadDelay\", 30);  // # of seconds to spread fire to next window\nglobal.set(\"fireBuildingSpreadDelay\", 0); // # of seconds to spread fire to next building, 0 means no \nglobal.set(\"windowsPerBuilding\", 2);\nglobal.set(\"laserSensitivity\", 500);\n\n// - Scoring\nglobal.set(\"totalFS\", 0);\nglobal.set(\"totalFCS\", 0);\nglobal.set(\"totalTreeScore\", 0);\nglobal.set(\"totalPoints\", 0);   // formerly totalFS\nglobal.set(\"otherScores.trees-left-1\", 0);\nglobal.set(\"otherScores.trees-left-2\", 0);\nglobal.set(\"otherScores.trees-right-1\", 0);\nglobal.set(\"otherScores.trees-right-2\", 0);\n\n// - OBSOLETE match-specific\n/*\nglobal.set(\"startside\",\"L\");   // replaced by droneActiveSide\nglobal.set(\"otherSide\", \"R\");  // replaced by droneNonActiveSide\nglobal.set(\"curPhase\", 0);     // replaced by matchPhase\nglobal.set(\"totalFS\", 0);      // replaced by totalPoints\nglobal.set(\"balldoubler\", 1);  // replaced by waterDropMultiplier and laserHitMultiplier\n*/\n\n// - Building arrays / info\nvar rightBldgs = [\"RTO\", \"RBO\", \"RTM\", \"RBM\", \"RTI\", \"RBI\"];\nvar leftBldgs = [\"LBO\", \"LTO\", \"LBM\", \"LTM\", \"LBI\", \"LTI\"];\nvar allBldgs = rightBldgs.concat(leftBldgs);\nvar heaterBldgs = [\"RTO\", \"RBO\", \"LBO\", \"LTO\"];\nvar laserBldgs = [\"LBO\", \"LBM\", \"LTM\", \"RTO\", \"RBM\", \"RTM\"];\nvar waterBldgs = [\"LTO\", \"LBI\", \"LTI\", \"RBO\", \"RBI\", \"RTI\"];\nvar trenchBldgs = [\"LTT\", \"RTT\"];\nglobal.set(\"rightBldgs\", rightBldgs);\nglobal.set(\"leftBldgs\", leftBldgs);\nglobal.set(\"allBldgs\", allBldgs);\nglobal.set(\"heaterBldgs\", heaterBldgs);\nglobal.set(\"laserBldgs\", laserBldgs);\nglobal.set(\"waterBldgs\", waterBldgs);\nglobal.set(\"trenchBldgs\",trenchBldgs);\n\n// - Specific building attributes\nfor (var i in allBldgs) {\n\n    //Status - Dormant, At Risk(Unblocked), Blocked, Cleared, Damaged\n    global.set(allBldgs[i] + \".Status\", \"Dormant\");\n\n    //Fire scores -- POSSIBLY BECOMING OBSOLETE?\n    /* \n    global.set(allBldgs[i] + \".FS.Window1-BeforeWater\", 0);\n    global.set(allBldgs[i] + \".FS.Window2-BeforeWater\", 0);\n    global.set(allBldgs[i] + \".FS.Window1-AfterWater\", 0);\n    global.set(allBldgs[i] + \".FS.Window2-AfterWater\", 0);\n    global.set(allBldgs[i] + \".Damage\", 0);\n    */\n    global.set(allBldgs[i] + \".FS.Total\", 0);\n\n    //FirePixels -- NEW\n    global.set(allBldgs[i] + \".FirePixels.TotalBeforeWater\", 0);\n    global.set(allBldgs[i] + \".FirePixels.TotalAfterWater\", 0);\n\n    // Water qtys - int\n    global.set(allBldgs[i] + \".WaterQty\", 0);\n\n    // Lights - Windows\n    global.set(allBldgs[i] + \".Lights.Window1\",\"OFF\");\n    global.set(allBldgs[i] + \".Lights.Window2\", \"OFF\");\n\n    // Lights - Gutterpixels - string of numbers that represent colors\n    global.set(allBldgs[i] + \".Lights.GutterPixels\", \"000000000000000000000000000000\");\n}\nfor (var i in trenchBldgs) {\n    global.set(trenchBldgs[i] + \".GutterPixels\", \"000000000000000000000000000000\");\n}\n\n\n// - Fin (to trigger all the reset link nodes)\nreturn null;\n",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 160,
        "wires": [
            [
                "da02d40547f5f97a",
                "b46c481de9536333",
                "b06a20262c7c11b3"
            ]
        ]
    },
    {
        "id": "e33ce82b402295fc",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "4a4f80625f8ea163",
        "name": "Configuration / INITIALIZATION",
        "info": "",
        "x": 230,
        "y": 80,
        "wires": []
    },
    {
        "id": "80cdfca71b0a4285",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "2b2a6d295740d392",
        "name": "Heater On",
        "info": "",
        "x": 200,
        "y": 780,
        "wires": []
    },
    {
        "id": "e1f84c7be941ca8c",
        "type": "ui_switch",
        "z": "55a762ae72fa441b",
        "g": "28011fcca82837fc",
        "name": "",
        "label": "Start Side",
        "tooltip": "",
        "group": "062c9dae52b8ca4a",
        "order": 1,
        "width": 5,
        "height": 1,
        "passthru": false,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 240,
        "y": 500,
        "wires": [
            [
                "6ee9ecd341bb2e5c"
            ]
        ]
    },
    {
        "id": "8d1b28dd96f6b81e",
        "type": "change",
        "z": "55a762ae72fa441b",
        "g": "28011fcca82837fc",
        "name": "Right",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "RIGHT",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "droneActiveSide",
                "pt": "global",
                "to": "R",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "droneNonActiveSide",
                "pt": "global",
                "to": "L",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 480,
        "wires": [
            [
                "4173a50514c384c6"
            ]
        ]
    },
    {
        "id": "6ee9ecd341bb2e5c",
        "type": "switch",
        "z": "55a762ae72fa441b",
        "g": "28011fcca82837fc",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 390,
        "y": 500,
        "wires": [
            [
                "8d1b28dd96f6b81e"
            ],
            [
                "d213416ed624b309"
            ]
        ]
    },
    {
        "id": "d213416ed624b309",
        "type": "change",
        "z": "55a762ae72fa441b",
        "g": "28011fcca82837fc",
        "name": "Left",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "LEFT",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "droneActiveSide",
                "pt": "global",
                "to": "L",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "droneNonActiveSide",
                "pt": "global",
                "to": "R",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 520,
        "wires": [
            [
                "4173a50514c384c6"
            ]
        ]
    },
    {
        "id": "c9e2c1f189fc8576",
        "type": "ui_button",
        "z": "55a762ae72fa441b",
        "g": "ec7979310fe9e00f",
        "name": "",
        "group": "062c9dae52b8ca4a",
        "order": 3,
        "width": 5,
        "height": 1,
        "passthru": false,
        "label": "Randomize Hotspot Bldg",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "date",
        "topic": "topic",
        "topicType": "msg",
        "x": 290,
        "y": 660,
        "wires": [
            [
                "e0c6c1515d7fb9ae"
            ]
        ]
    },
    {
        "id": "e0c6c1515d7fb9ae",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "ec7979310fe9e00f",
        "name": "Random choice",
        "func": "//Use the timestamp to random select lol\nvar input = String(msg.payload);\nvar lastDigit = parseInt(input.slice(-1));\n\n//Evens top, odds bottom\nvar hotRoute = (lastDigit % 2) == 0 ? \"T\" : \"B\"; \nvar theHotBldg = global.get(\"droneActiveSide\") + hotRoute + \"O\"; //always O bldg\n\n//Fin\nglobal.set(\"hotBldg\", theHotBldg);\nglobal.set(theHotBldg + \".Status\", \"Hotspot\");\n\n//oops \n/*\nswitch(hotRoute) {\n    case \"T\":\n        switch(global.get(\"startSide\")) {\n            case \"L\":\n                global.set(\"LBO.Status\")\n        }\n}\n*/\nmsg.payload = theHotBldg;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 660,
        "wires": [
            [
                "6d2a234344182486"
            ]
        ]
    },
    {
        "id": "6d2a234344182486",
        "type": "ui_text",
        "z": "55a762ae72fa441b",
        "g": "ec7979310fe9e00f",
        "group": "062c9dae52b8ca4a",
        "order": 4,
        "width": 5,
        "height": 1,
        "name": "Hotbldg Output",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 740,
        "y": 660,
        "wires": []
    },
    {
        "id": "5bf648170501ee01",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "6f159bf7a82f4dfa",
        "name": "Note - these all also update globals",
        "info": "",
        "x": 540,
        "y": 380,
        "wires": []
    },
    {
        "id": "4833618839f23d81",
        "type": "ui_button",
        "z": "55a762ae72fa441b",
        "g": "2b2a6d295740d392",
        "name": "",
        "group": "eec8a831cc9d15c1",
        "order": 2,
        "width": 8,
        "height": 2,
        "passthru": false,
        "label": "CONFIRM - Queue Match - Turn on Heater",
        "tooltip": "",
        "color": "",
        "bgcolor": "darkorange",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 310,
        "y": 860,
        "wires": [
            [
                "1399d03d81d48081"
            ]
        ]
    },
    {
        "id": "8f38f406c628cd92",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "2b2a6d295740d392",
        "name": "Build MQTT to heat it up",
        "func": "//Get the thing\nvar whichBldg = global.get(\"hotBldg\");\n\n//Build the MQTT message\nmsg.topic = \"nodered/heateron/\" + whichBldg;\nmsg.payload = \"{}\";\n\n//Fin\nglobal.set(\"hotBldg\",whichBldg);\n//msg.payload = global.get(\"startSide\") + whichBldg + \"O\"; //always O bldg\nmsg.payload = whichBldg;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 820,
        "wires": [
            [
                "71450ef8b8905ee9"
            ]
        ]
    },
    {
        "id": "71450ef8b8905ee9",
        "type": "mqtt out",
        "z": "55a762ae72fa441b",
        "g": "2b2a6d295740d392",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 1210,
        "y": 820,
        "wires": []
    },
    {
        "id": "75202ca16a123855",
        "type": "ui_text",
        "z": "55a762ae72fa441b",
        "g": "2b2a6d295740d392",
        "group": "eec8a831cc9d15c1",
        "order": 6,
        "width": 10,
        "height": 1,
        "name": "",
        "label": "Heater has been on for: ",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 1530,
        "y": 900,
        "wires": []
    },
    {
        "id": "3a2d656d9de58a64",
        "type": "delay",
        "z": "55a762ae72fa441b",
        "g": "2b2a6d295740d392",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1200,
        "y": 1000,
        "wires": [
            [
                "dafcb9eeb25bd05f"
            ]
        ]
    },
    {
        "id": "7f56ec0176b540bc",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "2b2a6d295740d392",
        "name": "Do a timer",
        "func": "let clock_value = flow.get(\"clock_value\") || 0;\n\nclock_value++; \n\nif (clock_value < 0) clock_value = 0;\n\nflow.set(\"clock_value\", clock_value);\nglobal.set(\"heaterTime\", clock_value);\n\nmsg.payload = clock_value;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1010,
        "y": 940,
        "wires": [
            [
                "a9e9a6448592d3b2",
                "3c6b0d2e7d12f47d",
                "3a2d656d9de58a64"
            ]
        ]
    },
    {
        "id": "3c6b0d2e7d12f47d",
        "type": "ui_gauge",
        "z": "55a762ae72fa441b",
        "g": "2b2a6d295740d392",
        "name": "",
        "group": "eec8a831cc9d15c1",
        "order": 9,
        "width": 7,
        "height": 4,
        "gtype": "gage",
        "title": "Heating Up Time",
        "label": "seconds",
        "format": "{{value}}",
        "min": 0,
        "max": "180",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "60",
        "seg2": "120",
        "className": "",
        "x": 1250,
        "y": 940,
        "wires": []
    },
    {
        "id": "a9e9a6448592d3b2",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "2b2a6d295740d392",
        "name": "seconds to minute:seconds",
        "func": "//https://flows.nodered.org/flow/07570367cf2ccf79344c5f336004d9d9\n\nlet secsDecimal = msg.payload;\n\nlet mins = Math.floor(secsDecimal/60);\nlet secs = secsDecimal % 60;\n\n//msg.payload = (mins + (secs / 100.0)).toFixed(2)\nmsg.payload = secs < 10 ? (mins + \":0\" + secs) : (mins + \":\" + secs);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1260,
        "y": 900,
        "wires": [
            [
                "75202ca16a123855"
            ]
        ]
    },
    {
        "id": "dafcb9eeb25bd05f",
        "type": "switch",
        "z": "55a762ae72fa441b",
        "g": "2b2a6d295740d392",
        "name": "If still on",
        "property": "heateron",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1360,
        "y": 1000,
        "wires": [
            [
                "7f56ec0176b540bc"
            ]
        ]
    },
    {
        "id": "97db8049c673a98e",
        "type": "ui_button",
        "z": "55a762ae72fa441b",
        "g": "2b2a6d295740d392",
        "name": "",
        "group": "eec8a831cc9d15c1",
        "order": 11,
        "width": 3,
        "height": 2,
        "passthru": true,
        "label": "KILL THE HEATER",
        "tooltip": "",
        "color": "",
        "bgcolor": "red",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 310,
        "y": 1100,
        "wires": [
            [
                "079d1a3ec4dd91d9"
            ]
        ]
    },
    {
        "id": "079d1a3ec4dd91d9",
        "type": "change",
        "z": "55a762ae72fa441b",
        "g": "2b2a6d295740d392",
        "name": "global.heateron = false",
        "rules": [
            {
                "t": "set",
                "p": "heateron",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 1100,
        "wires": [
            [
                "92aca6c09c966e83",
                "2a0d525888f8207a"
            ]
        ]
    },
    {
        "id": "2a0d525888f8207a",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "2b2a6d295740d392",
        "name": "Build MQTT to shut 'er down",
        "func": "//Get the thing\nvar whichBldg = global.get(\"hotBldg\");\n\n//Build the MQTT message\nmsg.topic = \"nodered/heateroff/\" + whichBldg;\nmsg.payload = \"{}\";\n\n//Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 1060,
        "wires": [
            [
                "4c724d58d017c572"
            ]
        ]
    },
    {
        "id": "4c724d58d017c572",
        "type": "mqtt out",
        "z": "55a762ae72fa441b",
        "g": "2b2a6d295740d392",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 1010,
        "y": 1060,
        "wires": []
    },
    {
        "id": "92aca6c09c966e83",
        "type": "change",
        "z": "55a762ae72fa441b",
        "g": "2b2a6d295740d392",
        "name": "Reset timer",
        "rules": [
            {
                "t": "set",
                "p": "clock_value",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 1140,
        "wires": [
            [
                "7f56ec0176b540bc",
                "e3e9fd0d99b1549e"
            ]
        ]
    },
    {
        "id": "490c984c330991c7",
        "type": "change",
        "z": "55a762ae72fa441b",
        "g": "2b2a6d295740d392",
        "name": "global.heateron = true",
        "rules": [
            {
                "t": "set",
                "p": "heateron",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 860,
        "wires": [
            [
                "8f38f406c628cd92",
                "7f56ec0176b540bc",
                "f3f8bdcc8f8d1713"
            ]
        ]
    },
    {
        "id": "e3e9fd0d99b1549e",
        "type": "delay",
        "z": "55a762ae72fa441b",
        "g": "2b2a6d295740d392",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 930,
        "y": 1140,
        "wires": [
            [
                "e0d9d7310fe50dd8"
            ]
        ]
    },
    {
        "id": "e0d9d7310fe50dd8",
        "type": "change",
        "z": "55a762ae72fa441b",
        "g": "2b2a6d295740d392",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "OFF",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 1140,
        "wires": [
            [
                "75202ca16a123855"
            ]
        ]
    },
    {
        "id": "8c8fae70037e1c26",
        "type": "link in",
        "z": "55a762ae72fa441b",
        "g": "2b2a6d295740d392",
        "name": "Kill the Heater",
        "links": [
            "157a25e39689ce6c",
            "d1995509f950a1a9",
            "6d217ae324a7acc7",
            "8c413bdb5f2a20df",
            "da56a0702839f09a",
            "28d0a4915564070b"
        ],
        "x": 185,
        "y": 1100,
        "wires": [
            [
                "97db8049c673a98e"
            ]
        ]
    },
    {
        "id": "227f2d5a2ea24037",
        "type": "link in",
        "z": "55a762ae72fa441b",
        "g": "4a4f80625f8ea163",
        "name": "RESET",
        "links": [
            "2335df53b4766297",
            "644ae6f88aa55107",
            "bd87b250d2dcd90c",
            "68aa5688177e30e7"
        ],
        "x": 255,
        "y": 220,
        "wires": [
            [
                "672af1a8627b7e63"
            ]
        ]
    },
    {
        "id": "da02d40547f5f97a",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "4a4f80625f8ea163",
        "name": "We just reset",
        "mode": "link",
        "links": [
            "48373ebe740e92b6",
            "756238117240a8cf",
            "371a308e27a41bed",
            "55ae42b1368591f7"
        ],
        "x": 635,
        "y": 160,
        "wires": []
    },
    {
        "id": "f2be5d92f9656966",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "4a4f80625f8ea163",
        "name": "Go to turn all off",
        "info": "",
        "x": 680,
        "y": 120,
        "wires": []
    },
    {
        "id": "b46c481de9536333",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "4a4f80625f8ea163",
        "name": "killtrenches",
        "mode": "link",
        "links": [
            "201572b4026ee457",
            "36583aa149ee6f4c",
            "76d2c82b5490d10a",
            "8a1c54a30f6e321d",
            "ad073fe469f07b4c",
            "c22b5a348046e18b",
            "c995e02d640aefcf",
            "d3f61fe6cb27f19e"
        ],
        "x": 635,
        "y": 200,
        "wires": []
    },
    {
        "id": "1399d03d81d48081",
        "type": "switch",
        "z": "55a762ae72fa441b",
        "g": "2b2a6d295740d392",
        "name": "Check Phase",
        "property": "matchPhase",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 590,
        "y": 860,
        "wires": [
            [
                "490c984c330991c7"
            ]
        ]
    },
    {
        "id": "f3f8bdcc8f8d1713",
        "type": "debug",
        "z": "55a762ae72fa441b",
        "g": "2b2a6d295740d392",
        "name": "turning on the heater",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1000,
        "y": 780,
        "wires": []
    },
    {
        "id": "317c4b8d0c02f08a",
        "type": "ui_text",
        "z": "55a762ae72fa441b",
        "g": "28011fcca82837fc",
        "group": "062c9dae52b8ca4a",
        "order": 2,
        "width": 5,
        "height": 1,
        "name": "DroneActiveSide Output",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 950,
        "y": 500,
        "wires": []
    },
    {
        "id": "4173a50514c384c6",
        "type": "change",
        "z": "55a762ae72fa441b",
        "g": "28011fcca82837fc",
        "name": "global -> payload",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "droneActiveSide",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 500,
        "wires": [
            [
                "317c4b8d0c02f08a"
            ]
        ]
    },
    {
        "id": "d3ed72bb430a14d5",
        "type": "link in",
        "z": "55a762ae72fa441b",
        "g": "28011fcca82837fc",
        "name": "Reset Output - DroneActiveSide (Start)",
        "links": [
            "9296e95263e5ddc7"
        ],
        "x": 785,
        "y": 460,
        "wires": [
            [
                "317c4b8d0c02f08a"
            ]
        ]
    },
    {
        "id": "5d34c40fa95adf3b",
        "type": "link in",
        "z": "55a762ae72fa441b",
        "g": "ec7979310fe9e00f",
        "name": "Reset Output - Hotbldg",
        "links": [
            "9296e95263e5ddc7"
        ],
        "x": 615,
        "y": 620,
        "wires": [
            [
                "6d2a234344182486"
            ]
        ]
    },
    {
        "id": "45208014d2d00ce0",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "=== Match Start (T=0) (Rev CMP)",
        "info": "",
        "x": 220,
        "y": 1300,
        "wires": []
    },
    {
        "id": "f7107def0bcb0b9e",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "Choose Phase 1 Burning Bldgs",
        "func": "//--- Set up vars\nvar whichSide = global.get(\"droneActiveSide\"); //\"L\" or \"R\"\nvar msg1 = {};\nvar msg2 = {};\n\n//--- Pick the bldgs\nvar whichRouteInt = Math.floor(Math.random() * 2); //returns 0 or 1\nvar whichRouteStr = whichRouteInt == 1 ? \"T\" : \"B\";\nglobal.set(\"startRoute\", whichRouteStr);\nvar bldg1 = whichSide + whichRouteStr + \"M\"; //e.g. bldg LTM\nvar bldg2 = whichSide + whichRouteStr + \"I\"; //e.g. bldg LTI\n\n//Fin\nmsg1.payload = bldg1;\nmsg2.payload = bldg2;\nreturn [msg1, msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 890,
        "y": 1360,
        "wires": [
            [
                "6bae0ce8e995b031"
            ],
            [
                "2e31b9270c6d712a"
            ]
        ]
    },
    {
        "id": "8690d1dfb45601ab",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "Light up a Tello Path",
        "func": "/* \nGutterPixels callback expects\npayload.bldg, payload.pixelstring\n*/ \n\n\n//--- Set up vars\nvar whichSide = global.get(\"droneNonActiveSide\"); // \"L\" or \"R\"\nvar msg1 = {};\nmsg1.payload = {};\nvar msg2 = {};\nmsg2.payload = {};\nvar msg3 = {};\nmsg3.payload = {};\nvar msg4 = {};\nmsg4.payload = {};\n\n//                    |                            |\nvar thePixelString = \"666666666666666666666666666666\"; // TEAL\n\n//--- Choose a path\nvar whichPath = Math.floor(Math.random() * 3);\n\n//--- Set up messages\nswitch (whichPath) {\n    case 0:\n        switch (whichSide) {\n            case \"R\":\n                msg1.payload.bldg = \"RTO\";\n                msg2.payload.bldg = \"RBO\";\n                msg3.payload.bldg = \"RBM\";\n                msg4.payload.bldg = \"RTI\";\n                break;\n            case \"L\":\n                msg1.payload.bldg = \"LBI\";\n                msg2.payload.bldg = \"LTM\";\n                msg3.payload.bldg = \"LTO\";\n                msg4.payload.bldg = \"LBO\";\n                break;\n        }\n        break;\n    case 1:\n        switch (whichSide) {\n            case \"R\":\n                msg1.payload.bldg = \"RBI\";\n                msg2.payload.bldg = \"RBM\";\n                msg3.payload.bldg = \"RTM\";\n                msg4.payload.bldg = \"RTO\";\n                break;\n            case \"L\":\n                msg1.payload.bldg = \"LTI\";\n                msg2.payload.bldg = \"LBM\";\n                msg3.payload.bldg = \"LTM\";\n                msg4.payload.bldg = \"LBO\";\n                break;\n        }\n        break;\n    case 2:\n        switch (whichSide) {\n            case \"R\":\n                msg1.payload.bldg = \"RBI\";\n                msg2.payload.bldg = \"RBM\";\n                msg3.payload.bldg = \"RBO\";\n                msg4.payload.bldg = \"RTO\";\n                break;\n            case \"L\":\n                msg1.payload.bldg = \"LTI\";\n                msg2.payload.bldg = \"LTM\";\n                msg3.payload.bldg = \"LTO\";\n                msg4.payload.bldg = \"LBO\";\n                break;\n        }\n        break;\n}\nmsg1.payload.pixelstring = thePixelString;\nmsg2.payload.pixelstring = thePixelString;\nmsg3.payload.pixelstring = thePixelString;\nmsg4.payload.pixelstring = thePixelString;\n\n//--- Update global statuses\nglobal.set(msg1.payload.bldg + \".Status\", \"TelloPath\");\nglobal.set(msg2.payload.bldg + \".Status\", \"TelloPath\");\nglobal.set(msg3.payload.bldg + \".Status\", \"TelloPath\");\nglobal.set(msg4.payload.bldg + \".Status\", \"TelloPath\");\n\n//Fin\nreturn [msg1, msg2, msg3, msg4];",
        "outputs": 4,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 1500,
        "wires": [
            [
                "e1a0483ff23d768b"
            ],
            [
                "e1a0483ff23d768b"
            ],
            [
                "e1a0483ff23d768b"
            ],
            [
                "e1a0483ff23d768b"
            ]
        ]
    },
    {
        "id": "e1a0483ff23d768b",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "Tello GutterPixels",
        "mode": "link",
        "links": [
            "f8afe1542a91baa2"
        ],
        "x": 1005,
        "y": 1500,
        "wires": []
    },
    {
        "id": "7741898ebc9d5ef8",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "Set 1:00 target for heater",
        "func": "//--- Set up vars\nvar hotBldg = global.get(\"hotBldg\"); // e.g. \"LTO\"\nvar curHotTime = global.get(\"heaterTime\"); //in secs\n\n//--- Set a \"time target\" that is 60 secs from now\nvar timeTarget = curHotTime + 60;\nglobal.set(\"heaterTimeTarget\", timeTarget);\n//node.warn(global.get(\"heaterTime\"));\n//node.warn(global.get(\"heaterTimeTarget\"));\n\n\n//Fin\nmsg.payload = timeTarget;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 1600,
        "wires": [
            [
                "93dc95fcb851b38b",
                "b395a9b2e2e8a412"
            ]
        ]
    },
    {
        "id": "1aabfd0c7bf1fce1",
        "type": "ui_text",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "group": "eec8a831cc9d15c1",
        "order": 8,
        "width": 10,
        "height": 1,
        "name": "",
        "label": "Heater will turn off in: ",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 1960,
        "y": 1560,
        "wires": []
    },
    {
        "id": "93dc95fcb851b38b",
        "type": "trigger",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "-250",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1080,
        "y": 1600,
        "wires": [
            [
                "3764e089f61cc9a7"
            ]
        ]
    },
    {
        "id": "3764e089f61cc9a7",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "Time Remaining",
        "func": "var waitTime = global.get(\"heaterTimeTarget\") - global.get(\"heaterTime\");\nmsg.payload = waitTime;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1280,
        "y": 1600,
        "wires": [
            [
                "3cd3774d5a3cdd30"
            ]
        ]
    },
    {
        "id": "28c0d1a50caac549",
        "type": "switch",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "If still time remaining",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1660,
        "y": 1600,
        "wires": [
            [
                "1aabfd0c7bf1fce1"
            ],
            [
                "821f2841a1141d3d",
                "e0ac23384dedbc40"
            ]
        ]
    },
    {
        "id": "821f2841a1141d3d",
        "type": "change",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1940,
        "y": 1660,
        "wires": [
            [
                "93dc95fcb851b38b",
                "8c413bdb5f2a20df"
            ]
        ]
    },
    {
        "id": "8c413bdb5f2a20df",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "Ding fries are done",
        "mode": "link",
        "links": [
            "8c8fae70037e1c26"
        ],
        "x": 2075,
        "y": 1660,
        "wires": []
    },
    {
        "id": "218a084ed0dac320",
        "type": "ui_button",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "",
        "group": "f1f13388d5f613e8",
        "order": 4,
        "width": 5,
        "height": 2,
        "passthru": true,
        "label": "END / RESET MATCH",
        "tooltip": "",
        "color": "",
        "bgcolor": "red",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 280,
        "y": 1800,
        "wires": [
            [
                "68aa5688177e30e7",
                "da56a0702839f09a",
                "ced32d8be696727e"
            ]
        ]
    },
    {
        "id": "68aa5688177e30e7",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "JUST END IT",
        "mode": "link",
        "links": [
            "227f2d5a2ea24037",
            "c0d73c7a8e66d4c2",
            "93467bb9550545d1"
        ],
        "x": 445,
        "y": 1780,
        "wires": []
    },
    {
        "id": "da56a0702839f09a",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "Ding fries are done",
        "mode": "link",
        "links": [
            "8c8fae70037e1c26"
        ],
        "x": 445,
        "y": 1820,
        "wires": []
    },
    {
        "id": "6b441f5688f3be24",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "Send all the resets",
        "info": "",
        "x": 550,
        "y": 1740,
        "wires": []
    },
    {
        "id": "3824f025131adb7d",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "TODO - Reset GUI",
        "info": "",
        "x": 550,
        "y": 1900,
        "wires": []
    },
    {
        "id": "5d7142916236b97e",
        "type": "link in",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "Just end it (in)",
        "links": [
            "0e3ebf9316c50718"
        ],
        "x": 125,
        "y": 1780,
        "wires": [
            [
                "218a084ed0dac320"
            ]
        ]
    },
    {
        "id": "ced32d8be696727e",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "Send reset MQTT",
        "mode": "link",
        "links": [
            "1b55865e8e16d405"
        ],
        "x": 445,
        "y": 1860,
        "wires": []
    },
    {
        "id": "64fe431e82341821",
        "type": "change",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "matchPhase",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1500,
        "wires": [
            [
                "f7107def0bcb0b9e",
                "8690d1dfb45601ab",
                "7741898ebc9d5ef8",
                "0288b8af1ceb54de"
            ]
        ]
    },
    {
        "id": "4fc1630f55b705fd",
        "type": "function",
        "z": "55a762ae72fa441b",
        "d": true,
        "g": "d1c6977fdede82fe",
        "name": "Erupt Heating Building",
        "func": "// Expects \n// payload.bldg, payload.window, payload.numFire\n\n//--- Set up vars\nvar theBldg = global.get(\"hotBldg\");\nvar theWater = global.get(theBldg+\".WaterQty\");\nvar msg1 = {};\nmsg1.payload = {};\nvar msg2 = {};\nmsg2.payload = {};\n\n//--- Light 'er up\n/*\nglobal.set(theBldg + \".Status\",\"Burning\");\nglobal.set(theBldg + \".FS.Window1-BeforeWater\", 8);\nglobal.set(theBldg + \".FS.Window2-BeforeWater\", 8);\n\nglobal.set(theBldg + \".FS.Window1-AfterWater\", 8-theWater);\nglobal.set(theBldg + \".FS.Window2-AfterWater\", 8-theWater);\nglobal.set(theBldg + \".GutterPixels\", \"333333330000000000000044444444\");\n*/\n\nmsg1.payload.bldg = theBldg;\nmsg1.payload.window = 1;\nmsg1.payload.numFire = 8;\n\nmsg2.payload.bldg = theBldg;\nmsg2.payload.window = 2;\nmsg2.payload.numFire = 8;\n\n\n//Fin\nreturn [msg1, msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1960,
        "y": 1720,
        "wires": [
            [
                "1d79d030bb97d1cb"
            ],
            [
                "c15ecd4af88078fe"
            ]
        ]
    },
    {
        "id": "1d79d030bb97d1cb",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "Bldg been erupted",
        "mode": "link",
        "links": [
            "0416ea6909311b42"
        ],
        "x": 2115,
        "y": 1700,
        "wires": []
    },
    {
        "id": "c15ecd4af88078fe",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "Bldg been erupted",
        "mode": "link",
        "links": [
            "0416ea6909311b42"
        ],
        "x": 2115,
        "y": 1740,
        "wires": []
    },
    {
        "id": "990a5f67fd3c5363",
        "type": "switch",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "Check Phase",
        "property": "matchPhase",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "-1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 1500,
        "wires": [
            [
                "64fe431e82341821"
            ],
            [
                "64fe431e82341821"
            ]
        ]
    },
    {
        "id": "6ebf21b9c35b491f",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "Start burn timer rev CMP",
        "info": "",
        "x": 910,
        "y": 1760,
        "wires": []
    },
    {
        "id": "0288b8af1ceb54de",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "Time to Start Burn Rev2",
        "mode": "link",
        "links": [
            "1a85280e23bfe3a9",
            "7f4d3b57fb223092"
        ],
        "x": 765,
        "y": 1760,
        "wires": []
    },
    {
        "id": "6bae0ce8e995b031",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "Update Burning Global",
        "func": "//--- Set up basic vars\nvar theBldg = msg.payload;\n\n//--- Update globals\nglobal.set(theBldg + \".Status\",\"Burning\");\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1160,
        "y": 1340,
        "wires": [
            [
                "363559faefd82ea5"
            ]
        ]
    },
    {
        "id": "9321df77664c4496",
        "type": "ui_button",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "",
        "group": "f1f13388d5f613e8",
        "order": 2,
        "width": 5,
        "height": 2,
        "passthru": false,
        "label": "START MATCH",
        "tooltip": "",
        "color": "",
        "bgcolor": "green",
        "className": "bigbutton",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 180,
        "y": 1500,
        "wires": [
            [
                "990a5f67fd3c5363"
            ]
        ]
    },
    {
        "id": "b1892a5d909d22a5",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "To AddFirePix",
        "mode": "link",
        "links": [
            "dc1d674e61de820d"
        ],
        "x": 1515,
        "y": 1340,
        "wires": []
    },
    {
        "id": "363559faefd82ea5",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "Prep AddFirePix Setter",
        "func": "//--- Set up basic vars\nvar theBldg = msg.payload;\nmsg.payload = {};\n\n/* \nAddFirePix expects:\n- msg.payload.bldg: a node ID\n- msg.payload.numFirePixels: int, the qty FirePixels to add\n*/\nmsg.payload.bldg = theBldg;\nmsg.payload.numFirePixels = 8;\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1380,
        "y": 1340,
        "wires": [
            [
                "b1892a5d909d22a5"
            ]
        ]
    },
    {
        "id": "2e31b9270c6d712a",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "Update Burning Global",
        "func": "//--- Set up basic vars\nvar theBldg = msg.payload;\n\n//--- Update globals\nglobal.set(theBldg + \".Status\",\"Burning\");\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1160,
        "y": 1380,
        "wires": [
            [
                "2f1d8a2826147444"
            ]
        ]
    },
    {
        "id": "2f1d8a2826147444",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "Prep AddFirePix Setter",
        "func": "//--- Set up basic vars\nvar theBldg = msg.payload;\nmsg.payload = {};\n\n/* \nAddFirePix expects:\n- msg.payload.bldg: a node ID\n- msg.payload.numFirePixels: int, the qty FirePixels to add\n*/\nmsg.payload.bldg = theBldg;\nmsg.payload.numFirePixels = 8;\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1380,
        "y": 1380,
        "wires": [
            [
                "7059882ea6339130"
            ]
        ]
    },
    {
        "id": "7059882ea6339130",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "To AddFirePix",
        "mode": "link",
        "links": [
            "dc1d674e61de820d"
        ],
        "x": 1515,
        "y": 1380,
        "wires": []
    },
    {
        "id": "076e7875117acb7c",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "325d6a9e63d4c375",
        "name": "=== Phase 1 Burn (Rev CMP)",
        "info": "",
        "x": 220,
        "y": 2000,
        "wires": []
    },
    {
        "id": "7f4d3b57fb223092",
        "type": "link in",
        "z": "55a762ae72fa441b",
        "g": "325d6a9e63d4c375",
        "name": "Phase 1 Burn Rev CMP",
        "links": [
            "0288b8af1ceb54de"
        ],
        "x": 165,
        "y": 2120,
        "wires": [
            [
                "4083bde3272cdecd"
            ]
        ]
    },
    {
        "id": "4083bde3272cdecd",
        "type": "change",
        "z": "55a762ae72fa441b",
        "g": "325d6a9e63d4c375",
        "name": "set global.timeElapsed = 0",
        "rules": [
            {
                "t": "set",
                "p": "timeElapsed",
                "pt": "global",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "clock_value_burn",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 320,
        "y": 2120,
        "wires": [
            [
                "a360df724bcd3f11",
                "ca5dd7da6a525065"
            ]
        ]
    },
    {
        "id": "65506621145c3ffb",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "325d6a9e63d4c375",
        "name": "----------------- First Set of Bldgs -> 2 Windows ----------------- ",
        "info": "",
        "x": 710,
        "y": 2140,
        "wires": []
    },
    {
        "id": "178203d884110025",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "325d6a9e63d4c375",
        "name": "----------------- Add Second Set of Bldgs ----------------- ",
        "info": "",
        "x": 670,
        "y": 2460,
        "wires": []
    },
    {
        "id": "b1a12d7e894426ee",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "325d6a9e63d4c375",
        "name": "----------------- Second Bldgs -> 2 Windows ----------------- ",
        "info": "",
        "x": 680,
        "y": 2820,
        "wires": []
    },
    {
        "id": "1a2d6e714aea9f24",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "c8b0f520ed08c7a6",
        "name": "Build BurningBldgs Array",
        "func": "//--- Vars \nvar allBldgs = global.get(\"allBldgs\");\nvar outBldgs = [];\nvar burnBldgCnt = 0;\n\n//--- Loop through bldgs, look for burning ones\nfor (var i = 0; i < allBldgs.length; i++) { \n    if ((global.get(allBldgs[i] + \".Status\")) == \"Burning\") {\n        outBldgs[burnBldgCnt] = allBldgs[i];\n        burnBldgCnt += 1;\n    }\n}\n\n//--- Fin\n// **** need an error handler if no outBldgs are found?\nmsg.payload = outBldgs;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1150,
        "y": 2300,
        "wires": [
            [
                "374ad7109c8ae83c"
            ]
        ]
    },
    {
        "id": "ffb76cb366f8f326",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "c8b0f520ed08c7a6",
        "name": "TIME TO BURN",
        "info": "",
        "x": 1120,
        "y": 2260,
        "wires": []
    },
    {
        "id": "611d2e7ab4c4df4d",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "c8b0f520ed08c7a6",
        "name": "Prep AddFirePix Setter",
        "func": "//--- Set up basic vars\nvar theBldg = msg.payload;\nmsg.payload = {};\n\n/* \nAddFirePix expects:\n- msg.payload.bldg: a node ID\n- msg.payload.numFirePixels: int, the qty FirePixels to add\n*/\nmsg.payload.bldg = theBldg;\nmsg.payload.numFirePixels = 8;\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1500,
        "y": 2340,
        "wires": [
            [
                "b168987c1df43253",
                "374ad7109c8ae83c"
            ]
        ]
    },
    {
        "id": "b168987c1df43253",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "c8b0f520ed08c7a6",
        "name": "To AddFirePix",
        "mode": "link",
        "links": [
            "dc1d674e61de820d"
        ],
        "x": 1665,
        "y": 2340,
        "wires": []
    },
    {
        "id": "374ad7109c8ae83c",
        "type": "loop",
        "z": "55a762ae72fa441b",
        "g": "c8b0f520ed08c7a6",
        "name": "Loop Burning Bldgs",
        "kind": "enum",
        "count": "",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "payload",
        "enumerationType": "msg",
        "limit": "",
        "loopPayload": "loop-val",
        "finalPayload": "final-count",
        "x": 1410,
        "y": 2280,
        "wires": [
            [
                "25e253e5a54e3110"
            ],
            [
                "611d2e7ab4c4df4d"
            ]
        ]
    },
    {
        "id": "e71dabb088e11184",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "15ec07be63476f47",
        "name": "Prep AddFirePix Setter",
        "func": "//--- Set up basic vars\nvar theBldg = msg.payload;\nmsg.payload = {};\n\n/* \nAddFirePix expects:\n- msg.payload.bldg: a node ID\n- msg.payload.numFirePixels: int, the qty FirePixels to add\n*/\nmsg.payload.bldg = theBldg;\nmsg.payload.numFirePixels = 8;\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1500,
        "y": 2660,
        "wires": [
            [
                "6d4dee2de447ea5a",
                "dd60a83720551880"
            ]
        ]
    },
    {
        "id": "9bd7f41eff7657e7",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "15ec07be63476f47",
        "name": "Build Array of New Bldgs",
        "func": "//--- Vars \nvar theSide = global.get(\"droneActiveSide\"); // e.g. \"L\"\nvar theRoute = global.get(\"startRoute\") == \"B\" ? \"T\" : \"B\";  // switch B and T\nvar outBldgs = [];\n\n//--- Build bldgs\noutBldgs[0] = theSide + theRoute + \"I\"; // e.g. \"LBI\"\noutBldgs[1] = theSide + theRoute + \"M\"; // e.g. \"LBM\"\n\n//--- Fin\nmsg.payload = outBldgs;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1150,
        "y": 2620,
        "wires": [
            [
                "dd60a83720551880"
            ]
        ]
    },
    {
        "id": "ac3997f506e655bc",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "15ec07be63476f47",
        "name": "TIME TO BURN",
        "info": "",
        "x": 1120,
        "y": 2580,
        "wires": []
    },
    {
        "id": "dd60a83720551880",
        "type": "loop",
        "z": "55a762ae72fa441b",
        "g": "15ec07be63476f47",
        "name": "Loop Burning Bldgs",
        "kind": "enum",
        "count": "",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "payload",
        "enumerationType": "msg",
        "limit": "",
        "loopPayload": "loop-val",
        "finalPayload": "final-count",
        "x": 1410,
        "y": 2600,
        "wires": [
            [
                "e8fd57bcff4cabcb"
            ],
            [
                "e71dabb088e11184"
            ]
        ]
    },
    {
        "id": "6d4dee2de447ea5a",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "15ec07be63476f47",
        "name": "To AddFirePix",
        "mode": "link",
        "links": [
            "dc1d674e61de820d"
        ],
        "x": 1665,
        "y": 2660,
        "wires": []
    },
    {
        "id": "38814e878484ba2d",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "f5f17912a6b03826",
        "name": "TIME TO BURN",
        "info": "",
        "x": 1120,
        "y": 2920,
        "wires": []
    },
    {
        "id": "55d1be7677c9b9da",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "f5f17912a6b03826",
        "name": "Prep AddFirePix Setter",
        "func": "//--- Set up basic vars\nvar theBldg = msg.payload;\nmsg.payload = {};\n\n/* \nAddFirePix expects:\n- msg.payload.bldg: a node ID\n- msg.payload.numFirePixels: int, the qty FirePixels to add\n*/\nmsg.payload.bldg = theBldg;\nmsg.payload.numFirePixels = 8;\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1500,
        "y": 3000,
        "wires": [
            [
                "595534f2e07f6f17",
                "9561806327b7b373"
            ]
        ]
    },
    {
        "id": "595534f2e07f6f17",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "f5f17912a6b03826",
        "name": "To AddFirePix",
        "mode": "link",
        "links": [
            "dc1d674e61de820d"
        ],
        "x": 1665,
        "y": 3000,
        "wires": []
    },
    {
        "id": "9561806327b7b373",
        "type": "loop",
        "z": "55a762ae72fa441b",
        "g": "f5f17912a6b03826",
        "name": "Loop Burning Bldgs",
        "kind": "enum",
        "count": "",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "payload",
        "enumerationType": "msg",
        "limit": "",
        "loopPayload": "loop-val",
        "finalPayload": "final-count",
        "x": 1410,
        "y": 2940,
        "wires": [
            [],
            [
                "55d1be7677c9b9da"
            ]
        ]
    },
    {
        "id": "70bc3c0ac1f6d076",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "f5f17912a6b03826",
        "name": "Build Array of 2nd Bldgs",
        "func": "//--- Vars \nvar theSide = global.get(\"droneActiveSide\"); // e.g. \"L\"\nvar theRoute = global.get(\"startRoute\") == \"B\" ? \"T\" : \"B\";  // switch B and T\nvar outBldgs = [];\nvar i = 0;\n\n//--- Check if 2nd wave bldgs are still burning\nvar bldg1 = theSide + theRoute + \"I\"; // e.g. \"LBI\"\nvar bldg2 = theSide + theRoute + \"M\"; // e.g. \"LBM\"\n\nif(global.get(bldg1 + \".Status\") == \"Burning\") {\n    outBldgs[i] = bldg1;\n    i++;\n}\nif(global.get(bldg2 + \".Status\") == \"Burning\") {\n    outBldgs[i] = bldg2;\n    i++;\n}\n\n//--- Fin\nmsg.payload = outBldgs;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1150,
        "y": 2960,
        "wires": [
            [
                "9561806327b7b373"
            ]
        ]
    },
    {
        "id": "ca5dd7da6a525065",
        "type": "subflow:191a41e1c006a3a3",
        "z": "55a762ae72fa441b",
        "g": "325d6a9e63d4c375",
        "name": "",
        "x": 830,
        "y": 2220,
        "wires": [
            [
                "c6e859984c6c2583"
            ],
            [
                "1a2d6e714aea9f24"
            ]
        ]
    },
    {
        "id": "25e253e5a54e3110",
        "type": "subflow:191a41e1c006a3a3",
        "z": "55a762ae72fa441b",
        "g": "325d6a9e63d4c375",
        "name": "",
        "x": 830,
        "y": 2540,
        "wires": [
            [
                "3e134a993c1b3fbe"
            ],
            [
                "9bd7f41eff7657e7"
            ]
        ]
    },
    {
        "id": "c6e859984c6c2583",
        "type": "ui_text",
        "z": "55a762ae72fa441b",
        "g": "325d6a9e63d4c375",
        "group": "eaf195bd1737c2d1",
        "order": 1,
        "width": 5,
        "height": 1,
        "name": "",
        "label": "1 -> 2 Wndws:",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 1100,
        "y": 2180,
        "wires": []
    },
    {
        "id": "3e134a993c1b3fbe",
        "type": "ui_text",
        "z": "55a762ae72fa441b",
        "g": "325d6a9e63d4c375",
        "group": "eaf195bd1737c2d1",
        "order": 2,
        "width": 5,
        "height": 1,
        "name": "",
        "label": "Second Bldgs:",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 1100,
        "y": 2500,
        "wires": []
    },
    {
        "id": "e8fd57bcff4cabcb",
        "type": "subflow:191a41e1c006a3a3",
        "z": "55a762ae72fa441b",
        "g": "325d6a9e63d4c375",
        "name": "",
        "x": 830,
        "y": 2900,
        "wires": [
            [
                "1f590c01c036d9b6"
            ],
            [
                "70bc3c0ac1f6d076"
            ]
        ]
    },
    {
        "id": "1f590c01c036d9b6",
        "type": "ui_text",
        "z": "55a762ae72fa441b",
        "g": "325d6a9e63d4c375",
        "group": "eaf195bd1737c2d1",
        "order": 3,
        "width": 10,
        "height": 1,
        "name": "",
        "label": "Second Bldgs -> 2 Wndws:",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 1140,
        "y": 2840,
        "wires": []
    },
    {
        "id": "e9064ad0876af058",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "To AddFirePix",
        "mode": "link",
        "links": [
            "dc1d674e61de820d"
        ],
        "x": 1325,
        "y": 1680,
        "wires": []
    },
    {
        "id": "b395a9b2e2e8a412",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "Prep AddFirePix for Hotspot Building",
        "func": "//--- Set up basic vars\nvar theBldg = global.get(\"hotBldg\");\nmsg.payload = {};\n\n/* \nAddFirePix expects:\n- msg.payload.bldg: a node ID\n- msg.payload.numFirePixels: int, the qty FirePixels to add\n*/\nmsg.payload.bldg = theBldg;\nmsg.payload.numFirePixels = 4; //half of a window\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1130,
        "y": 1680,
        "wires": [
            [
                "e9064ad0876af058"
            ]
        ]
    },
    {
        "id": "e0ac23384dedbc40",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "Erupt Heating Building",
        "func": "//--- Set up vars\nvar theBldg = global.get(\"hotBldg\");\nmsg.payload = {};\n\n//--- Check to make sure it's not cleared, escape if so\nif (global.get(theBldg + \".Status\") == \"Cleared\") {\n    return null;\n}\n\n//--- Reset any progress made thus far\nglobal.set(theBldg + \".FirePixels.TotalBeforeWater\",0);\nglobal.set(theBldg + \".WaterQty\",0);\nglobal.set(theBldg + \".FS.TotalBeforeWater\",0);\n\n//--- Prep AddFirePix setters\nmsg.payload.bldg = theBldg;\nmsg.payload.numFirePixels = 16;\n\n\n//Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1960,
        "y": 1800,
        "wires": [
            [
                "3067707184cd6d97"
            ]
        ]
    },
    {
        "id": "3067707184cd6d97",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "To AddFirePix",
        "mode": "link",
        "links": [
            "dc1d674e61de820d"
        ],
        "x": 2115,
        "y": 1800,
        "wires": []
    },
    {
        "id": "9296e95263e5ddc7",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "4a4f80625f8ea163",
        "name": "Reset UI Components",
        "mode": "link",
        "links": [
            "5d34c40fa95adf3b",
            "6494ec07de55a20b",
            "d3ed72bb430a14d5",
            "08a29338294dfb72",
            "e36e232e45440235",
            "63e5d51d3c5537de",
            "d933fd6ba240e248",
            "b345dbc959763a12",
            "f261d268c894a2ab",
            "9a60e2cbb3676d16",
            "3731a8ad784af987",
            "01a33715231c806e",
            "8e253407c85c2eb8",
            "9a9ab0727ffc0a14",
            "e3e15afaf5959647"
        ],
        "x": 795,
        "y": 240,
        "wires": []
    },
    {
        "id": "b06a20262c7c11b3",
        "type": "change",
        "z": "55a762ae72fa441b",
        "g": "4a4f80625f8ea163",
        "name": "Reset UI's",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 240,
        "wires": [
            [
                "9296e95263e5ddc7"
            ]
        ]
    },
    {
        "id": "08a29338294dfb72",
        "type": "link in",
        "z": "55a762ae72fa441b",
        "g": "325d6a9e63d4c375",
        "name": "Reset Output - Time",
        "links": [
            "9296e95263e5ddc7"
        ],
        "x": 985,
        "y": 2160,
        "wires": [
            [
                "c6e859984c6c2583"
            ]
        ]
    },
    {
        "id": "e36e232e45440235",
        "type": "link in",
        "z": "55a762ae72fa441b",
        "g": "325d6a9e63d4c375",
        "name": "Reset Output - Time",
        "links": [
            "9296e95263e5ddc7"
        ],
        "x": 985,
        "y": 2460,
        "wires": [
            [
                "3e134a993c1b3fbe"
            ]
        ]
    },
    {
        "id": "63e5d51d3c5537de",
        "type": "link in",
        "z": "55a762ae72fa441b",
        "g": "325d6a9e63d4c375",
        "name": "Reset Output - Time",
        "links": [
            "9296e95263e5ddc7"
        ],
        "x": 975,
        "y": 2800,
        "wires": [
            [
                "1f590c01c036d9b6"
            ]
        ]
    },
    {
        "id": "5f8a2f68386c0902",
        "type": "mqtt in",
        "z": "55a762ae72fa441b",
        "g": "7a9d34be24c9d358",
        "name": "",
        "topic": "edgenode/laserhit/#",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "bc90be16040a7d21",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 2530,
        "y": 1380,
        "wires": [
            [
                "6650c705ab7e2e1e",
                "684c25d9a0c8194b"
            ]
        ]
    },
    {
        "id": "6650c705ab7e2e1e",
        "type": "debug",
        "z": "55a762ae72fa441b",
        "g": "7a9d34be24c9d358",
        "name": "db received laser hit",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2820,
        "y": 1340,
        "wires": []
    },
    {
        "id": "684c25d9a0c8194b",
        "type": "switch",
        "z": "55a762ae72fa441b",
        "g": "7a9d34be24c9d358",
        "name": "matchPhase > 0",
        "property": "matchPhase",
        "propertyType": "global",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2760,
        "y": 1400,
        "wires": [
            [
                "eba078dc2c71e197"
            ]
        ]
    },
    {
        "id": "eba078dc2c71e197",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "7a9d34be24c9d358",
        "name": "Convert Laser Qty -> Water Qty",
        "func": "/* \nExample input LASER:\n{\n  \"num_hits\": 1,\n  \"timestamp\": 415775,\n  \"timestamp\": 416493,\n  \"BUILDING_NAME\": \"LBM\",\n  \"side_id\": 1\n}\n\n\nAddWater expects:\n- msg.payload.bldg: a node ID\n- msg.payload.numWater: int, the qty Water to add\n*/ \n\n/*\nEvery bldg has 32 possible Water points\n1 laser hit = 2 Water = 1 Fire Pixel = 0.5 FS\n1 ball = 1 Water = 0.5 Fire Pixel = 0.25 FS\n- Don't think too hard about it\n- All we care about in this function is getting from \"num laser hits\" to \"num Water\"\n*/\n\n//--- Basic variables \nvar input = msg.payload;\nvar nodeid = input.BUILDING_NAME; \nvar numHits = input.num_hits;\nvar laserWaterConversion = 2.0;\nmsg.payload = {};\n\n//--- Math\nvar numWater = numHits * global.get(\"laserHitMultiplier\") * laserWaterConversion;\n\n//--- FS update callback outputs\nmsg.payload.bldg = nodeid;\nmsg.payload.numWater = numWater;\n\nif(global.get(\"DEBUG\")) {\n  node.warn(\"Sending \" + numWater + \" waters to \" + nodeid);\n}\n\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3010,
        "y": 1420,
        "wires": [
            [
                "614e06960c4619e1"
            ]
        ]
    },
    {
        "id": "363511d556bae424",
        "type": "inject",
        "z": "55a762ae72fa441b",
        "g": "7a9d34be24c9d358",
        "name": "Fake laser MQTT (RTM)",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "edgenode/laserhit/RTM",
        "payload": "{\"BUILDING_NAME\":\"RTM\",\"num_hits\":1,\"timestamp\":1234567890}",
        "payloadType": "json",
        "x": 2650,
        "y": 1460,
        "wires": [
            [
                "eba078dc2c71e197"
            ]
        ],
        "info": "Example input: \r\n{\r\n    \"node_id\":\"LTO\",\r\n    \"num_hits\":5, \r\n    \"timestamp\":1234567890\r\n}"
    },
    {
        "id": "176e7c6aa3f1a681",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "7a9d34be24c9d358",
        "name": "Receive Laser / Ball Hit - Rev CMP",
        "info": "",
        "x": 2520,
        "y": 1260,
        "wires": []
    },
    {
        "id": "614e06960c4619e1",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "7a9d34be24c9d358",
        "name": "To Water Add",
        "mode": "link",
        "links": [
            "c18680ecca2f99fb"
        ],
        "x": 3255,
        "y": 1520,
        "wires": []
    },
    {
        "id": "4e6ce2d11aa2d6e4",
        "type": "mqtt in",
        "z": "55a762ae72fa441b",
        "g": "7a9d34be24c9d358",
        "name": "",
        "topic": "edgenode/balldrop/#",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "bc90be16040a7d21",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 2530,
        "y": 1600,
        "wires": [
            [
                "03645d32361c5729",
                "f2fbf9f516184769"
            ]
        ]
    },
    {
        "id": "f2fbf9f516184769",
        "type": "switch",
        "z": "55a762ae72fa441b",
        "g": "7a9d34be24c9d358",
        "name": "matchPhase > 0",
        "property": "matchPhase",
        "propertyType": "global",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2740,
        "y": 1620,
        "wires": [
            [
                "0ebb2337407dbe3f"
            ]
        ]
    },
    {
        "id": "0ebb2337407dbe3f",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "7a9d34be24c9d358",
        "name": "Convert Ball Qty -> Water Qty",
        "func": "/* \nExample input BALL:\n{\n  num_drops: 1\n  timestamp: 637739\n  BUILDING_NAME: \"LBM\"\n  side_id: 1\n}\n\n\nAddWater expects:\n- msg.payload.bldg: a node ID\n- msg.payload.numWater: int, the qty Water to add\n*/\n\n/*\nEvery bldg has 32 possible Water points\n1 laser hit = 2 Water = 1 Fire Pixel = 0.5 FS\n1 ball = 1 Water = 0.5 Fire Pixel = 0.25 FS\n- Don't think too hard about it\n- All we care about in this function is getting from \"num laser hits\" to \"num Water\"\n*/\n\n//--- Basic variables \nvar input = msg.payload;\nvar nodeid = input.BUILDING_NAME;\nvar numHits = input.num_drops;\nvar ballWaterConversion = 1.0;\nmsg.payload = {};\n\n//--- Math\nvar numWater = numHits * global.get(\"ballDropMultiplier\") * ballWaterConversion;\n\n//--- FS update callback outputs\nmsg.payload.bldg = nodeid;\nmsg.payload.numWater = numWater;\n\nif (global.get(\"DEBUG\")) {\n    node.warn(\"Sending \" + numWater + \" waters to \" + nodeid);\n}\n\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3010,
        "y": 1660,
        "wires": [
            [
                "614e06960c4619e1"
            ]
        ]
    },
    {
        "id": "03645d32361c5729",
        "type": "debug",
        "z": "55a762ae72fa441b",
        "g": "7a9d34be24c9d358",
        "name": "db received ball",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2800,
        "y": 1560,
        "wires": []
    },
    {
        "id": "ba931823ae11d4ea",
        "type": "inject",
        "z": "55a762ae72fa441b",
        "g": "7a9d34be24c9d358",
        "name": "Fake ball MQTT (RBI)",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"num_drops\":1,\"timestamp\":10356098,\"BUILDING_NAME\":\"RBI\",\"side_id\":0}",
        "payloadType": "json",
        "x": 2640,
        "y": 1700,
        "wires": [
            [
                "0ebb2337407dbe3f"
            ]
        ]
    },
    {
        "id": "b7983b1421307bef",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "c61a3666d4d9e6cc",
        "name": "=== Phase 2 Start (Rev CMP)",
        "info": "",
        "x": 200,
        "y": 3160,
        "wires": []
    },
    {
        "id": "db1756875c29a069",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "f4b953e583c4193d",
        "name": "Check if Phase switch time",
        "info": "",
        "x": 2490,
        "y": 1880,
        "wires": []
    },
    {
        "id": "a7d99a942f016eff",
        "type": "link in",
        "z": "55a762ae72fa441b",
        "g": "f4b953e583c4193d",
        "name": "Check Phase Switch",
        "links": [
            "cdd67f2387d5de33"
        ],
        "x": 2425,
        "y": 1940,
        "wires": [
            [
                "324b291666bc0fed"
            ]
        ]
    },
    {
        "id": "324b291666bc0fed",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "f4b953e583c4193d",
        "name": "Check if Phase Switch Rdy (no \"Burning\" statuses)",
        "func": "/* \nEvery time you're updating a bldg, check to see if it's the LAST ONE  :O\n*/\n\n//--- Escape if it's in rave mode or anything else\nif (global.get(\"matchPhase\") <= 0) {\n    msg.payload = false;\n    return msg;\n}\n\n// --- Set up vars\nvar curSide = global.get(\"droneActiveSide\");\nvar theTotalFS = 0;\nvar theTotalWater = 0;\nvar curDamage = [];\n\nswitch (curSide) {\n    case \"L\":\n        var bldgs = global.get(\"leftBldgs\");\n        break;\n    case \"R\":\n        var bldgs = global.get(\"rightBldgs\");\n        break;\n}\n\n// --- Loop through all buildings, look for no bueno\nvar isClear = true;\nfor (var i in bldgs) {\n    var stat = global.get(bldgs[i] + \".Status\");\n    if(stat == \"Burning\" || stat == \"Hotspot\") {\n        isClear = false;\n    }\n\n    if (isClear == false) {\n        break;\n    }\n}\n\n// -- debug\nif(global.get(\"DEBUG\")) {\n    node.warn(\"checking for phase change - \" + isClear);\n}\n\n// --- Fin\nmsg.payload = isClear;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2670,
        "y": 1940,
        "wires": [
            [
                "e89ef88e113cdc1b"
            ]
        ]
    },
    {
        "id": "e89ef88e113cdc1b",
        "type": "switch",
        "z": "55a762ae72fa441b",
        "g": "f4b953e583c4193d",
        "name": "If ready",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2940,
        "y": 1940,
        "wires": [
            [
                "0a6864fb4c9b42f4"
            ]
        ]
    },
    {
        "id": "7e6d1d3441627a31",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "f4b953e583c4193d",
        "name": "GOTO Phase 2 (CMP)",
        "mode": "link",
        "links": [
            "29dc4973d7dcbcf4"
        ],
        "x": 3235,
        "y": 1920,
        "wires": []
    },
    {
        "id": "29dc4973d7dcbcf4",
        "type": "link in",
        "z": "55a762ae72fa441b",
        "g": "c61a3666d4d9e6cc",
        "name": "Time for Phase 2 (CMP)",
        "links": [
            "7e6d1d3441627a31"
        ],
        "x": 125,
        "y": 3260,
        "wires": [
            [
                "8514de7473cdc63d"
            ]
        ]
    },
    {
        "id": "c8f44eaa2aa8da46",
        "type": "change",
        "z": "55a762ae72fa441b",
        "g": "c61a3666d4d9e6cc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "matchPhase",
                "pt": "global",
                "to": "2",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1440,
        "y": 3460,
        "wires": [
            [
                "5c1f40ee35f2a6ca",
                "8129aa3f03a57ebd"
            ]
        ]
    },
    {
        "id": "ae67d29625a11352",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "c61a3666d4d9e6cc",
        "name": "Set PHASE-2 Globals",
        "func": "node.warn(\"============== PREPPING PHASE 2 =============\");\n\n// --- Switch sides\nswitch(global.get(\"droneActiveSide\")) {\n    case \"L\":\n        var newActive = \"R\"; \n        var newNonActive = \"L\";\n        break;\n    case \"R\":\n        var newActive = \"L\";\n        var newNonActive = \"R\";\n        break;\n}\nglobal.set(\"droneActiveSide\", newActive);\nglobal.set(\"droneNonActiveSide\", newNonActive);\nvar activeSideChar = newActive;\n\n// --- Create active side array\nswitch (activeSideChar) {\n    case \"L\":\n        var activeSide = global.get(\"leftBldgs\");\n        var nonActiveSide = global.get(\"rightBldgs\");\n        break;\n    case \"R\": \n        var activeSide = global.get(\"rightBldgs\");\n        var nonActiveSide = global.get(\"leftBldgs\");\n        break;\n}\n\n\n// --- Loop (phase 2) active side bldgs, make sure they're all clear and outta here\nfor (var i in activeSide) {\n    // Status\n    global.set(activeSide[i] + \".Status\", \"PHASE-2\");\n\n    // Fire scores \n    global.set(activeSide[i] + \".FS.Total\", 0);\n    global.set(activeSide[i] + \".FirePixels.TotalBeforeWater\",0);\n    global.set(activeSide[i] + \".FirePixels.TotalAfterWater\", 0);\n    \n    // Lights\n    global.set(activeSide[i] + \".Lights.GutterPixels\", \"000000000000000000000000000000\");\n    global.set(activeSide[i] + \".Lights.Window1\", \"OFF\");\n    global.set(activeSide[i] + \".Lights.Window2\", \"OFF\");\n\n    // Water qtys - int\n    global.set(activeSide[i] + \".WaterQty\", 0);\n}\n\n\n// --- Clean up phase 1 bldgs too, just in case\nfor (var i in nonActiveSide) {\n    // Status\n    global.set(nonActiveSide[i] + \".Status\", \"P2-Dormant\");\n\n    // Fire scores \n    global.set(nonActiveSide[i] + \".FS.Total\", 0);\n    global.set(nonActiveSide[i] + \".FirePixels.TotalBeforeWater\", 0);\n    global.set(nonActiveSide[i] + \".FirePixels.TotalAfterWater\", 0);\n\n    // Lights\n    global.set(nonActiveSide[i] + \".Lights.GutterPixels\", \"111111111111111111111111111111\");\n    global.set(nonActiveSide[i] + \".Lights.Window1\", \"OFF\");\n    global.set(nonActiveSide[i] + \".Lights.Window2\", \"OFF\");\n}\n\n//-- Fin\nmsg.payload = activeSide;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1180,
        "y": 3260,
        "wires": [
            [
                "699d455d7e070f7f"
            ]
        ]
    },
    {
        "id": "5c1f40ee35f2a6ca",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "c61a3666d4d9e6cc",
        "name": "Choose PHASE-2 Burning Bldgs",
        "func": "//--- Vars\nvar activeSideChar = global.get(\"droneActiveSide\");\nvar msg1 = {};\nvar msg2 = {};\nvar msg3 = {};\n\n//--- Pickem\nvar whichRouteInt = Math.floor(Math.random() * 2); //returns 0 or 1\nvar whichRouteChar = whichRouteInt == 1 ? \"T\" : \"B\";\nglobal.set(\"startRoute\", whichRouteChar);\nvar bldg1 = activeSideChar + whichRouteChar + \"M\"; //e.g. bldg LTM\nvar bldg2 = activeSideChar + whichRouteChar + \"I\"; //e.g. bldg LTI\nvar bldg3 = activeSideChar + whichRouteChar + \"O\"; //e.g. bldg LTO\n\n//-- Fin\nmsg1.payload = bldg1;\nmsg2.payload = bldg2;\nmsg3.payload = bldg3;\nreturn [msg1, msg2, msg3];\n",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1830,
        "y": 3460,
        "wires": [
            [
                "548ab843aae2f534"
            ],
            [
                "d17f66006ce8e96b"
            ],
            [
                "456bd7cffd256066"
            ]
        ]
    },
    {
        "id": "548ab843aae2f534",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "c61a3666d4d9e6cc",
        "name": "Prep AddFirePix Setter",
        "func": "//--- Set up basic vars\nvar theBldg = msg.payload;\nmsg.payload = {};\n\n/* \nAddFirePix expects:\n- msg.payload.bldg: a node ID\n- msg.payload.numFirePixels: int, the qty FirePixels to add\n*/\nmsg.payload.bldg = theBldg;\nmsg.payload.numFirePixels = 8;\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2080,
        "y": 3420,
        "wires": [
            [
                "b5cf79cc058c8ffa"
            ]
        ]
    },
    {
        "id": "d17f66006ce8e96b",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "c61a3666d4d9e6cc",
        "name": "Prep AddFirePix Setter",
        "func": "//--- Set up basic vars\nvar theBldg = msg.payload;\nmsg.payload = {};\n\n/* \nAddFirePix expects:\n- msg.payload.bldg: a node ID\n- msg.payload.numFirePixels: int, the qty FirePixels to add\n*/\nmsg.payload.bldg = theBldg;\nmsg.payload.numFirePixels = 8;\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2080,
        "y": 3460,
        "wires": [
            [
                "4387cf2f1b40d3b8",
                "a083f800833c1fc5"
            ]
        ]
    },
    {
        "id": "456bd7cffd256066",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "c61a3666d4d9e6cc",
        "name": "Prep AddFirePix Setter",
        "func": "//--- Set up basic vars\nvar theBldg = msg.payload;\nmsg.payload = {};\n\n/* \nAddFirePix expects:\n- msg.payload.bldg: a node ID\n- msg.payload.numFirePixels: int, the qty FirePixels to add\n*/\nmsg.payload.bldg = theBldg;\nmsg.payload.numFirePixels = 8;\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2080,
        "y": 3500,
        "wires": [
            [
                "07ec816b8431f6fe"
            ]
        ]
    },
    {
        "id": "b5cf79cc058c8ffa",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "c61a3666d4d9e6cc",
        "name": "To AddFirePix",
        "mode": "link",
        "links": [
            "dc1d674e61de820d"
        ],
        "x": 2225,
        "y": 3420,
        "wires": []
    },
    {
        "id": "4387cf2f1b40d3b8",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "c61a3666d4d9e6cc",
        "name": "To AddFirePix",
        "mode": "link",
        "links": [
            "dc1d674e61de820d"
        ],
        "x": 2225,
        "y": 3460,
        "wires": []
    },
    {
        "id": "07ec816b8431f6fe",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "c61a3666d4d9e6cc",
        "name": "To AddFirePix",
        "mode": "link",
        "links": [
            "dc1d674e61de820d"
        ],
        "x": 2225,
        "y": 3500,
        "wires": []
    },
    {
        "id": "f2fad7a0f61cd56b",
        "type": "delay",
        "z": "55a762ae72fa441b",
        "g": "c61a3666d4d9e6cc",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1190,
        "y": 3460,
        "wires": [
            [
                "c8f44eaa2aa8da46"
            ]
        ]
    },
    {
        "id": "699d455d7e070f7f",
        "type": "loop",
        "z": "55a762ae72fa441b",
        "g": "c61a3666d4d9e6cc",
        "name": "Loop All Bldgs to clear MQTT's",
        "kind": "enum",
        "count": "",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "allBldgs",
        "enumerationType": "global",
        "limit": "",
        "loopPayload": "loop-val",
        "finalPayload": "final-count",
        "x": 1470,
        "y": 3260,
        "wires": [
            [
                "f2fad7a0f61cd56b"
            ],
            [
                "1b937a81ce4637d2"
            ]
        ]
    },
    {
        "id": "1b937a81ce4637d2",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "c61a3666d4d9e6cc",
        "name": "Prep UpdateBldg Setter",
        "func": "//just a passthru\nvar theBldg = msg.payload;\nmsg.payload = theBldg;\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1530,
        "y": 3320,
        "wires": [
            [
                "699d455d7e070f7f",
                "b1d4327dc1405be1"
            ]
        ]
    },
    {
        "id": "b1d4327dc1405be1",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "c61a3666d4d9e6cc",
        "name": "To AddFirePix",
        "mode": "link",
        "links": [
            "1125739b31b22db9"
        ],
        "x": 1695,
        "y": 3320,
        "wires": []
    },
    {
        "id": "983cbe2243285f7b",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "c61a3666d4d9e6cc",
        "name": "This needs to be _after_ the MQTT clear",
        "info": "",
        "x": 1500,
        "y": 3420,
        "wires": []
    },
    {
        "id": "3cd3774d5a3cdd30",
        "type": "switch",
        "z": "55a762ae72fa441b",
        "g": "d1c6977fdede82fe",
        "name": "If still Phase 1",
        "property": "matchPhase",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1460,
        "y": 1600,
        "wires": [
            [
                "28c0d1a50caac549"
            ]
        ]
    },
    {
        "id": "1b35a7773e0b1611",
        "type": "inject",
        "z": "55a762ae72fa441b",
        "g": "c61a3666d4d9e6cc",
        "name": "do",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 3340,
        "wires": [
            [
                "8514de7473cdc63d"
            ]
        ]
    },
    {
        "id": "8514de7473cdc63d",
        "type": "change",
        "z": "55a762ae72fa441b",
        "g": "3c736f3f8fb9049f",
        "name": "set matchPhase = -1",
        "rules": [
            {
                "t": "set",
                "p": "matchPhase",
                "pt": "global",
                "to": "-1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 3280,
        "wires": [
            [
                "2c41d52979a31316"
            ]
        ]
    },
    {
        "id": "35d7842449cc5407",
        "type": "inject",
        "z": "55a762ae72fa441b",
        "g": "3c736f3f8fb9049f",
        "name": "LET'S RAVE",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 390,
        "y": 3340,
        "wires": [
            [
                "2c41d52979a31316"
            ]
        ]
    },
    {
        "id": "2c41d52979a31316",
        "type": "loop",
        "z": "55a762ae72fa441b",
        "g": "3c736f3f8fb9049f",
        "name": "Mini Rave Loop",
        "kind": "fcnt",
        "count": "5",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "enum",
        "enumerationType": "msg",
        "limit": "",
        "loopPayload": "loop-index",
        "finalPayload": "final-count",
        "x": 620,
        "y": 3280,
        "wires": [
            [
                "b6b86c414d386111"
            ],
            [
                "32f4fcba179c05b8",
                "3ad9f59549cfb1c2"
            ]
        ]
    },
    {
        "id": "b6b86c414d386111",
        "type": "delay",
        "z": "55a762ae72fa441b",
        "g": "3c736f3f8fb9049f",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 820,
        "y": 3280,
        "wires": [
            [
                "ae67d29625a11352"
            ]
        ]
    },
    {
        "id": "3ad9f59549cfb1c2",
        "type": "delay",
        "z": "55a762ae72fa441b",
        "g": "3c736f3f8fb9049f",
        "name": "",
        "pauseType": "delay",
        "timeout": "100",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 830,
        "y": 3340,
        "wires": [
            [
                "7960cf867b7e4a78",
                "2c41d52979a31316"
            ]
        ]
    },
    {
        "id": "7960cf867b7e4a78",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "3c736f3f8fb9049f",
        "name": "clap off",
        "mode": "link",
        "links": [
            "48373ebe740e92b6"
        ],
        "x": 985,
        "y": 3340,
        "wires": []
    },
    {
        "id": "32f4fcba179c05b8",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "3c736f3f8fb9049f",
        "name": "clap on",
        "mode": "link",
        "links": [
            "31c4db3eb2f36e59"
        ],
        "x": 775,
        "y": 3400,
        "wires": []
    },
    {
        "id": "9379e4327f29e381",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "3c736f3f8fb9049f",
        "name": "RAVE MODE",
        "info": "",
        "x": 330,
        "y": 3240,
        "wires": []
    },
    {
        "id": "e347d2f3f1d7b867",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "a2191c93ea98c3cd",
        "name": "----------------- First Set of Bldgs -> 2 Windows ----------------- ",
        "info": "",
        "x": 370,
        "y": 3680,
        "wires": []
    },
    {
        "id": "e250e85c9bf3a336",
        "type": "subflow:191a41e1c006a3a3",
        "z": "55a762ae72fa441b",
        "g": "a2191c93ea98c3cd",
        "name": "",
        "x": 510,
        "y": 3760,
        "wires": [
            [
                "c5dde430e853d458"
            ],
            [
                "6033b9343789b08e"
            ]
        ]
    },
    {
        "id": "c5dde430e853d458",
        "type": "ui_text",
        "z": "55a762ae72fa441b",
        "g": "a2191c93ea98c3cd",
        "group": "d5eb4f8c4e11b4ae",
        "order": 1,
        "width": 5,
        "height": 1,
        "name": "",
        "label": "1 -> 2 Wndws:",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 760,
        "y": 3720,
        "wires": []
    },
    {
        "id": "d933fd6ba240e248",
        "type": "link in",
        "z": "55a762ae72fa441b",
        "g": "a2191c93ea98c3cd",
        "name": "Reset Output - Time",
        "links": [
            "9296e95263e5ddc7"
        ],
        "x": 645,
        "y": 3700,
        "wires": [
            [
                "c5dde430e853d458"
            ]
        ]
    },
    {
        "id": "6033b9343789b08e",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "04cf701b8b094633",
        "name": "Build BurningBldgs Array",
        "func": "//--- Vars \nvar allBldgs = global.get(\"allBldgs\");\nvar outBldgs = [];\nvar burnBldgCnt = 0;\n\n//--- Loop through bldgs, look for burning ones\nfor (var i = 0; i < allBldgs.length; i++) { \n    if ((global.get(allBldgs[i] + \".Status\")) == \"Burning\") {\n        outBldgs[burnBldgCnt] = allBldgs[i];\n        burnBldgCnt += 1;\n    }\n}\n\n//--- Fin\n// **** need an error handler if no outBldgs are found?\nmsg.payload = outBldgs;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 3840,
        "wires": [
            [
                "5f46218c00bd82e5"
            ]
        ]
    },
    {
        "id": "49c1d158fff7d9fa",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "04cf701b8b094633",
        "name": "TIME TO BURN",
        "info": "",
        "x": 780,
        "y": 3800,
        "wires": []
    },
    {
        "id": "10aa02afe21c7a24",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "04cf701b8b094633",
        "name": "Prep AddFirePix Setter",
        "func": "//--- Set up basic vars\nvar theBldg = msg.payload;\nmsg.payload = {};\n\n/* \nAddFirePix expects:\n- msg.payload.bldg: a node ID\n- msg.payload.numFirePixels: int, the qty FirePixels to add\n*/\nmsg.payload.bldg = theBldg;\nmsg.payload.numFirePixels = 8;\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1160,
        "y": 3880,
        "wires": [
            [
                "5f254d40c5e8240f",
                "5f46218c00bd82e5"
            ]
        ]
    },
    {
        "id": "5f254d40c5e8240f",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "04cf701b8b094633",
        "name": "To AddFirePix",
        "mode": "link",
        "links": [
            "dc1d674e61de820d"
        ],
        "x": 1325,
        "y": 3880,
        "wires": []
    },
    {
        "id": "5f46218c00bd82e5",
        "type": "loop",
        "z": "55a762ae72fa441b",
        "g": "04cf701b8b094633",
        "name": "Loop Burning Bldgs",
        "kind": "enum",
        "count": "",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "payload",
        "enumerationType": "msg",
        "limit": "",
        "loopPayload": "loop-val",
        "finalPayload": "final-count",
        "x": 1070,
        "y": 3820,
        "wires": [
            [
                "30a41bfa8ece7f07"
            ],
            [
                "10aa02afe21c7a24"
            ]
        ]
    },
    {
        "id": "f58d58c6ba7c9093",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "a2191c93ea98c3cd",
        "name": "=== Phase 2 Burn (Rev CMP)",
        "info": "",
        "x": 240,
        "y": 3620,
        "wires": []
    },
    {
        "id": "0696dfed47787161",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "696338a863cf43dc",
        "name": "Start global.timeElapsed timer",
        "func": "let clock_value_burn = flow.get(\"clock_value_burn\") || 0;\n\nclock_value_burn++; \n\nif (clock_value_burn < 0) clock_value_burn = 0;\n\nflow.set(\"clock_value_burn\", clock_value_burn);\nglobal.set(\"timeElapsed\", clock_value_burn);\n\nmsg.payload = clock_value_burn;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2590,
        "y": 2200,
        "wires": [
            [
                "3e8cddebe9821750"
            ]
        ]
    },
    {
        "id": "3e8cddebe9821750",
        "type": "delay",
        "z": "55a762ae72fa441b",
        "g": "696338a863cf43dc",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2800,
        "y": 2200,
        "wires": [
            [
                "11ab1aaf6ca42a14"
            ]
        ]
    },
    {
        "id": "11ab1aaf6ca42a14",
        "type": "switch",
        "z": "55a762ae72fa441b",
        "g": "696338a863cf43dc",
        "name": "If still phase > 0",
        "property": "matchPhase",
        "propertyType": "global",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2960,
        "y": 2200,
        "wires": [
            [
                "0696dfed47787161",
                "a9936705c3706204"
            ]
        ]
    },
    {
        "id": "90df1a2f47e67002",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "696338a863cf43dc",
        "name": "----------------- \"Global\" timer (at least, until phase goes <= 0)",
        "info": "",
        "x": 2590,
        "y": 2120,
        "wires": []
    },
    {
        "id": "a9936705c3706204",
        "type": "ui_text",
        "z": "55a762ae72fa441b",
        "g": "696338a863cf43dc",
        "group": "f1f13388d5f613e8",
        "order": 5,
        "width": 10,
        "height": 1,
        "name": "",
        "label": "Time Elapsed:",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 3160,
        "y": 2180,
        "wires": []
    },
    {
        "id": "6494ec07de55a20b",
        "type": "link in",
        "z": "55a762ae72fa441b",
        "g": "696338a863cf43dc",
        "name": "Reset Output - Time",
        "links": [
            "9296e95263e5ddc7"
        ],
        "x": 3035,
        "y": 2140,
        "wires": [
            [
                "a9936705c3706204"
            ]
        ]
    },
    {
        "id": "ad244be403c702a2",
        "type": "link in",
        "z": "55a762ae72fa441b",
        "g": "696338a863cf43dc",
        "name": "Kickstart the Timer",
        "links": [
            "a360df724bcd3f11",
            "8129aa3f03a57ebd"
        ],
        "x": 2405,
        "y": 2200,
        "wires": [
            [
                "0696dfed47787161"
            ]
        ]
    },
    {
        "id": "a360df724bcd3f11",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "325d6a9e63d4c375",
        "name": "To the Global Timer",
        "mode": "link",
        "links": [
            "ad244be403c702a2"
        ],
        "x": 525,
        "y": 2040,
        "wires": []
    },
    {
        "id": "b0e7c4943b7665f1",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "325d6a9e63d4c375",
        "name": "Start the Timer",
        "info": "",
        "x": 640,
        "y": 2040,
        "wires": []
    },
    {
        "id": "dad89c1138e7e4f8",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "c61a3666d4d9e6cc",
        "name": "Start the Timer",
        "info": "",
        "x": 1780,
        "y": 3520,
        "wires": []
    },
    {
        "id": "8129aa3f03a57ebd",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "c61a3666d4d9e6cc",
        "name": "To the Global Timer",
        "mode": "link",
        "links": [
            "ad244be403c702a2"
        ],
        "x": 1665,
        "y": 3520,
        "wires": []
    },
    {
        "id": "42684de7c516bf79",
        "type": "ui_text",
        "z": "55a762ae72fa441b",
        "g": "a2191c93ea98c3cd",
        "group": "d5eb4f8c4e11b4ae",
        "order": 2,
        "width": 5,
        "height": 1,
        "name": "",
        "label": "Second Bldgs:",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 760,
        "y": 4000,
        "wires": []
    },
    {
        "id": "b345dbc959763a12",
        "type": "link in",
        "z": "55a762ae72fa441b",
        "g": "a2191c93ea98c3cd",
        "name": "Reset Output - Time",
        "links": [
            "9296e95263e5ddc7"
        ],
        "x": 645,
        "y": 3980,
        "wires": [
            [
                "42684de7c516bf79"
            ]
        ]
    },
    {
        "id": "30a41bfa8ece7f07",
        "type": "subflow:191a41e1c006a3a3",
        "z": "55a762ae72fa441b",
        "g": "a2191c93ea98c3cd",
        "name": "",
        "x": 510,
        "y": 4040,
        "wires": [
            [
                "42684de7c516bf79"
            ],
            [
                "50fc3a4577acd26a"
            ]
        ]
    },
    {
        "id": "50fc3a4577acd26a",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "c0996267b091c9c3",
        "name": "Build Array of New Bldgs",
        "func": "//--- Vars \nvar theSide = global.get(\"droneActiveSide\"); // e.g. \"L\"\nvar theRoute = global.get(\"startRoute\") == \"B\" ? \"T\" : \"B\";  // switch B and T\nvar outBldgs = [];\n\n//--- Build bldgs\noutBldgs[0] = theSide + theRoute + \"I\"; // e.g. \"LBI\"\noutBldgs[1] = theSide + theRoute + \"M\"; // e.g. \"LBM\"\noutBldgs[2] = theSide + theRoute + \"O\"; // e.g. \"LBO\"\n\n//--- Fin\nmsg.payload = outBldgs;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 4120,
        "wires": [
            [
                "4754a91b730752ea"
            ]
        ]
    },
    {
        "id": "3dd0f9c6f6793cd4",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "c0996267b091c9c3",
        "name": "TIME TO BURN",
        "info": "",
        "x": 780,
        "y": 4080,
        "wires": []
    },
    {
        "id": "a18a60b81152208f",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "c0996267b091c9c3",
        "name": "Prep AddFirePix Setter",
        "func": "//--- Set up basic vars\nvar theBldg = msg.payload;\nmsg.payload = {};\n\n/* \nAddFirePix expects:\n- msg.payload.bldg: a node ID\n- msg.payload.numFirePixels: int, the qty FirePixels to add\n*/\nmsg.payload.bldg = theBldg;\nmsg.payload.numFirePixels = 8;\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1160,
        "y": 4160,
        "wires": [
            [
                "580da0b3754a5818",
                "4754a91b730752ea"
            ]
        ]
    },
    {
        "id": "580da0b3754a5818",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "c0996267b091c9c3",
        "name": "To AddFirePix",
        "mode": "link",
        "links": [
            "dc1d674e61de820d"
        ],
        "x": 1325,
        "y": 4160,
        "wires": []
    },
    {
        "id": "4754a91b730752ea",
        "type": "loop",
        "z": "55a762ae72fa441b",
        "g": "c0996267b091c9c3",
        "name": "Loop Burning Bldgs",
        "kind": "enum",
        "count": "",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "payload",
        "enumerationType": "msg",
        "limit": "",
        "loopPayload": "loop-val",
        "finalPayload": "final-count",
        "x": 1070,
        "y": 4100,
        "wires": [
            [
                "dc03f1f4c896cdb8"
            ],
            [
                "a18a60b81152208f"
            ]
        ]
    },
    {
        "id": "c5549d2580877907",
        "type": "ui_text",
        "z": "55a762ae72fa441b",
        "g": "a2191c93ea98c3cd",
        "group": "d5eb4f8c4e11b4ae",
        "order": 3,
        "width": "10",
        "height": 1,
        "name": "",
        "label": "Second Bldgs -> 2 Wndws:",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 800,
        "y": 4280,
        "wires": []
    },
    {
        "id": "f261d268c894a2ab",
        "type": "link in",
        "z": "55a762ae72fa441b",
        "g": "a2191c93ea98c3cd",
        "name": "Reset Output - Time",
        "links": [
            "9296e95263e5ddc7"
        ],
        "x": 645,
        "y": 4260,
        "wires": [
            [
                "c5549d2580877907"
            ]
        ]
    },
    {
        "id": "dc03f1f4c896cdb8",
        "type": "subflow:191a41e1c006a3a3",
        "z": "55a762ae72fa441b",
        "g": "a2191c93ea98c3cd",
        "name": "",
        "x": 510,
        "y": 4320,
        "wires": [
            [
                "c5549d2580877907"
            ],
            [
                "6df3e0114ac85fee"
            ]
        ]
    },
    {
        "id": "6df3e0114ac85fee",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "914422360e75360c",
        "name": "Build Array of 2nd Bldgs",
        "func": "//--- Vars \nvar theSide = global.get(\"droneActiveSide\"); // e.g. \"L\"\nvar theRoute = global.get(\"startRoute\") == \"B\" ? \"T\" : \"B\";  // switch B and T\nvar outBldgs = [];\nvar i = 0;\n\n//--- Check if 2nd wave bldgs are still burning\nvar bldg1 = theSide + theRoute + \"I\"; // e.g. \"LBI\"\nvar bldg2 = theSide + theRoute + \"M\"; // e.g. \"LBM\"\nvar bldg3 = theSide + theRoute + \"O\"; // e.g. \"LBM\"\n\nif (global.get(bldg1 + \".Status\") == \"Burning\") {\n    outBldgs[i] = bldg1;\n    i++;\n}\nif (global.get(bldg2 + \".Status\") == \"Burning\") {\n    outBldgs[i] = bldg2;\n    i++;\n}\nif (global.get(bldg3 + \".Status\") == \"Burning\") {\n    outBldgs[i] = bldg3;\n    i++;\n}\n\n//--- Fin\nmsg.payload = outBldgs;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 4400,
        "wires": [
            [
                "4e2f97a180d92ce0"
            ]
        ]
    },
    {
        "id": "04054f448cd23fc4",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "914422360e75360c",
        "name": "TIME TO BURN",
        "info": "",
        "x": 780,
        "y": 4360,
        "wires": []
    },
    {
        "id": "83118ebca9e0405b",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "914422360e75360c",
        "name": "Prep AddFirePix Setter",
        "func": "//--- Set up basic vars\nvar theBldg = msg.payload;\nmsg.payload = {};\n\n/* \nAddFirePix expects:\n- msg.payload.bldg: a node ID\n- msg.payload.numFirePixels: int, the qty FirePixels to add\n*/\nmsg.payload.bldg = theBldg;\nmsg.payload.numFirePixels = 8;\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1160,
        "y": 4440,
        "wires": [
            [
                "d2fe120e88698aeb",
                "4e2f97a180d92ce0"
            ]
        ]
    },
    {
        "id": "d2fe120e88698aeb",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "914422360e75360c",
        "name": "To AddFirePix",
        "mode": "link",
        "links": [
            "dc1d674e61de820d"
        ],
        "x": 1325,
        "y": 4440,
        "wires": []
    },
    {
        "id": "4e2f97a180d92ce0",
        "type": "loop",
        "z": "55a762ae72fa441b",
        "g": "914422360e75360c",
        "name": "Loop Burning Bldgs",
        "kind": "enum",
        "count": "",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "payload",
        "enumerationType": "msg",
        "limit": "",
        "loopPayload": "loop-val",
        "finalPayload": "final-count",
        "x": 1070,
        "y": 4380,
        "wires": [
            [],
            [
                "83118ebca9e0405b"
            ]
        ]
    },
    {
        "id": "244d4b05f8a5b661",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "661aa04cb7a21daf",
        "name": "=== Phase 3 (Rev CMP)",
        "info": "",
        "x": 190,
        "y": 4580,
        "wires": []
    },
    {
        "id": "a77816d2d55d2269",
        "type": "change",
        "z": "55a762ae72fa441b",
        "g": "661aa04cb7a21daf",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "matchPhase",
                "pt": "global",
                "to": "3",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1440,
        "y": 4880,
        "wires": [
            [
                "fdce46b507084b4f"
            ]
        ]
    },
    {
        "id": "4ecb30f2fa83e7d5",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "661aa04cb7a21daf",
        "name": "Set PHASE-3 Globals",
        "func": "node.warn(\"============== PREPPING PHASE 3 =============\");\n\n// --- NO sides\nglobal.set(\"droneActiveSide\", \"ENDGAME\");\nglobal.set(\"droneNonActiveSide\", \"ENDGAME\");\n\n// --- Loop all bldgs, make sure they're clear and outta here\nvar allBldgs = global.get(\"allBldgs\");\nfor (var i in allBldgs) {\n    // Status\n    global.set(allBldgs[i] + \".Status\", \"ENDGAME\");\n\n    // Fire scores \n    global.set(allBldgs[i] + \".FS.Total\", 0);\n    global.set(allBldgs[i] + \".FirePixels.TotalBeforeWater\",0);\n    global.set(allBldgs[i] + \".FirePixels.TotalAfterWater\", 0);\n    \n    // Lights\n    global.set(allBldgs[i] + \".Lights.GutterPixels\", \"000000000000000000000000000000\");\n    global.set(allBldgs[i] + \".Lights.Window1\", \"OFF\");\n    global.set(allBldgs[i] + \".Lights.Window2\", \"OFF\");\n\n    // Water qtys - int\n    global.set(allBldgs[i] + \".WaterQty\", 0);\n}\n\n//-- Fin\nmsg.payload = allBldgs;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1180,
        "y": 4680,
        "wires": [
            [
                "30dec06ecdfd023b"
            ]
        ]
    },
    {
        "id": "ecbe93f38efb9fef",
        "type": "delay",
        "z": "55a762ae72fa441b",
        "g": "661aa04cb7a21daf",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1190,
        "y": 4880,
        "wires": [
            [
                "a77816d2d55d2269"
            ]
        ]
    },
    {
        "id": "30dec06ecdfd023b",
        "type": "loop",
        "z": "55a762ae72fa441b",
        "g": "661aa04cb7a21daf",
        "name": "Loop All Bldgs to clear MQTT's",
        "kind": "enum",
        "count": "",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "allBldgs",
        "enumerationType": "global",
        "limit": "",
        "loopPayload": "loop-val",
        "finalPayload": "final-count",
        "x": 1470,
        "y": 4680,
        "wires": [
            [
                "ecbe93f38efb9fef"
            ],
            [
                "6bb90e49f6dd6579"
            ]
        ]
    },
    {
        "id": "6bb90e49f6dd6579",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "661aa04cb7a21daf",
        "name": "Prep UpdateBldg Setter",
        "func": "//just a passthru\nvar theBldg = msg.payload;\nmsg.payload = theBldg;\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1530,
        "y": 4740,
        "wires": [
            [
                "30dec06ecdfd023b",
                "56af08aa5b3e0733"
            ]
        ]
    },
    {
        "id": "56af08aa5b3e0733",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "661aa04cb7a21daf",
        "name": "To AddFirePix",
        "mode": "link",
        "links": [
            "1125739b31b22db9"
        ],
        "x": 1695,
        "y": 4740,
        "wires": []
    },
    {
        "id": "e0a3a06def398ebe",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "661aa04cb7a21daf",
        "name": "This needs to be _after_ the MQTT clear",
        "info": "",
        "x": 1500,
        "y": 4840,
        "wires": []
    },
    {
        "id": "8f5501eb7723b27a",
        "type": "inject",
        "z": "55a762ae72fa441b",
        "g": "661aa04cb7a21daf",
        "name": "do",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 4760,
        "wires": [
            [
                "b4298b54f0fedfd1"
            ]
        ]
    },
    {
        "id": "b4298b54f0fedfd1",
        "type": "change",
        "z": "55a762ae72fa441b",
        "g": "93b41a186984a67e",
        "name": "set matchPhase = -1",
        "rules": [
            {
                "t": "set",
                "p": "matchPhase",
                "pt": "global",
                "to": "-1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 4700,
        "wires": [
            [
                "88a6bd1c878e3fef"
            ]
        ]
    },
    {
        "id": "17efe76a856eadfe",
        "type": "inject",
        "z": "55a762ae72fa441b",
        "g": "93b41a186984a67e",
        "name": "LET'S RAVE",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 390,
        "y": 4760,
        "wires": [
            [
                "88a6bd1c878e3fef"
            ]
        ]
    },
    {
        "id": "88a6bd1c878e3fef",
        "type": "loop",
        "z": "55a762ae72fa441b",
        "g": "93b41a186984a67e",
        "name": "Mini Rave Loop",
        "kind": "fcnt",
        "count": "5",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "enum",
        "enumerationType": "msg",
        "limit": "",
        "loopPayload": "loop-index",
        "finalPayload": "final-count",
        "x": 620,
        "y": 4700,
        "wires": [
            [
                "81693e58d454fce2"
            ],
            [
                "309dc99dff061d40",
                "86621e1005278448"
            ]
        ]
    },
    {
        "id": "81693e58d454fce2",
        "type": "delay",
        "z": "55a762ae72fa441b",
        "g": "93b41a186984a67e",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 820,
        "y": 4700,
        "wires": [
            [
                "4ecb30f2fa83e7d5"
            ]
        ]
    },
    {
        "id": "86621e1005278448",
        "type": "delay",
        "z": "55a762ae72fa441b",
        "g": "93b41a186984a67e",
        "name": "",
        "pauseType": "delay",
        "timeout": "100",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 830,
        "y": 4760,
        "wires": [
            [
                "3101ced9397172da",
                "88a6bd1c878e3fef"
            ]
        ]
    },
    {
        "id": "3101ced9397172da",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "93b41a186984a67e",
        "name": "clap off",
        "mode": "link",
        "links": [
            "48373ebe740e92b6"
        ],
        "x": 985,
        "y": 4760,
        "wires": []
    },
    {
        "id": "309dc99dff061d40",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "93b41a186984a67e",
        "name": "clap on",
        "mode": "link",
        "links": [
            "31c4db3eb2f36e59"
        ],
        "x": 775,
        "y": 4820,
        "wires": []
    },
    {
        "id": "f706ca3c8999dcb1",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "93b41a186984a67e",
        "name": "RAVE MODE",
        "info": "",
        "x": 330,
        "y": 4660,
        "wires": []
    },
    {
        "id": "53fea78f00015603",
        "type": "link in",
        "z": "55a762ae72fa441b",
        "g": "661aa04cb7a21daf",
        "name": "Time for Phase 3 (CMP)",
        "links": [
            "8149df671154d345"
        ],
        "x": 125,
        "y": 4680,
        "wires": [
            [
                "b4298b54f0fedfd1"
            ]
        ]
    },
    {
        "id": "0a6864fb4c9b42f4",
        "type": "switch",
        "z": "55a762ae72fa441b",
        "g": "f4b953e583c4193d",
        "name": "Which Phase",
        "property": "matchPhase",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 3090,
        "y": 1940,
        "wires": [
            [
                "7e6d1d3441627a31"
            ],
            [
                "8149df671154d345"
            ]
        ]
    },
    {
        "id": "8149df671154d345",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "f4b953e583c4193d",
        "name": "GOTO Phase 3 (CMP)",
        "mode": "link",
        "links": [
            "53fea78f00015603"
        ],
        "x": 3235,
        "y": 1960,
        "wires": []
    },
    {
        "id": "8034e63b9a0a6a07",
        "type": "link in",
        "z": "55a762ae72fa441b",
        "g": "a2191c93ea98c3cd",
        "name": "Start Phase 2 Burn",
        "links": [
            "a083f800833c1fc5"
        ],
        "x": 325,
        "y": 3760,
        "wires": [
            [
                "e250e85c9bf3a336"
            ]
        ]
    },
    {
        "id": "f770371e8cd2e3c8",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "a2191c93ea98c3cd",
        "name": "----------------- Second Set of Bldgs ---------------- ",
        "info": "",
        "x": 330,
        "y": 3980,
        "wires": []
    },
    {
        "id": "834a4d8218917cc2",
        "type": "comment",
        "z": "55a762ae72fa441b",
        "g": "a2191c93ea98c3cd",
        "name": "----------------- Second Set of Bldgs -> 2 Windows ---------------- ",
        "info": "",
        "x": 380,
        "y": 4280,
        "wires": []
    },
    {
        "id": "a083f800833c1fc5",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "c61a3666d4d9e6cc",
        "name": "To Phase 2 Burn",
        "mode": "link",
        "links": [
            "8034e63b9a0a6a07"
        ],
        "x": 2305,
        "y": 3460,
        "wires": []
    },
    {
        "id": "fdce46b507084b4f",
        "type": "loop",
        "z": "55a762ae72fa441b",
        "g": "661aa04cb7a21daf",
        "name": "Loop All Bldgs",
        "kind": "enum",
        "count": "",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "allBldgs",
        "enumerationType": "global",
        "limit": "",
        "loopPayload": "loop-val",
        "finalPayload": "final-count",
        "x": 1760,
        "y": 4880,
        "wires": [
            [],
            [
                "a75cdd2e2fc7e9a8"
            ]
        ]
    },
    {
        "id": "a75cdd2e2fc7e9a8",
        "type": "function",
        "z": "55a762ae72fa441b",
        "g": "661aa04cb7a21daf",
        "name": "Prep AddFirePix Setter",
        "func": "//--- Set up basic vars\nvar theBldg = msg.payload;\nmsg.payload = {};\n\n/* \nAddFirePix expects:\n- msg.payload.bldg: a node ID\n- msg.payload.numFirePixels: int, the qty FirePixels to add\n*/\nmsg.payload.bldg = theBldg;\nmsg.payload.numFirePixels = 16;\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1840,
        "y": 4920,
        "wires": [
            [
                "408240b3888622ce",
                "fdce46b507084b4f"
            ]
        ]
    },
    {
        "id": "408240b3888622ce",
        "type": "link out",
        "z": "55a762ae72fa441b",
        "g": "661aa04cb7a21daf",
        "name": "To AddFirePix",
        "mode": "link",
        "links": [
            "dc1d674e61de820d"
        ],
        "x": 2015,
        "y": 4920,
        "wires": []
    },
    {
        "id": "0bb4f2dd1a0c4bda",
        "type": "comment",
        "z": "175af8efcea2d591",
        "g": "2ac942eccf98a996",
        "name": "Main Table",
        "info": "",
        "x": 180,
        "y": 100,
        "wires": []
    },
    {
        "id": "8ddea564d172bf3f",
        "type": "ui_table",
        "z": "175af8efcea2d591",
        "g": "2ac942eccf98a996",
        "group": "ee9886ff6322a456",
        "name": "Bldg Statuses",
        "order": 6,
        "width": 12,
        "height": 7,
        "columns": [],
        "outputs": 0,
        "cts": false,
        "x": 700,
        "y": 240,
        "wires": []
    },
    {
        "id": "171f62c6c1563726",
        "type": "function",
        "z": "175af8efcea2d591",
        "g": "2ac942eccf98a996",
        "name": "Build BldgStatus Table Array",
        "func": "//vars \nvar bldgs = [\"RTO\", \"RBO\", \"RTM\", \"RBM\", \"RTI\", \"RBI\", \"LBO\", \"LTO\", \"LBM\", \"LTM\", \"LBI\", \"LTI\"];\nvar theArr = [];\n\n// do the loop, get the globals\nfor (var i=0; i < bldgs.length; i++) { \n    theArr.push({\n        \"Bldg\": bldgs[i],\n        \"Status\": global.get(bldgs[i]+\".Status\"),\n        \"Win1\": global.get(bldgs[i] + \".Lights.Window1\"),\n        \"Win2\": global.get(bldgs[i] + \".Lights.Window2\"),\n        \"Pre\": global.get(bldgs[i] + \".FirePixels.TotalBeforeWater\"),\n        \"H2O\": global.get(bldgs[i] + \".WaterQty\"),\n        \"Post\": global.get(bldgs[i] + \".FirePixels.TotalAfterWater\"),\n        \"FS\": global.get(bldgs[i] + \".FS.Total\"),\n    });\n}\n//node.warn(theArr);\n\n//fin\nmsg.payload = theArr;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 240,
        "wires": [
            [
                "8ddea564d172bf3f"
            ]
        ]
    },
    {
        "id": "05cbae4faf594123",
        "type": "ui_table",
        "z": "175af8efcea2d591",
        "g": "2ac942eccf98a996",
        "group": "ee9886ff6322a456",
        "name": "GutterPixels",
        "order": 7,
        "width": 10,
        "height": 7,
        "columns": [
            {
                "field": "Bldg",
                "title": "Bldg",
                "width": "20%",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "GutterPixels",
                "title": "GutterPixels",
                "width": "",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            }
        ],
        "outputs": 0,
        "cts": false,
        "x": 710,
        "y": 300,
        "wires": []
    },
    {
        "id": "deaae49be7b573b0",
        "type": "function",
        "z": "175af8efcea2d591",
        "g": "2ac942eccf98a996",
        "name": "Build GutterPixels Table Array",
        "func": "//vars \nvar bldgs = [\"RTO\", \"RBO\", \"RTM\", \"RBM\", \"RTI\", \"RBI\", \"LBO\", \"LTO\", \"LBM\", \"LTM\", \"LBI\", \"LTI\"];\nvar theArr = [];\n\n// do the loop, get the globals\nfor (var i=0; i < bldgs.length; i++) { \n    theArr.push({\n        \"Bldg\": bldgs[i],\n        \"GutterPixels\": global.get(bldgs[i]+\".Lights.GutterPixels\")\n    });\n}\n//node.warn(theArr);\n\n//fin\nmsg.payload = theArr;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 300,
        "wires": [
            [
                "05cbae4faf594123"
            ]
        ]
    },
    {
        "id": "892376e5bd117bc9",
        "type": "ui_button",
        "z": "175af8efcea2d591",
        "g": "2ac942eccf98a996",
        "name": "",
        "group": "ee9886ff6322a456",
        "order": 3,
        "width": 6,
        "height": 1,
        "passthru": true,
        "label": "Refresh",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 240,
        "y": 260,
        "wires": [
            [
                "171f62c6c1563726",
                "deaae49be7b573b0"
            ]
        ]
    },
    {
        "id": "2c36544f165ecf61",
        "type": "comment",
        "z": "175af8efcea2d591",
        "g": "738dc520034f11a7",
        "name": "Overall Scoring Summaries",
        "info": "",
        "x": 230,
        "y": 500,
        "wires": []
    },
    {
        "id": "09e1bb987f6fc783",
        "type": "ui_switch",
        "z": "175af8efcea2d591",
        "g": "b16460b067e3329b",
        "name": "",
        "label": "Auto-Refresh",
        "tooltip": "",
        "group": "ee9886ff6322a456",
        "order": 5,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 1050,
        "y": 140,
        "wires": [
            [
                "318fd2d140ad472a"
            ]
        ]
    },
    {
        "id": "318fd2d140ad472a",
        "type": "trigger",
        "z": "175af8efcea2d591",
        "g": "b16460b067e3329b",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "-500",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "false",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1240,
        "y": 140,
        "wires": [
            [
                "46514258ddd5880b"
            ]
        ]
    },
    {
        "id": "46514258ddd5880b",
        "type": "link out",
        "z": "175af8efcea2d591",
        "g": "b16460b067e3329b",
        "name": "so refreshing",
        "mode": "link",
        "links": [
            "bb41b3b3cc7b681d",
            "cc34e7492d373681",
            "af9851791b431668",
            "ab0f710e6dfb6139",
            "8dd1f8659cf326c1",
            "bf19941135fa14cc",
            "d2abd74f26efbe3f",
            "335c51185ed320a8",
            "8eb7370a2855c7d3"
        ],
        "x": 1375,
        "y": 140,
        "wires": []
    },
    {
        "id": "e9c6866ca0db7662",
        "type": "comment",
        "z": "175af8efcea2d591",
        "g": "b16460b067e3329b",
        "name": "Status config",
        "info": "",
        "x": 990,
        "y": 100,
        "wires": []
    },
    {
        "id": "cc34e7492d373681",
        "type": "link in",
        "z": "175af8efcea2d591",
        "g": "2ac942eccf98a996",
        "name": "Hit the refresh btn",
        "links": [
            "46514258ddd5880b"
        ],
        "x": 135,
        "y": 260,
        "wires": [
            [
                "892376e5bd117bc9"
            ]
        ]
    },
    {
        "id": "bb41b3b3cc7b681d",
        "type": "link in",
        "z": "175af8efcea2d591",
        "g": "738dc520034f11a7",
        "name": "build the summary table",
        "links": [
            "46514258ddd5880b"
        ],
        "x": 185,
        "y": 540,
        "wires": [
            [
                "02424c99509bf97f"
            ]
        ]
    },
    {
        "id": "4f56704568189cfc",
        "type": "ui_text",
        "z": "175af8efcea2d591",
        "g": "738dc520034f11a7",
        "group": "1e4da6b2e1809214",
        "order": 1,
        "width": 5,
        "height": 1,
        "name": "",
        "label": "Total FS",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 600,
        "y": 540,
        "wires": []
    },
    {
        "id": "02424c99509bf97f",
        "type": "function",
        "z": "175af8efcea2d591",
        "g": "738dc520034f11a7",
        "name": "Calc total FS",
        "func": "/* \n===== OBSOLETE METHOD ======\n\n// --- Set up vars\nvar bldgs = [\"RTO\", \"RBO\", \"RTM\", \"RBM\", \"RTI\", \"RBI\", \"LBO\", \"LTO\", \"LBM\", \"LTM\", \"LBI\", \"LTI\"];\nvar theTotalFS = 0;\n\n// --- Loop through all buildings, add up total FS\nfor (var i in bldgs) {\n    var thePixels = global.get(bldgs[i]+\".Lights.GutterPixels\");\n    \n    for (var j=0; j<30; j++) {\n        if(thePixels.charAt(j) == \"3\" || thePixels.charAt(j) == \"4\") {\n            theTotalFS += 1;\n        }\n    }\n}\n*/\n\n//--- Vars\nvar allBldgs = global.get(\"allBldgs\");\nvar totalFS = 0;\n\n// --- Loop through all buildings, add up total FS\nfor (var i in allBldgs) {\n    totalFS += global.get(allBldgs[i] + \".FS.Total\");\n}\n\n// Fin\nglobal.set(\"totalFS\",totalFS);\nmsg.payload = totalFS;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 540,
        "wires": [
            [
                "4f56704568189cfc"
            ]
        ]
    },
    {
        "id": "8dd1f8659cf326c1",
        "type": "link in",
        "z": "175af8efcea2d591",
        "g": "738dc520034f11a7",
        "name": "build the summary table",
        "links": [
            "46514258ddd5880b"
        ],
        "x": 185,
        "y": 600,
        "wires": [
            [
                "931aa0aecec7203f"
            ]
        ]
    },
    {
        "id": "931aa0aecec7203f",
        "type": "function",
        "z": "175af8efcea2d591",
        "g": "738dc520034f11a7",
        "name": "Calc Fire CLEAR Score",
        "func": "var theClearScore = 0;\n\n// --- Invert the totalFS based on which phase\n// Assumes that after passing each phase, you get the full 48 \n// Phase 3 is doubled because game\nswitch (global.get(\"matchPhase\")) {\n    case 1:\n        theClearScore = 48 - global.get(\"totalFS\");\n        break;\n    case 2:\n        theClearScore = 48 + (48 - global.get(\"totalFS\"));\n        break;\n    case 3:\n        theClearScore = 48 + 48 + (96 - global.get(\"totalFS\"));\n        break;\n    default:\n        break;\n}\n\n\n/* === OBSOLETE === GOING TO REPLACE THIS WITH \"ADDITIONAL SCORES'\"\n// bandaids on bandaids math wheeee\ntheClearScore = Math.floor(theClearScore / 2);\ntheClearScore = theClearScore + global.get(\"trees-left-1\") + global.get(\"trees-left-2\") + global.get(\"trees-right-1\") + global.get(\"trees-right-2\");\n*/ \n\n//node.warn(theClearScore);\n\n// - Fin\nglobal.set(\"totalFCS\",theClearScore);\nmsg.payload = theClearScore;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 600,
        "wires": [
            [
                "ba9de4c0d6c59f58"
            ]
        ]
    },
    {
        "id": "ba9de4c0d6c59f58",
        "type": "ui_text",
        "z": "175af8efcea2d591",
        "g": "738dc520034f11a7",
        "group": "1e4da6b2e1809214",
        "order": 3,
        "width": 5,
        "height": 1,
        "name": "",
        "label": "Total FCS",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 600,
        "y": 600,
        "wires": []
    },
    {
        "id": "335c51185ed320a8",
        "type": "link in",
        "z": "175af8efcea2d591",
        "g": "738dc520034f11a7",
        "name": "build the summary table",
        "links": [
            "46514258ddd5880b"
        ],
        "x": 185,
        "y": 660,
        "wires": [
            [
                "c948202a41d32b74"
            ]
        ]
    },
    {
        "id": "c948202a41d32b74",
        "type": "function",
        "z": "175af8efcea2d591",
        "g": "738dc520034f11a7",
        "name": "Calc TREE Scores",
        "func": "//--- Trees\nvar theTreeScore = 0;\ntheTreeScore = global.get(\"otherScores.trees-left-1\") \n    + global.get(\"otherScores.trees-left-2\")\n    + global.get(\"otherScores.trees-right-1\")\n    + global.get(\"otherScores.trees-right-2\");\n\n// - Fin\nglobal.set(\"totalTreeScore\",theTreeScore);\nmsg.payload = theTreeScore;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 660,
        "wires": [
            [
                "e96421f5b1cc5638"
            ]
        ]
    },
    {
        "id": "e96421f5b1cc5638",
        "type": "ui_text",
        "z": "175af8efcea2d591",
        "g": "738dc520034f11a7",
        "group": "1e4da6b2e1809214",
        "order": 5,
        "width": 5,
        "height": 1,
        "name": "",
        "label": "Total Trees",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 610,
        "y": 660,
        "wires": []
    },
    {
        "id": "b2d4ac6f1946502e",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "cb9c0c3b1fe84ccc",
        "name": "",
        "label": "LEFT - 1 (toggle)",
        "tooltip": "",
        "group": "e385e97cb63ad34f",
        "order": 1,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "3",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 230,
        "y": 180,
        "wires": [
            [
                "2c989acbcca096b1",
                "4ff11dd0b666fb48",
                "4088277eb07d1853"
            ]
        ]
    },
    {
        "id": "daaf11927f2a4a8b",
        "type": "comment",
        "z": "d32826a1611e0622",
        "g": "cb9c0c3b1fe84ccc",
        "name": "Trees",
        "info": "",
        "x": 130,
        "y": 80,
        "wires": []
    },
    {
        "id": "2c989acbcca096b1",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "cb9c0c3b1fe84ccc",
        "name": "",
        "label": "LEFT - 2 (display)",
        "tooltip": "",
        "group": "e385e97cb63ad34f",
        "order": 3,
        "width": 5,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "3",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 230,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "4ff11dd0b666fb48",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "cb9c0c3b1fe84ccc",
        "name": "",
        "label": "LEFT - 3 (display)",
        "tooltip": "",
        "group": "e385e97cb63ad34f",
        "order": 5,
        "width": 5,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "3",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 230,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "9a1d6ba86b7f753b",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "cb9c0c3b1fe84ccc",
        "name": "",
        "label": "LEFT - 4 (toggle)",
        "tooltip": "",
        "group": "e385e97cb63ad34f",
        "order": 7,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "3",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 230,
        "y": 380,
        "wires": [
            [
                "8d9d9fd3428aef53",
                "95d5bbb03ba2f1fb",
                "ab91ea138a0ca368"
            ]
        ]
    },
    {
        "id": "95d5bbb03ba2f1fb",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "cb9c0c3b1fe84ccc",
        "name": "",
        "label": "LEFT - 5 (display)",
        "tooltip": "",
        "group": "e385e97cb63ad34f",
        "order": 9,
        "width": 5,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "3",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 230,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "ab91ea138a0ca368",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "cb9c0c3b1fe84ccc",
        "name": "",
        "label": "LEFT - 6 (display)",
        "tooltip": "",
        "group": "e385e97cb63ad34f",
        "order": 11,
        "width": 5,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "3",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 230,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "f437b1f9f5574bab",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "cb9c0c3b1fe84ccc",
        "name": "",
        "label": "RIGHT - 1 (toggle)",
        "tooltip": "",
        "group": "e385e97cb63ad34f",
        "order": 2,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "3",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 730,
        "y": 180,
        "wires": [
            [
                "93a01049a60df5c5",
                "4a3e2edb7b10cecb",
                "af0d6f75fe37452a"
            ]
        ]
    },
    {
        "id": "4a3e2edb7b10cecb",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "cb9c0c3b1fe84ccc",
        "name": "",
        "label": "RIGHT -  2 (display)",
        "tooltip": "",
        "group": "e385e97cb63ad34f",
        "order": 4,
        "width": 5,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "3",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 730,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "af0d6f75fe37452a",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "cb9c0c3b1fe84ccc",
        "name": "",
        "label": "RIGHT - 3 (display)",
        "tooltip": "",
        "group": "e385e97cb63ad34f",
        "order": 6,
        "width": 5,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "3",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 730,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "10f28faa6d606765",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "cb9c0c3b1fe84ccc",
        "name": "",
        "label": "RIGHT - 4 (toggle)",
        "tooltip": "",
        "group": "e385e97cb63ad34f",
        "order": 8,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "3",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 730,
        "y": 380,
        "wires": [
            [
                "7aea2e0d58cee970",
                "dcac314a2015fdf2",
                "48f1b9502311d765"
            ]
        ]
    },
    {
        "id": "dcac314a2015fdf2",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "cb9c0c3b1fe84ccc",
        "name": "",
        "label": "RIGHT - 5 (display)",
        "tooltip": "",
        "group": "e385e97cb63ad34f",
        "order": 10,
        "width": 5,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "3",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 730,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "48f1b9502311d765",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "cb9c0c3b1fe84ccc",
        "name": "",
        "label": "RIGHT - 6 (display)",
        "tooltip": "",
        "group": "e385e97cb63ad34f",
        "order": 12,
        "width": 5,
        "height": 1,
        "passthru": false,
        "decouple": "true",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "3",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 730,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "e43ad99f63876631",
        "type": "comment",
        "z": "d32826a1611e0622",
        "g": "a298e34363e28341",
        "name": "Trenches",
        "info": "",
        "x": 140,
        "y": 580,
        "wires": []
    },
    {
        "id": "f56f220557986020",
        "type": "ui_dropdown",
        "z": "d32826a1611e0622",
        "g": "a298e34363e28341",
        "name": "",
        "label": "RIGHT-T-1",
        "tooltip": "",
        "place": "Select option",
        "group": "13504c5753af441d",
        "order": 2,
        "width": 5,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "OFF",
                "value": "OFF",
                "type": "str"
            },
            {
                "label": "RED (Manual)",
                "value": "RED",
                "type": "str"
            },
            {
                "label": "ORANGE (Auton)",
                "value": "ORANGE",
                "type": "str"
            },
            {
                "label": "GREEN (3bags-Cleared)",
                "value": "GREEN",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 170,
        "y": 640,
        "wires": [
            [
                "8bfbb74c8bd6ea8a"
            ]
        ]
    },
    {
        "id": "d86bd1060551b27a",
        "type": "mqtt out",
        "z": "d32826a1611e0622",
        "g": "a298e34363e28341",
        "name": "",
        "topic": "nodered/updatepixels/RTT",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 860,
        "y": 640,
        "wires": []
    },
    {
        "id": "30048645b24ac102",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "a298e34363e28341",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":0,\"pixels\":\"111111111111111111111111111111\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 600,
        "wires": [
            [
                "d86bd1060551b27a"
            ]
        ]
    },
    {
        "id": "8bfbb74c8bd6ea8a",
        "type": "switch",
        "z": "d32826a1611e0622",
        "g": "a298e34363e28341",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "ORANGE",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "RED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "GREEN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 370,
        "y": 640,
        "wires": [
            [
                "afd6f477655fb67b"
            ],
            [
                "30048645b24ac102"
            ],
            [
                "4184eea9c2f5d0d1"
            ],
            [
                "d13946c0b6d68832"
            ]
        ]
    },
    {
        "id": "4184eea9c2f5d0d1",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "a298e34363e28341",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":0,\"pixels\":\"444444444444444444444444444444\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 640,
        "wires": [
            [
                "d86bd1060551b27a"
            ]
        ]
    },
    {
        "id": "d13946c0b6d68832",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "a298e34363e28341",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":0,\"pixels\":\"000000000000000000000000000000\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 680,
        "wires": [
            [
                "d86bd1060551b27a"
            ]
        ]
    },
    {
        "id": "6d58716da651f98b",
        "type": "comment",
        "z": "d32826a1611e0622",
        "g": "821639e23b06e8b7",
        "name": "Trenches",
        "info": "",
        "x": 140,
        "y": 800,
        "wires": []
    },
    {
        "id": "5858556980b0d246",
        "type": "ui_dropdown",
        "z": "d32826a1611e0622",
        "g": "821639e23b06e8b7",
        "name": "",
        "label": "RIGHT-T-2",
        "tooltip": "",
        "place": "Select option",
        "group": "13504c5753af441d",
        "order": 4,
        "width": 5,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "OFF",
                "value": "OFF",
                "type": "str"
            },
            {
                "label": "RED (Manual)",
                "value": "RED",
                "type": "str"
            },
            {
                "label": "GREEN (3bags-Cleared)",
                "value": "GREEN",
                "type": "str"
            },
            {
                "label": "ORANGE (Auton)",
                "value": "ORANGE",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 170,
        "y": 860,
        "wires": [
            [
                "616bbcb4c232933c"
            ]
        ]
    },
    {
        "id": "056679311fed702a",
        "type": "mqtt out",
        "z": "d32826a1611e0622",
        "g": "821639e23b06e8b7",
        "name": "",
        "topic": "nodered/updatepixels/RTT",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 860,
        "y": 860,
        "wires": []
    },
    {
        "id": "e7798a49af21c28b",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "821639e23b06e8b7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":1,\"pixels\":\"111111111111111111111111111111\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 820,
        "wires": [
            [
                "056679311fed702a"
            ]
        ]
    },
    {
        "id": "616bbcb4c232933c",
        "type": "switch",
        "z": "d32826a1611e0622",
        "g": "821639e23b06e8b7",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "RED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "GREEN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ORANGE",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 370,
        "y": 860,
        "wires": [
            [
                "e7798a49af21c28b"
            ],
            [
                "1a2852c276803a8e"
            ],
            [
                "78ddbf57592be916"
            ],
            [
                "3e1b0163bae2fa11"
            ]
        ]
    },
    {
        "id": "1a2852c276803a8e",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "821639e23b06e8b7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":1,\"pixels\":\"444444444444444444444444444444\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 860,
        "wires": [
            [
                "056679311fed702a"
            ]
        ]
    },
    {
        "id": "78ddbf57592be916",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "821639e23b06e8b7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":1,\"pixels\":\"000000000000000000000000000000\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 900,
        "wires": [
            [
                "056679311fed702a"
            ]
        ]
    },
    {
        "id": "50226fe53fcc9e70",
        "type": "comment",
        "z": "d32826a1611e0622",
        "g": "b00a1e1bf34b7a99",
        "name": "Trenches",
        "info": "",
        "x": 140,
        "y": 1060,
        "wires": []
    },
    {
        "id": "ceb849d3a15ac63a",
        "type": "ui_dropdown",
        "z": "d32826a1611e0622",
        "g": "b00a1e1bf34b7a99",
        "name": "",
        "label": "RIGHT-B-1",
        "tooltip": "",
        "place": "Select option",
        "group": "13504c5753af441d",
        "order": 6,
        "width": 5,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "OFF",
                "value": "OFF",
                "type": "str"
            },
            {
                "label": "RED (Manual)",
                "value": "RED",
                "type": "str"
            },
            {
                "label": "GREEN (3bags-Cleared)",
                "value": "GREEN",
                "type": "str"
            },
            {
                "label": "ORANGE (Auton)",
                "value": "ORANGE",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 170,
        "y": 1120,
        "wires": [
            [
                "a983ca068023543c"
            ]
        ]
    },
    {
        "id": "11600c0e200f8b48",
        "type": "mqtt out",
        "z": "d32826a1611e0622",
        "g": "b00a1e1bf34b7a99",
        "name": "",
        "topic": "nodered/updatepixels/RTT",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 860,
        "y": 1120,
        "wires": []
    },
    {
        "id": "68487416aabe8f57",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "b00a1e1bf34b7a99",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":2,\"pixels\":\"111111111111111111111111111111\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1080,
        "wires": [
            [
                "11600c0e200f8b48"
            ]
        ]
    },
    {
        "id": "a983ca068023543c",
        "type": "switch",
        "z": "d32826a1611e0622",
        "g": "b00a1e1bf34b7a99",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "RED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "GREEN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ORANGE",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 370,
        "y": 1120,
        "wires": [
            [
                "68487416aabe8f57"
            ],
            [
                "23d2a4ca3438a190"
            ],
            [
                "0f5c26b8f9c0e8fb"
            ],
            [
                "5a7f6afebccd7fa7"
            ]
        ]
    },
    {
        "id": "23d2a4ca3438a190",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "b00a1e1bf34b7a99",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":2,\"pixels\":\"444444444444444444444444444444\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1120,
        "wires": [
            [
                "11600c0e200f8b48"
            ]
        ]
    },
    {
        "id": "0f5c26b8f9c0e8fb",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "b00a1e1bf34b7a99",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":2,\"pixels\":\"000000000000000000000000000000\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1160,
        "wires": [
            [
                "11600c0e200f8b48"
            ]
        ]
    },
    {
        "id": "3ba58d08a73e33cc",
        "type": "comment",
        "z": "d32826a1611e0622",
        "g": "0b3af3753f33292d",
        "name": "Trenches",
        "info": "",
        "x": 140,
        "y": 1320,
        "wires": []
    },
    {
        "id": "fa2980fcc5d6a8e4",
        "type": "ui_dropdown",
        "z": "d32826a1611e0622",
        "g": "0b3af3753f33292d",
        "name": "",
        "label": "RIGHT-B-2",
        "tooltip": "",
        "place": "Select option",
        "group": "13504c5753af441d",
        "order": 8,
        "width": 5,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "OFF",
                "value": "OFF",
                "type": "str"
            },
            {
                "label": "RED (Manual)",
                "value": "RED",
                "type": "str"
            },
            {
                "label": "GREEN (3bags-Cleared)",
                "value": "GREEN",
                "type": "str"
            },
            {
                "label": "ORANGE (Auton)",
                "value": "ORANGE",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 170,
        "y": 1380,
        "wires": [
            [
                "b3ba77c1e8ec3469"
            ]
        ]
    },
    {
        "id": "3ea14b53dd44535e",
        "type": "mqtt out",
        "z": "d32826a1611e0622",
        "g": "0b3af3753f33292d",
        "name": "",
        "topic": "nodered/updatepixels/RTT",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 860,
        "y": 1380,
        "wires": []
    },
    {
        "id": "831e96c4467d6f69",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "0b3af3753f33292d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":3,\"pixels\":\"111111111111111111111111111111\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1340,
        "wires": [
            [
                "3ea14b53dd44535e"
            ]
        ]
    },
    {
        "id": "b3ba77c1e8ec3469",
        "type": "switch",
        "z": "d32826a1611e0622",
        "g": "0b3af3753f33292d",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "RED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "GREEN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ORANGE",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 370,
        "y": 1380,
        "wires": [
            [
                "831e96c4467d6f69"
            ],
            [
                "2aa6e40eeae7bb45"
            ],
            [
                "b230315a6b0b9787"
            ],
            [
                "02fd7d7b8a1e1196"
            ]
        ]
    },
    {
        "id": "2aa6e40eeae7bb45",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "0b3af3753f33292d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":3,\"pixels\":\"444444444444444444444444444444\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1380,
        "wires": [
            [
                "3ea14b53dd44535e"
            ]
        ]
    },
    {
        "id": "b230315a6b0b9787",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "0b3af3753f33292d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":3,\"pixels\":\"000000000000000000000000000000\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1420,
        "wires": [
            [
                "3ea14b53dd44535e"
            ]
        ]
    },
    {
        "id": "bbf65c45d0cca916",
        "type": "comment",
        "z": "d32826a1611e0622",
        "g": "dc5384f7b9f470a3",
        "name": "Trenches",
        "info": "",
        "x": 140,
        "y": 1600,
        "wires": []
    },
    {
        "id": "699237516e7fcd8b",
        "type": "ui_dropdown",
        "z": "d32826a1611e0622",
        "g": "dc5384f7b9f470a3",
        "name": "",
        "label": "LEFT-T-1",
        "tooltip": "",
        "place": "Select option",
        "group": "13504c5753af441d",
        "order": 1,
        "width": 5,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "OFF",
                "value": "OFF",
                "type": "str"
            },
            {
                "label": "RED (Manual)",
                "value": "RED",
                "type": "str"
            },
            {
                "label": "ORANGE (Auton)",
                "value": "ORANGE",
                "type": "str"
            },
            {
                "label": "GREEN (3bags-Cleared)",
                "value": "GREEN",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 160,
        "y": 1660,
        "wires": [
            [
                "d4f59c42c8e3621f"
            ]
        ]
    },
    {
        "id": "765726cb439764c4",
        "type": "mqtt out",
        "z": "d32826a1611e0622",
        "g": "dc5384f7b9f470a3",
        "name": "",
        "topic": "nodered/updatepixels/LTT",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 860,
        "y": 1660,
        "wires": []
    },
    {
        "id": "28c68dc58063d62e",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "dc5384f7b9f470a3",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":0,\"pixels\":\"111111111111111111111111111111\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1620,
        "wires": [
            [
                "765726cb439764c4"
            ]
        ]
    },
    {
        "id": "d4f59c42c8e3621f",
        "type": "switch",
        "z": "d32826a1611e0622",
        "g": "dc5384f7b9f470a3",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "RED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "GREEN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ORANGE",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 370,
        "y": 1660,
        "wires": [
            [
                "28c68dc58063d62e"
            ],
            [
                "1cf74dc6629c5bc1"
            ],
            [
                "355a867b4e709ec3"
            ],
            [
                "6d3355eebfaf7aa4"
            ]
        ]
    },
    {
        "id": "1cf74dc6629c5bc1",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "dc5384f7b9f470a3",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":0,\"pixels\":\"444444444444444444444444444444\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1660,
        "wires": [
            [
                "765726cb439764c4"
            ]
        ]
    },
    {
        "id": "355a867b4e709ec3",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "dc5384f7b9f470a3",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":0,\"pixels\":\"000000000000000000000000000000\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1700,
        "wires": [
            [
                "765726cb439764c4"
            ]
        ]
    },
    {
        "id": "445a086531e1b056",
        "type": "comment",
        "z": "d32826a1611e0622",
        "g": "58bd3feb98c01c36",
        "name": "Trenches",
        "info": "",
        "x": 140,
        "y": 1840,
        "wires": []
    },
    {
        "id": "3d9d6744f7dd1d08",
        "type": "ui_dropdown",
        "z": "d32826a1611e0622",
        "g": "58bd3feb98c01c36",
        "name": "",
        "label": "LEFT-T-2",
        "tooltip": "",
        "place": "Select option",
        "group": "13504c5753af441d",
        "order": 3,
        "width": 5,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "OFF",
                "value": "OFF",
                "type": "str"
            },
            {
                "label": "RED (Manual)",
                "value": "RED",
                "type": "str"
            },
            {
                "label": "ORANGE (Auton)",
                "value": "ORANGE",
                "type": "str"
            },
            {
                "label": "GREEN (3bags-Cleared)",
                "value": "GREEN",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 160,
        "y": 1900,
        "wires": [
            [
                "fba31ee77b4c2b41"
            ]
        ]
    },
    {
        "id": "b0d7843d6ee3db56",
        "type": "mqtt out",
        "z": "d32826a1611e0622",
        "g": "58bd3feb98c01c36",
        "name": "",
        "topic": "nodered/updatepixels/LTT",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 860,
        "y": 1900,
        "wires": []
    },
    {
        "id": "228607c2d02661e8",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "58bd3feb98c01c36",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":3,\"pixels\":\"111111111111111111111111111111\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1860,
        "wires": [
            [
                "b0d7843d6ee3db56"
            ]
        ]
    },
    {
        "id": "fba31ee77b4c2b41",
        "type": "switch",
        "z": "d32826a1611e0622",
        "g": "58bd3feb98c01c36",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "RED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "GREEN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ORANGE",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 370,
        "y": 1900,
        "wires": [
            [
                "228607c2d02661e8"
            ],
            [
                "46689e504b3a40a2"
            ],
            [
                "642c1029ef735b21"
            ],
            [
                "d14fd5e2b3037016"
            ]
        ]
    },
    {
        "id": "46689e504b3a40a2",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "58bd3feb98c01c36",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":3,\"pixels\":\"444444444444444444444444444444\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1900,
        "wires": [
            [
                "b0d7843d6ee3db56"
            ]
        ]
    },
    {
        "id": "642c1029ef735b21",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "58bd3feb98c01c36",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":3,\"pixels\":\"000000000000000000000000000000\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1940,
        "wires": [
            [
                "b0d7843d6ee3db56"
            ]
        ]
    },
    {
        "id": "cdc58e810531278a",
        "type": "comment",
        "z": "d32826a1611e0622",
        "g": "21aaba78e384f976",
        "name": "Trenches",
        "info": "",
        "x": 140,
        "y": 2060,
        "wires": []
    },
    {
        "id": "e483c61ce3155902",
        "type": "ui_dropdown",
        "z": "d32826a1611e0622",
        "g": "21aaba78e384f976",
        "name": "",
        "label": "LEFT-B-1",
        "tooltip": "",
        "place": "Select option",
        "group": "13504c5753af441d",
        "order": 5,
        "width": 5,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "OFF",
                "value": "OFF",
                "type": "str"
            },
            {
                "label": "RED (Manual)",
                "value": "RED",
                "type": "str"
            },
            {
                "label": "ORANGE (Auton)",
                "value": "ORANGE",
                "type": "str"
            },
            {
                "label": "GREEN (3bags-Cleared)",
                "value": "GREEN",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 160,
        "y": 2120,
        "wires": [
            [
                "0a980167dfc3e031"
            ]
        ]
    },
    {
        "id": "cfd745dc40b7283e",
        "type": "mqtt out",
        "z": "d32826a1611e0622",
        "g": "21aaba78e384f976",
        "name": "",
        "topic": "nodered/updatepixels/LTT",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 860,
        "y": 2120,
        "wires": []
    },
    {
        "id": "22fd860b3e1f56cf",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "21aaba78e384f976",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":2,\"pixels\":\"111111111111111111111111111111\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 2080,
        "wires": [
            [
                "cfd745dc40b7283e"
            ]
        ]
    },
    {
        "id": "0a980167dfc3e031",
        "type": "switch",
        "z": "d32826a1611e0622",
        "g": "21aaba78e384f976",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "RED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "GREEN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ORANGE",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 370,
        "y": 2120,
        "wires": [
            [
                "22fd860b3e1f56cf"
            ],
            [
                "bdfdc2a2ccccfec9"
            ],
            [
                "eb7d7e39c504daf9"
            ],
            [
                "d61b2b44b03c499a"
            ]
        ]
    },
    {
        "id": "bdfdc2a2ccccfec9",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "21aaba78e384f976",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":2,\"pixels\":\"444444444444444444444444444444\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 2120,
        "wires": [
            [
                "cfd745dc40b7283e"
            ]
        ]
    },
    {
        "id": "eb7d7e39c504daf9",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "21aaba78e384f976",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":2,\"pixels\":\"000000000000000000000000000000\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 2160,
        "wires": [
            [
                "cfd745dc40b7283e"
            ]
        ]
    },
    {
        "id": "12fa4a3a779eab41",
        "type": "comment",
        "z": "d32826a1611e0622",
        "g": "6ac6b771fff8c239",
        "name": "Trenches",
        "info": "",
        "x": 140,
        "y": 2280,
        "wires": []
    },
    {
        "id": "a4c7b9991273598b",
        "type": "ui_dropdown",
        "z": "d32826a1611e0622",
        "g": "6ac6b771fff8c239",
        "name": "",
        "label": "LEFT-B-2",
        "tooltip": "",
        "place": "Select option",
        "group": "13504c5753af441d",
        "order": 7,
        "width": 5,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "OFF",
                "value": "OFF",
                "type": "str"
            },
            {
                "label": "ORANGE (Auton)",
                "value": "ORANGE",
                "type": "str"
            },
            {
                "label": "RED (Manual)",
                "value": "RED",
                "type": "str"
            },
            {
                "label": "GREEN (3bags-Cleared)",
                "value": "GREEN",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 160,
        "y": 2340,
        "wires": [
            [
                "b3c760bc47deb7a1"
            ]
        ]
    },
    {
        "id": "29b8876936972554",
        "type": "mqtt out",
        "z": "d32826a1611e0622",
        "g": "6ac6b771fff8c239",
        "name": "",
        "topic": "nodered/updatepixels/LTT",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 860,
        "y": 2340,
        "wires": []
    },
    {
        "id": "91cc457481d7ddc9",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "6ac6b771fff8c239",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":1,\"pixels\":\"111111111111111111111111111111\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 2300,
        "wires": [
            [
                "29b8876936972554"
            ]
        ]
    },
    {
        "id": "b3c760bc47deb7a1",
        "type": "switch",
        "z": "d32826a1611e0622",
        "g": "6ac6b771fff8c239",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "RED",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "GREEN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "OFF",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ORANGE",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 370,
        "y": 2340,
        "wires": [
            [
                "91cc457481d7ddc9"
            ],
            [
                "cbc1bf7f30580e47"
            ],
            [
                "393dbe7450f53bc9"
            ],
            [
                "2a78ff579a5e9464"
            ]
        ]
    },
    {
        "id": "cbc1bf7f30580e47",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "6ac6b771fff8c239",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":1,\"pixels\":\"444444444444444444444444444444\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 2340,
        "wires": [
            [
                "29b8876936972554"
            ]
        ]
    },
    {
        "id": "393dbe7450f53bc9",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "6ac6b771fff8c239",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":1,\"pixels\":\"000000000000000000000000000000\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 2380,
        "wires": [
            [
                "29b8876936972554"
            ]
        ]
    },
    {
        "id": "8520f7d702b7b51a",
        "type": "comment",
        "z": "d32826a1611e0622",
        "g": "1e5cf91bef2d0b81",
        "name": "AUTON DROP",
        "info": "",
        "x": 1180,
        "y": 580,
        "wires": []
    },
    {
        "id": "fd5ffabf4e8f6d4a",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "1e5cf91bef2d0b81",
        "name": "",
        "label": "Auton Drop (Switch ON = Ball Drop x 2)",
        "tooltip": "",
        "group": "bc2157348f251310",
        "order": 2,
        "width": 10,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "2",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "1",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 1520,
        "y": 660,
        "wires": [
            [
                "c9d158730c6fc6a5"
            ]
        ]
    },
    {
        "id": "c9d158730c6fc6a5",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "1e5cf91bef2d0b81",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "waterDropMultiplier",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1830,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "8a1c54a30f6e321d",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "a298e34363e28341",
        "name": "kill RT1",
        "links": [
            "b46c481de9536333"
        ],
        "x": 435,
        "y": 700,
        "wires": [
            [
                "d13946c0b6d68832"
            ]
        ]
    },
    {
        "id": "d3f61fe6cb27f19e",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "821639e23b06e8b7",
        "name": "kill RT2",
        "links": [
            "b46c481de9536333"
        ],
        "x": 435,
        "y": 920,
        "wires": [
            [
                "78ddbf57592be916"
            ]
        ]
    },
    {
        "id": "c22b5a348046e18b",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "b00a1e1bf34b7a99",
        "name": "kill RB1",
        "links": [
            "b46c481de9536333"
        ],
        "x": 435,
        "y": 1200,
        "wires": [
            [
                "0f5c26b8f9c0e8fb"
            ]
        ]
    },
    {
        "id": "36583aa149ee6f4c",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "0b3af3753f33292d",
        "name": "kill RB2",
        "links": [
            "b46c481de9536333"
        ],
        "x": 435,
        "y": 1460,
        "wires": [
            [
                "b230315a6b0b9787"
            ]
        ]
    },
    {
        "id": "76d2c82b5490d10a",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "dc5384f7b9f470a3",
        "name": "kill LT1",
        "links": [
            "b46c481de9536333"
        ],
        "x": 435,
        "y": 1720,
        "wires": [
            [
                "355a867b4e709ec3"
            ]
        ]
    },
    {
        "id": "ad073fe469f07b4c",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "58bd3feb98c01c36",
        "name": "kill LT2",
        "links": [
            "b46c481de9536333"
        ],
        "x": 425,
        "y": 1960,
        "wires": [
            [
                "642c1029ef735b21"
            ]
        ]
    },
    {
        "id": "201572b4026ee457",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "21aaba78e384f976",
        "name": "kill LB1",
        "links": [
            "b46c481de9536333"
        ],
        "x": 435,
        "y": 2180,
        "wires": [
            [
                "eb7d7e39c504daf9"
            ]
        ]
    },
    {
        "id": "c995e02d640aefcf",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "6ac6b771fff8c239",
        "name": "kill LB2",
        "links": [
            "b46c481de9536333"
        ],
        "x": 435,
        "y": 2400,
        "wires": [
            [
                "393dbe7450f53bc9"
            ]
        ]
    },
    {
        "id": "4088277eb07d1853",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "cb9c0c3b1fe84ccc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "otherScores.trees-left-1",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "8d9d9fd3428aef53",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "cb9c0c3b1fe84ccc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "otherScores.trees-left-2",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "7aea2e0d58cee970",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "cb9c0c3b1fe84ccc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "otherScores.trees-right-2",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 960,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "93a01049a60df5c5",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "cb9c0c3b1fe84ccc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "otherScores.trees-right-1",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 960,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "8d3431ec5b26ff8d",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "dc5384f7b9f470a3",
        "name": "light LT option 1",
        "links": [
            "fbef5856707ebe0e"
        ],
        "x": 375,
        "y": 1580,
        "wires": [
            [
                "28c68dc58063d62e"
            ]
        ]
    },
    {
        "id": "414808a5201d6091",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "6ac6b771fff8c239",
        "name": "light LT option 1",
        "links": [
            "fbef5856707ebe0e"
        ],
        "x": 415,
        "y": 2300,
        "wires": [
            [
                "91cc457481d7ddc9"
            ]
        ]
    },
    {
        "id": "a5f5872be5b97f6c",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "21aaba78e384f976",
        "name": "light LT option 2",
        "links": [
            "e1ebb0cff0844ace"
        ],
        "x": 425,
        "y": 2060,
        "wires": [
            [
                "22fd860b3e1f56cf"
            ]
        ]
    },
    {
        "id": "669d8b2e34271d5d",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "58bd3feb98c01c36",
        "name": "light LT option 2",
        "links": [
            "e1ebb0cff0844ace"
        ],
        "x": 425,
        "y": 1840,
        "wires": [
            [
                "228607c2d02661e8"
            ]
        ]
    },
    {
        "id": "32915cef9c4e0ed7",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "a298e34363e28341",
        "name": "light RT option 1",
        "links": [
            "2702e40d947bb9c3"
        ],
        "x": 405,
        "y": 580,
        "wires": [
            [
                "30048645b24ac102"
            ]
        ]
    },
    {
        "id": "97d1f6e1a1761fb8",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "0b3af3753f33292d",
        "name": "light BT option 1",
        "links": [
            "2702e40d947bb9c3"
        ],
        "x": 445,
        "y": 1320,
        "wires": [
            [
                "831e96c4467d6f69"
            ]
        ]
    },
    {
        "id": "cc273cb5e0f36c84",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "821639e23b06e8b7",
        "name": "light BT option 2",
        "links": [
            "a7d4ab585203adf8"
        ],
        "x": 425,
        "y": 800,
        "wires": [
            [
                "e7798a49af21c28b"
            ]
        ]
    },
    {
        "id": "7626e97f968a858e",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "b00a1e1bf34b7a99",
        "name": "light BT option 2",
        "links": [
            "a7d4ab585203adf8"
        ],
        "x": 425,
        "y": 1040,
        "wires": [
            [
                "68487416aabe8f57"
            ]
        ]
    },
    {
        "id": "afd6f477655fb67b",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "a298e34363e28341",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":0,\"pixels\":\"222222222222222222222222222222\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 560,
        "wires": [
            [
                "d86bd1060551b27a"
            ]
        ]
    },
    {
        "id": "9db6ec45531f1534",
        "type": "switch",
        "z": "d32826a1611e0622",
        "g": "ab2d725536c9b091",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1730,
        "y": 1880,
        "wires": [
            [
                "fbef5856707ebe0e"
            ],
            [
                "e1ebb0cff0844ace"
            ]
        ]
    },
    {
        "id": "a6d6b7919b5c3565",
        "type": "function",
        "z": "d32826a1611e0622",
        "g": "ab2d725536c9b091",
        "name": "choose your path",
        "func": "//choose your path padawan\nvar whichPath = Math.floor(Math.random() * 2);\n\nmsg.payload = whichPath;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1510,
        "y": 1880,
        "wires": [
            [
                "9db6ec45531f1534"
            ]
        ]
    },
    {
        "id": "5eadd8f77d6dd1ce",
        "type": "ui_button",
        "z": "d32826a1611e0622",
        "g": "ab2d725536c9b091",
        "name": "",
        "group": "3fe7b2a68005ea00",
        "order": 1,
        "width": 5,
        "height": 1,
        "passthru": false,
        "label": "Recon Path TIMEOUT (L)",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 1270,
        "y": 1880,
        "wires": [
            [
                "a6d6b7919b5c3565"
            ]
        ]
    },
    {
        "id": "9060c4417769a8a6",
        "type": "ui_button",
        "z": "d32826a1611e0622",
        "g": "ab2d725536c9b091",
        "name": "",
        "group": "3fe7b2a68005ea00",
        "order": 3,
        "width": 5,
        "height": 1,
        "passthru": false,
        "label": "Recon Path DONE (L)",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 1280,
        "y": 1660,
        "wires": [
            [
                "335e406982635187"
            ]
        ]
    },
    {
        "id": "a20da76881a2c92f",
        "type": "comment",
        "z": "d32826a1611e0622",
        "g": "ab2d725536c9b091",
        "name": "RECON PATH DONEZO",
        "info": "",
        "x": 1250,
        "y": 1600,
        "wires": []
    },
    {
        "id": "335e406982635187",
        "type": "function",
        "z": "d32826a1611e0622",
        "g": "ab2d725536c9b091",
        "name": "choose your path",
        "func": "//choose your path padawan\nvar whichPath = Math.floor(Math.random() * 2);\n\nmsg.payload = whichPath;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1530,
        "y": 1660,
        "wires": [
            [
                "40b6873d3362e5b0"
            ]
        ]
    },
    {
        "id": "40b6873d3362e5b0",
        "type": "switch",
        "z": "d32826a1611e0622",
        "g": "ab2d725536c9b091",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1750,
        "y": 1660,
        "wires": [
            [
                "06e130297ace1369"
            ],
            [
                "eda20c35c862c3df"
            ]
        ]
    },
    {
        "id": "06e130297ace1369",
        "type": "link out",
        "z": "d32826a1611e0622",
        "g": "ab2d725536c9b091",
        "name": "Recon Path Done L 1",
        "mode": "link",
        "links": [
            "5b091724b2b67ab5",
            "f63ce94338e3e4fb"
        ],
        "x": 1885,
        "y": 1640,
        "wires": []
    },
    {
        "id": "eda20c35c862c3df",
        "type": "link out",
        "z": "d32826a1611e0622",
        "g": "ab2d725536c9b091",
        "name": "Recon Path Done L 2",
        "mode": "link",
        "links": [
            "a767d0c5f4352f2d",
            "dc8f4d8f85a10f79"
        ],
        "x": 1885,
        "y": 1680,
        "wires": []
    },
    {
        "id": "2381a139ccbf25a5",
        "type": "ui_button",
        "z": "d32826a1611e0622",
        "g": "ab2d725536c9b091",
        "name": "",
        "group": "3fe7b2a68005ea00",
        "order": 4,
        "width": 5,
        "height": 1,
        "passthru": false,
        "label": "Recon Path DONE (R)",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 1280,
        "y": 1760,
        "wires": [
            [
                "1e1b70cbabfaee5d"
            ]
        ]
    },
    {
        "id": "1e1b70cbabfaee5d",
        "type": "function",
        "z": "d32826a1611e0622",
        "g": "ab2d725536c9b091",
        "name": "choose your path",
        "func": "//choose your path padawan\nvar whichPath = Math.floor(Math.random() * 2);\n\nmsg.payload = whichPath;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1530,
        "y": 1760,
        "wires": [
            [
                "33f61ade06dd74c8"
            ]
        ]
    },
    {
        "id": "33f61ade06dd74c8",
        "type": "switch",
        "z": "d32826a1611e0622",
        "g": "ab2d725536c9b091",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1750,
        "y": 1760,
        "wires": [
            [
                "c4ce4b14be142171"
            ],
            [
                "93d0adee9f6f4273"
            ]
        ]
    },
    {
        "id": "c4ce4b14be142171",
        "type": "link out",
        "z": "d32826a1611e0622",
        "g": "ab2d725536c9b091",
        "name": "Recon Path Done R 1",
        "mode": "link",
        "links": [
            "9498eab6a1cd0f2a",
            "8d059dd5b45d6a89"
        ],
        "x": 1885,
        "y": 1740,
        "wires": []
    },
    {
        "id": "93d0adee9f6f4273",
        "type": "link out",
        "z": "d32826a1611e0622",
        "g": "ab2d725536c9b091",
        "name": "Recon Path Done R 2",
        "mode": "link",
        "links": [
            "e168dcf484ba5412",
            "5dd6bf30d7616b6a"
        ],
        "x": 1885,
        "y": 1780,
        "wires": []
    },
    {
        "id": "a7d4ab585203adf8",
        "type": "link out",
        "z": "d32826a1611e0622",
        "g": "ab2d725536c9b091",
        "name": "Recon Path Timeout R 2",
        "mode": "link",
        "links": [
            "7626e97f968a858e",
            "cc273cb5e0f36c84"
        ],
        "x": 1865,
        "y": 2020,
        "wires": []
    },
    {
        "id": "fbef5856707ebe0e",
        "type": "link out",
        "z": "d32826a1611e0622",
        "g": "ab2d725536c9b091",
        "name": "Recon Path Timeout 1",
        "mode": "link",
        "links": [
            "8d3431ec5b26ff8d",
            "554f28459b5e22c4",
            "414808a5201d6091"
        ],
        "x": 1865,
        "y": 1860,
        "wires": []
    },
    {
        "id": "e1ebb0cff0844ace",
        "type": "link out",
        "z": "d32826a1611e0622",
        "g": "ab2d725536c9b091",
        "name": "Recon Path Timeout 2",
        "mode": "link",
        "links": [
            "669d8b2e34271d5d",
            "a5f5872be5b97f6c"
        ],
        "x": 1865,
        "y": 1900,
        "wires": []
    },
    {
        "id": "2702e40d947bb9c3",
        "type": "link out",
        "z": "d32826a1611e0622",
        "g": "ab2d725536c9b091",
        "name": "Recon Path Timeout R 1",
        "mode": "link",
        "links": [
            "32915cef9c4e0ed7",
            "97d1f6e1a1761fb8"
        ],
        "x": 1865,
        "y": 1960,
        "wires": []
    },
    {
        "id": "85ec7e8e89a5a1d9",
        "type": "switch",
        "z": "d32826a1611e0622",
        "g": "ab2d725536c9b091",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1730,
        "y": 1980,
        "wires": [
            [
                "2702e40d947bb9c3"
            ],
            [
                "a7d4ab585203adf8"
            ]
        ]
    },
    {
        "id": "bfb334433a7d8842",
        "type": "function",
        "z": "d32826a1611e0622",
        "g": "ab2d725536c9b091",
        "name": "choose your path",
        "func": "//choose your path padawan\nvar whichPath = Math.floor(Math.random() * 2);\n\nmsg.payload = whichPath;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1510,
        "y": 1980,
        "wires": [
            [
                "85ec7e8e89a5a1d9"
            ]
        ]
    },
    {
        "id": "3b6b77c692325673",
        "type": "ui_button",
        "z": "d32826a1611e0622",
        "g": "ab2d725536c9b091",
        "name": "",
        "group": "3fe7b2a68005ea00",
        "order": 2,
        "width": 5,
        "height": 1,
        "passthru": false,
        "label": "Recon Path TIMEOUT (R)",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 1270,
        "y": 1980,
        "wires": [
            [
                "bfb334433a7d8842"
            ]
        ]
    },
    {
        "id": "6d3355eebfaf7aa4",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "dc5384f7b9f470a3",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":0,\"pixels\":\"222222222222222222222222222222\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1580,
        "wires": [
            [
                "765726cb439764c4"
            ]
        ]
    },
    {
        "id": "5b091724b2b67ab5",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "dc5384f7b9f470a3",
        "name": "Light LT Option 1 (orange)",
        "links": [
            "06e130297ace1369"
        ],
        "x": 445,
        "y": 1540,
        "wires": [
            [
                "6d3355eebfaf7aa4"
            ]
        ]
    },
    {
        "id": "f63ce94338e3e4fb",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "6ac6b771fff8c239",
        "name": "Light LT Option 1 (orange)",
        "links": [],
        "x": 415,
        "y": 2260,
        "wires": [
            [
                "2a78ff579a5e9464"
            ]
        ]
    },
    {
        "id": "2a78ff579a5e9464",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "6ac6b771fff8c239",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":1,\"pixels\":\"222222222222222222222222222222\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 2260,
        "wires": [
            [
                "29b8876936972554"
            ]
        ]
    },
    {
        "id": "d14fd5e2b3037016",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "58bd3feb98c01c36",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":3,\"pixels\":\"222222222222222222222222222222\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1820,
        "wires": [
            [
                "b0d7843d6ee3db56"
            ]
        ]
    },
    {
        "id": "d61b2b44b03c499a",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "21aaba78e384f976",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":2,\"pixels\":\"222222222222222222222222222222\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 2040,
        "wires": [
            [
                "cfd745dc40b7283e"
            ]
        ]
    },
    {
        "id": "dc8f4d8f85a10f79",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "58bd3feb98c01c36",
        "name": "Light LT Option 2 (orange)",
        "links": [
            "eda20c35c862c3df"
        ],
        "x": 425,
        "y": 1800,
        "wires": [
            [
                "d14fd5e2b3037016"
            ]
        ]
    },
    {
        "id": "a767d0c5f4352f2d",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "21aaba78e384f976",
        "name": "Light LT Option 2 (orange)",
        "links": [
            "eda20c35c862c3df"
        ],
        "x": 425,
        "y": 2020,
        "wires": [
            [
                "d61b2b44b03c499a"
            ]
        ]
    },
    {
        "id": "02fd7d7b8a1e1196",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "0b3af3753f33292d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":3,\"pixels\":\"222222222222222222222222222222\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1300,
        "wires": [
            [
                "3ea14b53dd44535e"
            ]
        ]
    },
    {
        "id": "8d059dd5b45d6a89",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "0b3af3753f33292d",
        "name": "Light BT option 2 (orange)",
        "links": [
            "c4ce4b14be142171"
        ],
        "x": 445,
        "y": 1280,
        "wires": [
            [
                "02fd7d7b8a1e1196"
            ]
        ]
    },
    {
        "id": "5dd6bf30d7616b6a",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "b00a1e1bf34b7a99",
        "name": "Light BT option 2 (orange)",
        "links": [
            "93d0adee9f6f4273"
        ],
        "x": 425,
        "y": 1000,
        "wires": [
            [
                "5a7f6afebccd7fa7"
            ]
        ]
    },
    {
        "id": "5a7f6afebccd7fa7",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "b00a1e1bf34b7a99",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":2,\"pixels\":\"222222222222222222222222222222\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 1040,
        "wires": [
            [
                "11600c0e200f8b48"
            ]
        ]
    },
    {
        "id": "9498eab6a1cd0f2a",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "a298e34363e28341",
        "name": "Light RT Option 1 (orange)",
        "links": [
            "c4ce4b14be142171"
        ],
        "x": 435,
        "y": 540,
        "wires": [
            [
                "afd6f477655fb67b"
            ]
        ]
    },
    {
        "id": "e168dcf484ba5412",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "821639e23b06e8b7",
        "name": "Light BT option 2 (orange)",
        "links": [
            "93d0adee9f6f4273"
        ],
        "x": 425,
        "y": 760,
        "wires": [
            [
                "3e1b0163bae2fa11"
            ]
        ]
    },
    {
        "id": "3e1b0163bae2fa11",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "821639e23b06e8b7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"whichLeds\":1,\"pixels\":\"222222222222222222222222222222\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 780,
        "wires": [
            [
                "056679311fed702a"
            ]
        ]
    },
    {
        "id": "d7f3df0a1692397d",
        "type": "comment",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "MANUAL SCORING",
        "info": "",
        "x": 230,
        "y": 2560,
        "wires": []
    },
    {
        "id": "ce1bb2d3a424da1b",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "label": "WaterTwr L (12x hits)",
        "tooltip": "",
        "group": "1be2e91ab36f9525",
        "order": 1,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "5",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 500,
        "y": 2560,
        "wires": [
            [
                "4ed34ea250e49761"
            ]
        ]
    },
    {
        "id": "f5fe22018f3f2bc8",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "label": "WaterTwr R (12x hits)",
        "tooltip": "",
        "group": "1be2e91ab36f9525",
        "order": 2,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "5",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 500,
        "y": 2600,
        "wires": [
            [
                "17c7c5ef21344b19"
            ]
        ]
    },
    {
        "id": "6ba9f1a7ecc85684",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "label": "Tello Recon Path Completed (Autonomously)",
        "tooltip": "",
        "group": "1b6cfea29db6584c",
        "order": 1,
        "width": 10,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "10",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 570,
        "y": 2740,
        "wires": [
            [
                "a30ba1a5aa4607d7"
            ]
        ]
    },
    {
        "id": "cc17e4051b812144",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "label": "TrenchCup 1 Filled",
        "tooltip": "",
        "group": "dace923c9e4e1f1b",
        "order": 1,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "5",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 490,
        "y": 2800,
        "wires": [
            [
                "3cadc83b9f63ae32"
            ]
        ]
    },
    {
        "id": "e3e10cbba16c8c9d",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "label": "TrenchCup 2 Filled",
        "tooltip": "",
        "group": "dace923c9e4e1f1b",
        "order": 2,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "5",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 490,
        "y": 2840,
        "wires": [
            [
                "013858d1f9e6a995"
            ]
        ]
    },
    {
        "id": "ad27e32640d4392a",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "label": "Park - Tello Drone",
        "tooltip": "",
        "group": "2fe672a1c1dd0cd7",
        "order": 1,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 490,
        "y": 3020,
        "wires": [
            [
                "1b2c50b0449cb164"
            ]
        ]
    },
    {
        "id": "e217d1e7d73aefee",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "label": "Park - RVR Vehicle",
        "tooltip": "",
        "group": "2fe672a1c1dd0cd7",
        "order": 3,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 490,
        "y": 3060,
        "wires": [
            [
                "459c216f03bfc5d3"
            ]
        ]
    },
    {
        "id": "962a8e203226a299",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "label": "Park - AVR Drone",
        "tooltip": "",
        "group": "2fe672a1c1dd0cd7",
        "order": 5,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "5",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 490,
        "y": 3100,
        "wires": [
            [
                "5d7f259652fefaf7"
            ]
        ]
    },
    {
        "id": "3eb979de5f3757eb",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "label": "Park - Sphero Mini 1",
        "tooltip": "",
        "group": "2fe672a1c1dd0cd7",
        "order": 2,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 500,
        "y": 3160,
        "wires": [
            [
                "fc3d4541c36ad1be"
            ]
        ]
    },
    {
        "id": "999cde74d9eac4b6",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "label": "Park - Sphero Mini 2",
        "tooltip": "",
        "group": "2fe672a1c1dd0cd7",
        "order": 4,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 500,
        "y": 3200,
        "wires": [
            [
                "ea32926a4d024a07"
            ]
        ]
    },
    {
        "id": "a5e31bd49e05c26f",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "label": "Park - Sphero Mini 3",
        "tooltip": "",
        "group": "2fe672a1c1dd0cd7",
        "order": 6,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 500,
        "y": 3240,
        "wires": [
            [
                "4935b6c48ff42ece"
            ]
        ]
    },
    {
        "id": "c0d73c7a8e66d4c2",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "Reset GUI",
        "links": [
            "2335df53b4766297",
            "644ae6f88aa55107",
            "68aa5688177e30e7"
        ],
        "x": 125,
        "y": 2880,
        "wires": [
            [
                "a448d13962eb94f7"
            ]
        ]
    },
    {
        "id": "a448d13962eb94f7",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "Set Payload 0",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 240,
        "y": 2880,
        "wires": [
            [
                "ce1bb2d3a424da1b",
                "f5fe22018f3f2bc8",
                "6ba9f1a7ecc85684",
                "cc17e4051b812144",
                "e3e10cbba16c8c9d",
                "ad27e32640d4392a",
                "e217d1e7d73aefee",
                "962a8e203226a299",
                "3eb979de5f3757eb",
                "999cde74d9eac4b6",
                "a5e31bd49e05c26f",
                "704358b9cb09cd33",
                "b46550e1d62dd305",
                "b0caec5b5ce21c95",
                "1b796fd5989bdad9"
            ]
        ]
    },
    {
        "id": "98038077.751848",
        "type": "function",
        "z": "d32826a1611e0622",
        "g": "b786c9d92d164f0e",
        "name": "Commit btn params",
        "func": "var curColor = global.get(\"commitBtnColor\");\n\nif (curColor == \"RED\") {\n    var theNewColor = \"GREEN\";\n    var theNewLabel = \"SCORES ARE READY\";\n} else if (curColor == \"GREEN\") {\n    var theNewColor = \"RED\";\n    var theNewLabel = \"PRESS TO COMMIT\";\n}\n\nglobal.set(\"commitBtnColor\",theNewColor);\nmsg.background = theNewColor;\nmsg.label = theNewLabel;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "// Code added here will be run once\n// whenever the node is started.\nmsg = {};\n\nglobal.set(\"commitBtnColor\", \"RED\");\nmsg.label = \"FRESH START\";\nmsg.background=\"RED\";\n\nreturn msg;",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 3540,
        "wires": [
            [
                "e9d2f751156577aa",
                "34acfe999b1dfe55"
            ]
        ]
    },
    {
        "id": "34acfe999b1dfe55",
        "type": "switch",
        "z": "d32826a1611e0622",
        "g": "b786c9d92d164f0e",
        "name": "if color",
        "property": "commitBtnColor",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "GREEN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "RED",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 590,
        "y": 3480,
        "wires": [
            [
                "8f52eb742bd90a9e"
            ],
            []
        ]
    },
    {
        "id": "8f52eb742bd90a9e",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "b786c9d92d164f0e",
        "name": "Set Text for Voice",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Scores Are Ready",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 3480,
        "wires": [
            [
                "914c06733f94ce85"
            ]
        ]
    },
    {
        "id": "914c06733f94ce85",
        "type": "ui_audio",
        "z": "d32826a1611e0622",
        "g": "b786c9d92d164f0e",
        "name": "Scores Ready Audio",
        "group": "1213b465aeaf2ef2",
        "voice": "Google UK English Male",
        "always": false,
        "x": 1000,
        "y": 3480,
        "wires": []
    },
    {
        "id": "349355f6e26b062c",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "b786c9d92d164f0e",
        "name": "Reset btn",
        "rules": [
            {
                "t": "set",
                "p": "commitBtnColor",
                "pt": "global",
                "to": "GREEN",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 260,
        "y": 3620,
        "wires": [
            [
                "98038077.751848"
            ]
        ]
    },
    {
        "id": "5cfc1180f4ea4ff5",
        "type": "comment",
        "z": "d32826a1611e0622",
        "g": "b786c9d92d164f0e",
        "name": "SCORES COMMITTED",
        "info": "",
        "x": 300,
        "y": 3460,
        "wires": []
    },
    {
        "id": "93467bb9550545d1",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "b786c9d92d164f0e",
        "name": "Reset GUI",
        "links": [
            "2335df53b4766297",
            "644ae6f88aa55107",
            "68aa5688177e30e7"
        ],
        "x": 155,
        "y": 3620,
        "wires": [
            [
                "349355f6e26b062c"
            ]
        ]
    },
    {
        "id": "e9d2f751156577aa",
        "type": "ui_button",
        "z": "d32826a1611e0622",
        "g": "b786c9d92d164f0e",
        "name": "",
        "group": "1213b465aeaf2ef2",
        "order": 1,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "{{label}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "",
        "payload": "RUNN",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 590,
        "y": 3540,
        "wires": [
            [
                "98038077.751848"
            ]
        ]
    },
    {
        "id": "9a38f2942ff4605f",
        "type": "comment",
        "z": "d32826a1611e0622",
        "g": "f1e1af78cf930290",
        "name": "LASER CANCEL",
        "info": "",
        "x": 1180,
        "y": 880,
        "wires": []
    },
    {
        "id": "da1ab5f800be4343",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "f1e1af78cf930290",
        "name": "",
        "label": "Laser Target (Switch ON = Targets ENABLED)",
        "tooltip": "",
        "group": "bc2157348f251310",
        "order": 1,
        "width": 10,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 1540,
        "y": 960,
        "wires": [
            [
                "bcc47bf7cad06ac1"
            ]
        ]
    },
    {
        "id": "bcc47bf7cad06ac1",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "f1e1af78cf930290",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "laserHitMultiplier",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1860,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "9a60e2cbb3676d16",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "1e5cf91bef2d0b81",
        "name": "Reset UI - auton drop",
        "links": [
            "9296e95263e5ddc7"
        ],
        "x": 1185,
        "y": 620,
        "wires": [
            [
                "cabc9379e91bfd5e"
            ]
        ]
    },
    {
        "id": "cabc9379e91bfd5e",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "1e5cf91bef2d0b81",
        "name": "reset",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 620,
        "wires": [
            [
                "fd5ffabf4e8f6d4a"
            ]
        ]
    },
    {
        "id": "3731a8ad784af987",
        "type": "link in",
        "z": "d32826a1611e0622",
        "g": "f1e1af78cf930290",
        "name": "Reset UI - laser cancel",
        "links": [
            "9296e95263e5ddc7"
        ],
        "x": 1185,
        "y": 920,
        "wires": [
            [
                "ebd69a89636bb4c2"
            ]
        ]
    },
    {
        "id": "ebd69a89636bb4c2",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "f1e1af78cf930290",
        "name": "reset",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 920,
        "wires": [
            [
                "da1ab5f800be4343"
            ]
        ]
    },
    {
        "id": "4e6587f2244e451d",
        "type": "change",
        "z": "d32826a1611e0622",
        "name": "reset",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 170,
        "y": 140,
        "wires": [
            [
                "b2d4ac6f1946502e"
            ]
        ]
    },
    {
        "id": "01a33715231c806e",
        "type": "link in",
        "z": "d32826a1611e0622",
        "name": "Reset UI - trees",
        "links": [
            "9296e95263e5ddc7"
        ],
        "x": 85,
        "y": 140,
        "wires": [
            [
                "4e6587f2244e451d"
            ]
        ]
    },
    {
        "id": "8e253407c85c2eb8",
        "type": "link in",
        "z": "d32826a1611e0622",
        "name": "Reset UI - trees",
        "links": [
            "9296e95263e5ddc7"
        ],
        "x": 85,
        "y": 340,
        "wires": [
            [
                "b75aae683313de88"
            ]
        ]
    },
    {
        "id": "b75aae683313de88",
        "type": "change",
        "z": "d32826a1611e0622",
        "name": "reset",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 170,
        "y": 340,
        "wires": [
            [
                "9a1d6ba86b7f753b"
            ]
        ]
    },
    {
        "id": "9a9ab0727ffc0a14",
        "type": "link in",
        "z": "d32826a1611e0622",
        "name": "Reset UI - trees",
        "links": [
            "9296e95263e5ddc7"
        ],
        "x": 615,
        "y": 140,
        "wires": [
            [
                "353a0bfef79d6a1d"
            ]
        ]
    },
    {
        "id": "353a0bfef79d6a1d",
        "type": "change",
        "z": "d32826a1611e0622",
        "name": "reset",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 140,
        "wires": [
            [
                "f437b1f9f5574bab"
            ]
        ]
    },
    {
        "id": "e3e15afaf5959647",
        "type": "link in",
        "z": "d32826a1611e0622",
        "name": "Reset UI - trees",
        "links": [
            "9296e95263e5ddc7"
        ],
        "x": 615,
        "y": 340,
        "wires": [
            [
                "8c1ad219e3f34612"
            ]
        ]
    },
    {
        "id": "8c1ad219e3f34612",
        "type": "change",
        "z": "d32826a1611e0622",
        "name": "reset",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 340,
        "wires": [
            [
                "10f28faa6d606765"
            ]
        ]
    },
    {
        "id": "4ed34ea250e49761",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "otherScores.WaterTower-L",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 930,
        "y": 2560,
        "wires": [
            []
        ]
    },
    {
        "id": "17c7c5ef21344b19",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "otherScores.WaterTower-R",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 930,
        "y": 2600,
        "wires": [
            []
        ]
    },
    {
        "id": "704358b9cb09cd33",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "label": "WaterTwr L (Auton+)",
        "tooltip": "",
        "group": "1be2e91ab36f9525",
        "order": 3,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "4",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 520,
        "y": 2640,
        "wires": [
            [
                "9aa5d98a7bf8194c"
            ]
        ]
    },
    {
        "id": "b46550e1d62dd305",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "label": "WaterTwr R (Auton+)",
        "tooltip": "",
        "group": "1be2e91ab36f9525",
        "order": 4,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "4",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 520,
        "y": 2680,
        "wires": [
            [
                "1ea3ad5aebc2a31a"
            ]
        ]
    },
    {
        "id": "1ea3ad5aebc2a31a",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "otherScores.WaterTower-R-Auton",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 950,
        "y": 2680,
        "wires": [
            []
        ]
    },
    {
        "id": "9aa5d98a7bf8194c",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "otherScores.WaterTower-L-Auton",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 950,
        "y": 2640,
        "wires": [
            []
        ]
    },
    {
        "id": "a30ba1a5aa4607d7",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "otherScores.TelloPathCompleted",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 950,
        "y": 2740,
        "wires": [
            []
        ]
    },
    {
        "id": "3cadc83b9f63ae32",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "otherScores.Trench-1",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 2800,
        "wires": [
            []
        ]
    },
    {
        "id": "013858d1f9e6a995",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "otherScores.Trench-2",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 2840,
        "wires": [
            []
        ]
    },
    {
        "id": "b0caec5b5ce21c95",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "name": "",
        "label": "TrenchCup 1 (Auton+)",
        "tooltip": "",
        "group": "dace923c9e4e1f1b",
        "order": 3,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "5",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 540,
        "y": 2880,
        "wires": [
            [
                "69264f469f00bdb9"
            ]
        ]
    },
    {
        "id": "69264f469f00bdb9",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "otherScores.Trench-1-Auton",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 930,
        "y": 2880,
        "wires": [
            []
        ]
    },
    {
        "id": "1b796fd5989bdad9",
        "type": "ui_switch",
        "z": "d32826a1611e0622",
        "name": "",
        "label": "TrenchCup 2 (Auton)",
        "tooltip": "",
        "group": "dace923c9e4e1f1b",
        "order": 4,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "5",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 540,
        "y": 2920,
        "wires": [
            [
                "2e1623f95451d14a"
            ]
        ]
    },
    {
        "id": "2e1623f95451d14a",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "otherScores.Trench-2-Auton",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 930,
        "y": 2920,
        "wires": [
            []
        ]
    },
    {
        "id": "1b2c50b0449cb164",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "otherScores.Park-Tello",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 3020,
        "wires": [
            []
        ]
    },
    {
        "id": "459c216f03bfc5d3",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "otherScores.Park-RVR",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 3060,
        "wires": [
            []
        ]
    },
    {
        "id": "5d7f259652fefaf7",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "otherScores.Park-AVR",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 3100,
        "wires": [
            []
        ]
    },
    {
        "id": "fc3d4541c36ad1be",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "otherScores.Park-Mini-1",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 3160,
        "wires": [
            []
        ]
    },
    {
        "id": "ea32926a4d024a07",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "otherScores.Park-Mini-2",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 3200,
        "wires": [
            []
        ]
    },
    {
        "id": "4935b6c48ff42ece",
        "type": "change",
        "z": "d32826a1611e0622",
        "g": "9e4ed901b9748060",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "otherScores.Park-Mini-3",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 3240,
        "wires": [
            []
        ]
    },
    {
        "id": "f4b7c4c243db620d",
        "type": "sqlite",
        "z": "f3ec5d556e86f8d0",
        "g": "e63633ec18181ba7",
        "mydb": "6f6f2d0bf9d4b5e3",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "Read Config Node ID",
        "x": 440,
        "y": 1400,
        "wires": [
            [
                "2bcc56e6d241c3d9"
            ]
        ]
    },
    {
        "id": "837b88b53ec5549a",
        "type": "mqtt in",
        "z": "f3ec5d556e86f8d0",
        "g": "e63633ec18181ba7",
        "name": "edgenode/initialization",
        "topic": "edgenode/initialization",
        "qos": "2",
        "datatype": "utf8",
        "broker": "5999f1d09afe1039",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 280,
        "y": 1320,
        "wires": [
            [
                "0faf666bf00276e9"
            ]
        ]
    },
    {
        "id": "5bdc6b89364fd15a",
        "type": "comment",
        "z": "f3ec5d556e86f8d0",
        "g": "a83bb00d46efe804",
        "name": "Config Setup Instructions",
        "info": "Config for the field contains the mapping of UUID (as written to each arduino board) and the node id as defined in the field diagram (containing LBO, RBO, etc)\n\n1. Write a text file in the following format:\nEDGE_UUID,EDGE_NODE_ID\n7452C441,LBO\n7452C442,LBM\n...\n\n2. Place on the raspberry pi in this location:\n/home/pi/field-config.csv\n    2.a -- emergency option, you can force a config down in the \"Write config to file\"  flow below -- see instructions there\n\n3. Create and/or drop then create the \"Create Config Table\"\n4. Run \"Load Config File into Config Table\"\n\n",
        "x": 270,
        "y": 700,
        "wires": []
    },
    {
        "id": "9bca7655eb1d89cf",
        "type": "sqlite",
        "z": "f3ec5d556e86f8d0",
        "g": "a83bb00d46efe804",
        "mydb": "6f6f2d0bf9d4b5e3",
        "sqlquery": "fixed",
        "sql": "CREATE TABLE FIELD_CONFIG (\n  EDGE_UUID TEXT PRIMARY KEY,\n  EDGE_NODE_ID TEXT\n)",
        "name": "Create Config Table",
        "x": 690,
        "y": 800,
        "wires": [
            [
                "cf58eb77138066b2"
            ]
        ]
    },
    {
        "id": "c7fe99b0e0506601",
        "type": "inject",
        "z": "f3ec5d556e86f8d0",
        "g": "a83bb00d46efe804",
        "name": "Load Config File into Config Table",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 360,
        "y": 880,
        "wires": [
            [
                "8c0e6a2a0a04fcd7"
            ]
        ],
        "info": "See instructions on top -- but file is:\n/home/pi/field-config.csv"
    },
    {
        "id": "8c0e6a2a0a04fcd7",
        "type": "file in",
        "z": "f3ec5d556e86f8d0",
        "g": "a83bb00d46efe804",
        "name": "Read Field Config",
        "filename": "/home/pi/field-config.csv",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 470,
        "y": 920,
        "wires": [
            [
                "340a8ade18808c45"
            ]
        ]
    },
    {
        "id": "340a8ade18808c45",
        "type": "csv",
        "z": "f3ec5d556e86f8d0",
        "g": "a83bb00d46efe804",
        "name": "CSV Parse Field Config",
        "sep": ",",
        "hdrin": true,
        "hdrout": "none",
        "multi": "one",
        "ret": "\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "include_empty_strings": "",
        "include_null_values": "",
        "x": 690,
        "y": 920,
        "wires": [
            [
                "c58252a4cb097661"
            ]
        ]
    },
    {
        "id": "cf58eb77138066b2",
        "type": "debug",
        "z": "f3ec5d556e86f8d0",
        "g": "a83bb00d46efe804",
        "name": "debug 8",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1300,
        "y": 820,
        "wires": []
    },
    {
        "id": "9dd0a2d0ffb6a743",
        "type": "inject",
        "z": "f3ec5d556e86f8d0",
        "g": "a83bb00d46efe804",
        "name": "Create Config Table",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 310,
        "y": 800,
        "wires": [
            [
                "9bca7655eb1d89cf"
            ]
        ]
    },
    {
        "id": "4215a3196c228639",
        "type": "sqlite",
        "z": "f3ec5d556e86f8d0",
        "g": "a83bb00d46efe804",
        "mydb": "6f6f2d0bf9d4b5e3",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "SqlLite Commands",
        "x": 1090,
        "y": 920,
        "wires": [
            [
                "cf58eb77138066b2"
            ]
        ]
    },
    {
        "id": "c58252a4cb097661",
        "type": "function",
        "z": "f3ec5d556e86f8d0",
        "g": "a83bb00d46efe804",
        "name": "Construct SQL",
        "func": "var o = msg.payload;\nvar sql = \"INSERT INTO \\\"FIELD_CONFIG\\\"(EDGE_UUID, EDGE_NODE_ID) VALUES(\\\"\"+o.EDGE_UUID+\"\\\", \\\"\"+o.EDGE_NODE_ID+\"\\\") ON CONFLICT(EDGE_UUID) DO UPDATE SET EDGE_NODE_ID = excluded.EDGE_NODE_ID;\";\nmsg.topic = sql;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 900,
        "y": 920,
        "wires": [
            [
                "4215a3196c228639"
            ]
        ]
    },
    {
        "id": "579c8c19ccab0937",
        "type": "inject",
        "z": "f3ec5d556e86f8d0",
        "g": "a83bb00d46efe804",
        "name": "Drop Config Table",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 310,
        "y": 760,
        "wires": [
            [
                "a74d42b7ae961652"
            ]
        ]
    },
    {
        "id": "a74d42b7ae961652",
        "type": "sqlite",
        "z": "f3ec5d556e86f8d0",
        "g": "a83bb00d46efe804",
        "mydb": "6f6f2d0bf9d4b5e3",
        "sqlquery": "fixed",
        "sql": "DROP TABLE IF EXISTS FIELD_CONFIG;",
        "name": "Drop Field Config Table",
        "x": 710,
        "y": 760,
        "wires": [
            [
                "cf58eb77138066b2"
            ]
        ]
    },
    {
        "id": "ac6ab4bb77d73dc4",
        "type": "function",
        "z": "f3ec5d556e86f8d0",
        "g": "e63633ec18181ba7",
        "name": "Construct SQL",
        "func": "var o = msg.payload;\nvar sql = \"SELECT EDGE_NODE_ID, EDGE_UUID FROM FIELD_CONFIG WHERE EDGE_UUID='\" + o.uuid+ \"'\" ;\nmsg.topic = sql;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 1320,
        "wires": [
            [
                "f4b7c4c243db620d"
            ]
        ]
    },
    {
        "id": "0faf666bf00276e9",
        "type": "json",
        "z": "f3ec5d556e86f8d0",
        "g": "e63633ec18181ba7",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 470,
        "y": 1320,
        "wires": [
            [
                "ac6ab4bb77d73dc4"
            ]
        ]
    },
    {
        "id": "2bcc56e6d241c3d9",
        "type": "function",
        "z": "f3ec5d556e86f8d0",
        "g": "e63633ec18181ba7",
        "name": "extract nodeid",
        "func": "\nvar nodeid = msg.payload[0].EDGE_NODE_ID;\nvar nodeuuid = msg.payload[0].EDGE_UUID;\nmsg.payload = nodeid;\nmsg.topic = \"nodered/initialization/\" + nodeuuid;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 1400,
        "wires": [
            [
                "feddd1768611c551"
            ]
        ]
    },
    {
        "id": "feddd1768611c551",
        "type": "mqtt out",
        "z": "f3ec5d556e86f8d0",
        "g": "e63633ec18181ba7",
        "name": "Publish Node ID to edge Node",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5999f1d09afe1039",
        "x": 930,
        "y": 1400,
        "wires": []
    },
    {
        "id": "b111193564f5a7a0",
        "type": "comment",
        "z": "f3ec5d556e86f8d0",
        "g": "e63633ec18181ba7",
        "name": "Initialize Edge Nodes ",
        "info": "Edge nodes report in when they come online with a UUID\nUUID is accessed from the DB, and returned as a Node ID (as defined by our field layout/diagram)\n\nSee Load Config File into Config Table flow for how to edit this\n\nEach Arduino needs a unique id written into eeprom using -> https://github.com/lanceriedel/burn-uuid-eeprom\n",
        "x": 280,
        "y": 1260,
        "wires": []
    },
    {
        "id": "97e2f252303bfcf3",
        "type": "inject",
        "z": "f3ec5d556e86f8d0",
        "g": "2024311963b7a70e",
        "name": "Write config to file",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[69,68,71,69,95,85,85,73,68,44,69,68,71,69,95,78,79,68,69,95,73,68,10,55,52,53,50,67,52,52,49,44,76,66,79,10,55,52,53,50,67,52,52,50,44,76,66,77,10,55,66,68,56,51,65,49,51,44,82,66,77,10,55,48,57,67,68,66,70,70,44,82,66,79]",
        "payloadType": "bin",
        "x": 1310,
        "y": 1380,
        "wires": [
            [
                "a1e6f1282aa6e63a"
            ]
        ],
        "info": "If you can't access the raspberry pi file system -- you can put the config here and force write it\nBUT -- you have to send as binary so that it retains the newlines\n\nFor example:\nEDGE_UUID,EDGE_NODE_ID\n7452C441,LBO\n7452C442,LBM\n7BD83A13,RBM\n709CDBFF,RBO\n\n\nBe sure to hit the elipses ...  so that you can see what you are typing.  \nAlso note that it will change to binary as soon as you send -- but it will work fine"
    },
    {
        "id": "a1e6f1282aa6e63a",
        "type": "file",
        "z": "f3ec5d556e86f8d0",
        "g": "2024311963b7a70e",
        "name": "",
        "filename": "/home/pi/field-config.csv",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 1570,
        "y": 1380,
        "wires": [
            []
        ]
    },
    {
        "id": "b70ae83c222fa7da",
        "type": "comment",
        "z": "f3ec5d556e86f8d0",
        "g": "2024311963b7a70e",
        "name": "Emergency Use! Write config -  (you need to load it after)",
        "info": "If you can't access the raspberry pi file system -- you can put the config here and force write it\nBUT -- you have to send as binary so that it retains the newlines\nFor example:\nEDGE_UUID,EDGE_NODE_ID\n7452C441,LBO\n7452C442,LBM\n7BD83A13,RBM\n709CDBFF,RBO\n\n\n\n\nBe sure to hit the elipses ...  so that you can see what you are typing.  \nAlso note that it will change to binary as soon as you send -- but it will work fine",
        "x": 1400,
        "y": 1340,
        "wires": []
    },
    {
        "id": "3dd25f169354ef22",
        "type": "sqlite",
        "z": "f3ec5d556e86f8d0",
        "g": "a83bb00d46efe804",
        "mydb": "6f6f2d0bf9d4b5e3",
        "sqlquery": "fixed",
        "sql": "Select * from FIELD_CONFIG;",
        "name": "Read Config",
        "x": 450,
        "y": 1020,
        "wires": [
            [
                "ad34ea44766153db"
            ]
        ]
    },
    {
        "id": "6f32fc52a4d53df8",
        "type": "link in",
        "z": "f3ec5d556e86f8d0",
        "g": "a83bb00d46efe804",
        "name": "Read Config",
        "links": [
            "5870cb8ac8846724",
            "f03d05829f9254f9"
        ],
        "x": 285,
        "y": 1020,
        "wires": [
            [
                "3dd25f169354ef22"
            ]
        ]
    },
    {
        "id": "ad34ea44766153db",
        "type": "link out",
        "z": "f3ec5d556e86f8d0",
        "g": "a83bb00d46efe804",
        "name": "link out 29",
        "links": [
            "4369b98b6d58fe86"
        ],
        "x": 615,
        "y": 1020,
        "wires": []
    },
    {
        "id": "161f3cee4bd60724",
        "type": "link in",
        "z": "f3ec5d556e86f8d0",
        "g": "e63633ec18181ba7",
        "name": "Insert UUI Entry",
        "links": [
            "99f3e6c97f2c0d2b"
        ],
        "x": 175,
        "y": 1180,
        "wires": [
            [
                "b1e8ab6feba986c9"
            ]
        ]
    },
    {
        "id": "b1e8ab6feba986c9",
        "type": "function",
        "z": "f3ec5d556e86f8d0",
        "g": "e63633ec18181ba7",
        "name": "Construct SQL",
        "func": "var o = msg.payload;\nvar sql = \"INSERT INTO \\\"FIELD_CONFIG\\\"(EDGE_UUID, EDGE_NODE_ID) VALUES(\\\"\"+o.EDGE_UUID+\"\\\", \\\"\"+o.EDGE_NODE_ID+\"\\\") ON CONFLICT(EDGE_UUID) DO UPDATE SET EDGE_NODE_ID = excluded.EDGE_NODE_ID;\";\nmsg.topic = sql;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 1180,
        "wires": [
            [
                "4b72a159e1e82517"
            ]
        ]
    },
    {
        "id": "4b72a159e1e82517",
        "type": "sqlite",
        "z": "f3ec5d556e86f8d0",
        "g": "e63633ec18181ba7",
        "mydb": "6f6f2d0bf9d4b5e3",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "SqlLite Commands",
        "x": 510,
        "y": 1180,
        "wires": [
            []
        ]
    },
    {
        "id": "c79cb601a8c0ab17",
        "type": "comment",
        "z": "f3ec5d556e86f8d0",
        "g": "e63633ec18181ba7",
        "name": "Add Single Edge Node",
        "info": "Update single node entry",
        "x": 260,
        "y": 1140,
        "wires": []
    },
    {
        "id": "9f34def0af02efeb",
        "type": "function",
        "z": "f3ec5d556e86f8d0",
        "g": "bc92f0b2168e67b1",
        "name": "Construct SQL",
        "func": "var o = msg.payload;\nvar sql = \"DELETE FROM \\\"FIELD_CONFIG\\\" WHERE EDGE_UUID=\\\"\"+o.EDGE_UUID+\"\\\";\";\nmsg.topic = sql;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1360,
        "y": 1160,
        "wires": [
            [
                "80e1d2d095f19693"
            ]
        ]
    },
    {
        "id": "80e1d2d095f19693",
        "type": "sqlite",
        "z": "f3ec5d556e86f8d0",
        "g": "bc92f0b2168e67b1",
        "mydb": "6f6f2d0bf9d4b5e3",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "SqlLite Commands",
        "x": 1570,
        "y": 1160,
        "wires": [
            []
        ]
    },
    {
        "id": "ac5d35d999fc40b9",
        "type": "comment",
        "z": "f3ec5d556e86f8d0",
        "g": "bc92f0b2168e67b1",
        "name": "Remove Single Edge Node",
        "info": "Update single node entry",
        "x": 1310,
        "y": 1120,
        "wires": []
    },
    {
        "id": "cd811a5da6dea1c9",
        "type": "link in",
        "z": "f3ec5d556e86f8d0",
        "g": "bc92f0b2168e67b1",
        "name": "Delete UUI Entry",
        "links": [
            "9e93acca6dde891c"
        ],
        "x": 1215,
        "y": 1160,
        "wires": [
            [
                "9f34def0af02efeb"
            ]
        ]
    },
    {
        "id": "f86871afbc03993e",
        "type": "mqtt out",
        "z": "f3ec5d556e86f8d0",
        "g": "7ceda8dc6f5a8d60",
        "name": "Broadcast Laser Diff",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5999f1d09afe1039",
        "x": 800,
        "y": 1600,
        "wires": []
    },
    {
        "id": "91b03956f65107e7",
        "type": "function",
        "z": "f3ec5d556e86f8d0",
        "g": "7ceda8dc6f5a8d60",
        "name": "assemble mqtt message",
        "func": "var o = msg.payload;\n\nvar t = \"{ \\\"DETECTOR_DIFF\\\": \\\"\" + o.diff + \"\\\"}\";\nmsg.payload = t;\n//nodered/firescore/[node id]\nmsg.topic = \"nodered/laserdiff\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 1600,
        "wires": [
            [
                "f86871afbc03993e"
            ]
        ]
    },
    {
        "id": "7a6d7007d9d5ec67",
        "type": "link in",
        "z": "f3ec5d556e86f8d0",
        "g": "7ceda8dc6f5a8d60",
        "name": "Broadcast Laser Diff Change",
        "links": [
            "c1f7e764f490f914"
        ],
        "x": 225,
        "y": 1600,
        "wires": [
            [
                "91b03956f65107e7"
            ]
        ]
    },
    {
        "id": "ccf03d13258bb4e3",
        "type": "comment",
        "z": "f3ec5d556e86f8d0",
        "g": "7ceda8dc6f5a8d60",
        "name": "Broadcast Laser Diff Change",
        "info": "",
        "x": 280,
        "y": 1540,
        "wires": []
    },
    {
        "id": "e2b27e9faf37bd1e",
        "type": "mqtt out",
        "z": "f3ec5d556e86f8d0",
        "g": "96cafb8e88dad064",
        "name": "Broadcast Query Latest Tare",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "5999f1d09afe1039",
        "x": 820,
        "y": 1780,
        "wires": []
    },
    {
        "id": "6331f7057ebfd37c",
        "type": "function",
        "z": "f3ec5d556e86f8d0",
        "g": "96cafb8e88dad064",
        "name": "assemble mqtt message",
        "func": "var o = msg.payload;\n\nvar t = \"{ }\";\nmsg.payload = t;\n//nodered/firescore/[node id]\nmsg.topic = \"nodered/weighttare\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 1780,
        "wires": [
            [
                "e2b27e9faf37bd1e"
            ]
        ]
    },
    {
        "id": "bc8a6edecc1a9a5c",
        "type": "link in",
        "z": "f3ec5d556e86f8d0",
        "g": "96cafb8e88dad064",
        "name": "Broadcast TareQuery",
        "links": [
            "c1f7e764f490f914",
            "4bdef8d87b5da823"
        ],
        "x": 225,
        "y": 1780,
        "wires": [
            [
                "6331f7057ebfd37c"
            ]
        ]
    },
    {
        "id": "c74fb766b19e2bf1",
        "type": "comment",
        "z": "f3ec5d556e86f8d0",
        "g": "96cafb8e88dad064",
        "name": "Broadcast Query for Weight Tare",
        "info": "Reported back through a separate message\nedgenode/latesttare/",
        "x": 290,
        "y": 1720,
        "wires": []
    },
    {
        "id": "f8aa15da571b3aae",
        "type": "ui_text",
        "z": "f3ec5d556e86f8d0",
        "g": "96faa29525ade8f0",
        "group": "a5991f3b10b51e7c",
        "order": 3,
        "width": "6",
        "height": "4",
        "name": "Loaded Values",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 700,
        "y": 220,
        "wires": []
    },
    {
        "id": "dfeaa41a75adbf51",
        "type": "ui_button",
        "z": "f3ec5d556e86f8d0",
        "g": "96faa29525ade8f0",
        "name": "Submit",
        "group": "a5991f3b10b51e7c",
        "order": 4,
        "width": "0",
        "height": "0",
        "passthru": false,
        "label": "Current Config Dump",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 280,
        "y": 220,
        "wires": [
            [
                "5870cb8ac8846724",
                "a11c3ee5796d07f2"
            ]
        ]
    },
    {
        "id": "f4c6348e4bde4c20",
        "type": "ui_form",
        "z": "f3ec5d556e86f8d0",
        "g": "96faa29525ade8f0",
        "name": "",
        "label": "Add UUID Mapping",
        "group": "a5991f3b10b51e7c",
        "order": 1,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "Arduino UUID",
                "value": "EDGE_UUID",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Node ID",
                "value": "EDGE_NODE_ID",
                "type": "text",
                "required": false,
                "rows": null
            }
        ],
        "formValue": {
            "EDGE_UUID": "",
            "EDGE_NODE_ID": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "x": 310,
        "y": 320,
        "wires": [
            [
                "99f3e6c97f2c0d2b",
                "a11c3ee5796d07f2"
            ]
        ]
    },
    {
        "id": "5870cb8ac8846724",
        "type": "link out",
        "z": "f3ec5d556e86f8d0",
        "g": "96faa29525ade8f0",
        "name": "link out 28",
        "links": [
            "6f32fc52a4d53df8"
        ],
        "x": 425,
        "y": 220,
        "wires": []
    },
    {
        "id": "4369b98b6d58fe86",
        "type": "link in",
        "z": "f3ec5d556e86f8d0",
        "g": "96faa29525ade8f0",
        "name": "Config Display",
        "links": [
            "ad34ea44766153db"
        ],
        "x": 555,
        "y": 220,
        "wires": [
            [
                "f8aa15da571b3aae"
            ]
        ]
    },
    {
        "id": "99f3e6c97f2c0d2b",
        "type": "link out",
        "z": "f3ec5d556e86f8d0",
        "g": "96faa29525ade8f0",
        "name": "link out 30",
        "links": [
            "161f3cee4bd60724"
        ],
        "x": 505,
        "y": 320,
        "wires": []
    },
    {
        "id": "02673478ac90323a",
        "type": "comment",
        "z": "f3ec5d556e86f8d0",
        "g": "96faa29525ade8f0",
        "name": "Dump Current Config",
        "info": "",
        "x": 320,
        "y": 160,
        "wires": []
    },
    {
        "id": "1dfa349788a1a948",
        "type": "ui_form",
        "z": "f3ec5d556e86f8d0",
        "g": "96faa29525ade8f0",
        "name": "",
        "label": "Remove UUID Mapping",
        "group": "a5991f3b10b51e7c",
        "order": 2,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "Arduino UUID",
                "value": "EDGE_UUID",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "EDGE_UUID": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "x": 330,
        "y": 400,
        "wires": [
            [
                "9e93acca6dde891c",
                "a11c3ee5796d07f2"
            ]
        ]
    },
    {
        "id": "9e93acca6dde891c",
        "type": "link out",
        "z": "f3ec5d556e86f8d0",
        "g": "96faa29525ade8f0",
        "name": "link out 31",
        "links": [
            "cd811a5da6dea1c9"
        ],
        "x": 535,
        "y": 400,
        "wires": []
    },
    {
        "id": "a11c3ee5796d07f2",
        "type": "delay",
        "z": "f3ec5d556e86f8d0",
        "g": "96faa29525ade8f0",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 600,
        "y": 280,
        "wires": [
            [
                "f03d05829f9254f9"
            ]
        ]
    },
    {
        "id": "f03d05829f9254f9",
        "type": "link out",
        "z": "f3ec5d556e86f8d0",
        "g": "96faa29525ade8f0",
        "name": "link out 33",
        "links": [
            "6f32fc52a4d53df8"
        ],
        "x": 755,
        "y": 280,
        "wires": []
    },
    {
        "id": "a3534a12592a4f1e",
        "type": "ui_form",
        "z": "f3ec5d556e86f8d0",
        "g": "96faa29525ade8f0",
        "name": "Set Laser Detector Diff",
        "label": "Set Laser Detector Differential (default 500)",
        "group": "a5991f3b10b51e7c",
        "order": 5,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "Diff",
                "value": "diff",
                "type": "number",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "diff": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "x": 320,
        "y": 500,
        "wires": [
            [
                "c1f7e764f490f914"
            ]
        ]
    },
    {
        "id": "c1f7e764f490f914",
        "type": "link out",
        "z": "f3ec5d556e86f8d0",
        "g": "96faa29525ade8f0",
        "name": "link out 52",
        "links": [
            "7a6d7007d9d5ec67",
            "bc8a6edecc1a9a5c"
        ],
        "x": 545,
        "y": 500,
        "wires": []
    },
    {
        "id": "4bdef8d87b5da823",
        "type": "link out",
        "z": "f3ec5d556e86f8d0",
        "g": "96faa29525ade8f0",
        "name": "link out 53",
        "links": [
            "bc8a6edecc1a9a5c"
        ],
        "x": 595,
        "y": 560,
        "wires": []
    },
    {
        "id": "b15078312d3e61f5",
        "type": "ui_button",
        "z": "f3ec5d556e86f8d0",
        "g": "96faa29525ade8f0",
        "name": "Query Latest Tare Value from all Field",
        "group": "a5991f3b10b51e7c",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Query Field For Latest Tares",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 370,
        "y": 560,
        "wires": [
            [
                "4bdef8d87b5da823"
            ]
        ]
    },
    {
        "id": "da8da29f2b800fa5",
        "type": "comment",
        "z": "f3ec5d556e86f8d0",
        "g": "96faa29525ade8f0",
        "name": "=== Field Config Dashboard Items",
        "info": "",
        "x": 300,
        "y": 100,
        "wires": []
    },
    {
        "id": "e1ba7bc1352dbb74",
        "type": "comment",
        "z": "bd2296fd2d68d405",
        "g": "6a070793fb470a03",
        "name": "MVP Step 1 - Light up all Bldgs",
        "info": "",
        "x": 270,
        "y": 100,
        "wires": []
    },
    {
        "id": "5725302ea02fb9eb",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "g": "6a070793fb470a03",
        "name": "",
        "group": "7c1e7786ce952a5d",
        "order": 2,
        "width": "10",
        "height": "1",
        "passthru": true,
        "label": "Turn on Bldgs",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 310,
        "y": 140,
        "wires": [
            [
                "b52637f4da03c425"
            ]
        ]
    },
    {
        "id": "ff606f8c806a3eac",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "6a070793fb470a03",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 790,
        "y": 220,
        "wires": []
    },
    {
        "id": "28a544304a1e4303",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "6a070793fb470a03",
        "name": "Set Light 0 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/lighton/\"+node_id;\nmsg.payload = \"{ \\\"whichLight\\\":0 }\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 220,
        "wires": [
            [
                "ff606f8c806a3eac"
            ]
        ]
    },
    {
        "id": "b52637f4da03c425",
        "type": "loop",
        "z": "bd2296fd2d68d405",
        "g": "6a070793fb470a03",
        "name": "",
        "kind": "enum",
        "count": "",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "allBldgs",
        "enumerationType": "global",
        "limit": "",
        "loopPayload": "loop-val",
        "finalPayload": "final-count",
        "x": 550,
        "y": 140,
        "wires": [
            [],
            [
                "28a544304a1e4303",
                "95c484054d952cb6",
                "a3b9dda68a07d22c",
                "3697150f5332d13d"
            ]
        ]
    },
    {
        "id": "a3b9dda68a07d22c",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "6a070793fb470a03",
        "name": "Set Gutter MQTT msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/updatepixels/\"+node_id;\nmsg.payload = \"{ \\\"whichLeds\\\":0, \" +\n    \"\\\"pixels\\\": \\\"222222222222222222222222222222\\\"\" +\n    \"}\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 340,
        "wires": [
            [
                "0941e20c1244d3c4",
                "5903df706bf17bf9"
            ]
        ]
    },
    {
        "id": "0941e20c1244d3c4",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "6a070793fb470a03",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 910,
        "y": 340,
        "wires": []
    },
    {
        "id": "95c484054d952cb6",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "6a070793fb470a03",
        "name": "Set Light 1 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/lighton/\"+node_id;\nmsg.payload = \"{ \\\"whichLight\\\": 1 }\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 260,
        "wires": [
            [
                "17966a2f1dd06930"
            ]
        ]
    },
    {
        "id": "17966a2f1dd06930",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "6a070793fb470a03",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 830,
        "y": 260,
        "wires": []
    },
    {
        "id": "3697150f5332d13d",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "6a070793fb470a03",
        "name": "Set Light 2 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/lighton/\"+node_id;\nmsg.payload = \"{ \\\"whichLight\\\": 2 }\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 300,
        "wires": [
            [
                "822ce164ff689dfc"
            ]
        ]
    },
    {
        "id": "822ce164ff689dfc",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "6a070793fb470a03",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 870,
        "y": 300,
        "wires": []
    },
    {
        "id": "5903df706bf17bf9",
        "type": "delay",
        "z": "bd2296fd2d68d405",
        "g": "6a070793fb470a03",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 350,
        "y": 220,
        "wires": [
            [
                "b52637f4da03c425"
            ]
        ]
    },
    {
        "id": "31c4db3eb2f36e59",
        "type": "link in",
        "z": "bd2296fd2d68d405",
        "g": "6a070793fb470a03",
        "name": "someone wants to turn me on",
        "links": [
            "dc410816705aadf3",
            "971728897ecf9437",
            "32f4fcba179c05b8",
            "309dc99dff061d40"
        ],
        "x": 195,
        "y": 140,
        "wires": [
            [
                "5725302ea02fb9eb"
            ]
        ]
    },
    {
        "id": "93750bbcea38e7fe",
        "type": "comment",
        "z": "bd2296fd2d68d405",
        "g": "18778eda46bd5b07",
        "name": "MVP Step 2 - Turn Off a Given Bldg",
        "info": "",
        "x": 280,
        "y": 900,
        "wires": []
    },
    {
        "id": "442e921eed2365ac",
        "type": "ui_form",
        "z": "bd2296fd2d68d405",
        "d": true,
        "g": "18778eda46bd5b07",
        "name": "",
        "label": "Turn off Specific Bldg [type]",
        "group": "7c1e7786ce952a5d",
        "order": 1,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "Bldg ID",
                "value": "bldg",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "bldg": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "cancel",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "className": "",
        "x": 300,
        "y": 960,
        "wires": [
            [
                "aa5c2742d22be7f8"
            ]
        ]
    },
    {
        "id": "aa5c2742d22be7f8",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "18778eda46bd5b07",
        "name": "Set MQTT Messages",
        "func": "/* Example input\nmsg.payload : Object\nobject\n    bldg: \"RT\"\n*/ \n\n//--- Basic variables\nvar node_id = msg.payload.bldg;\nvar msg1 = {};\nvar msg2 = {};\nvar msg3 = {};\n\n//--- Set up MQTT messages\nmsg1.topic = \"nodered/lightoff/\"+node_id;\nmsg1.payload = \"{ \\\"whichLight\\\":1 }\";\nmsg2.topic = \"nodered/updatepixels/\" + node_id;\nmsg2.payload = \"{ \" + \n    \"\\\"whichLeds\\\":0, \" + \n    \"\\\"pixels\\\":\\\"000000000000000000000000000000\\\" \" +\n    \"}\";\nmsg3.topic = \"nodered/lightoff/\" + node_id;\nmsg3.payload = \"{ \\\"whichLight\\\":2 }\";\n\n//--- Fin\nreturn [msg1, msg2, msg3];",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 960,
        "wires": [
            [
                "fd128583b8d87f7f"
            ],
            [
                "bdb7dfde4f3191a6"
            ],
            [
                "4eb1999fbc3aab57"
            ]
        ]
    },
    {
        "id": "fd128583b8d87f7f",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "18778eda46bd5b07",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 690,
        "y": 920,
        "wires": []
    },
    {
        "id": "bdb7dfde4f3191a6",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "18778eda46bd5b07",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 690,
        "y": 960,
        "wires": []
    },
    {
        "id": "4eb1999fbc3aab57",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "18778eda46bd5b07",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 690,
        "y": 1000,
        "wires": []
    },
    {
        "id": "f5a74fe1d67dc764",
        "type": "comment",
        "z": "bd2296fd2d68d405",
        "g": "378995858571b39f",
        "name": "MVP Step 1 - Light Off all Bldgs",
        "info": "",
        "x": 270,
        "y": 520,
        "wires": []
    },
    {
        "id": "54b84dae77542449",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "g": "378995858571b39f",
        "name": "",
        "group": "7c1e7786ce952a5d",
        "order": 3,
        "width": "10",
        "height": "1",
        "passthru": true,
        "label": "Turn off Bldgs",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 320,
        "y": 560,
        "wires": [
            [
                "108daae7a312a34f"
            ]
        ]
    },
    {
        "id": "7156e130265428bd",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "378995858571b39f",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 930,
        "y": 520,
        "wires": []
    },
    {
        "id": "a802cc1f90bd41ea",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "378995858571b39f",
        "name": "Set Light 0 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/lightoff/\"+node_id;\nmsg.payload = \"{ \\\"whichLight\\\":0 }\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 740,
        "y": 520,
        "wires": [
            [
                "7156e130265428bd"
            ]
        ]
    },
    {
        "id": "108daae7a312a34f",
        "type": "loop",
        "z": "bd2296fd2d68d405",
        "g": "378995858571b39f",
        "name": "",
        "kind": "enum",
        "count": "",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "allBldgs",
        "enumerationType": "global",
        "limit": "",
        "loopPayload": "loop-val",
        "finalPayload": "final-count",
        "x": 550,
        "y": 560,
        "wires": [
            [],
            [
                "e05f3a75274f8b73",
                "bdb38005806f60c4",
                "19ec3afca86d1046"
            ]
        ]
    },
    {
        "id": "bdb38005806f60c4",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "378995858571b39f",
        "name": "Set Gutter MQTT msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/updatepixels/\"+node_id;\nmsg.payload = \"{ \\\"whichLeds\\\":0, \" +\n    \"\\\"pixels\\\": \\\"000000000000000000000000000000\\\"\" +\n    \"}\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 760,
        "wires": [
            [
                "916452b345ae29e0",
                "7690e8c04058fd38"
            ]
        ]
    },
    {
        "id": "916452b345ae29e0",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "378995858571b39f",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 910,
        "y": 760,
        "wires": []
    },
    {
        "id": "e05f3a75274f8b73",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "378995858571b39f",
        "name": "Set Light 1 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/lightoff/\"+node_id;\nmsg.payload = \"{ \\\"whichLight\\\": 1 }\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 680,
        "wires": [
            [
                "d3c4d73421b078d1"
            ]
        ]
    },
    {
        "id": "d3c4d73421b078d1",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "378995858571b39f",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 830,
        "y": 680,
        "wires": []
    },
    {
        "id": "19ec3afca86d1046",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "378995858571b39f",
        "name": "Set Light 2 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/lightoff/\"+node_id;\nmsg.payload = \"{ \\\"whichLight\\\": 2 }\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 720,
        "wires": [
            [
                "7bd8a304b7ed99cb"
            ]
        ]
    },
    {
        "id": "7bd8a304b7ed99cb",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "378995858571b39f",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 870,
        "y": 720,
        "wires": []
    },
    {
        "id": "7690e8c04058fd38",
        "type": "delay",
        "z": "bd2296fd2d68d405",
        "g": "378995858571b39f",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 370,
        "y": 640,
        "wires": [
            [
                "108daae7a312a34f"
            ]
        ]
    },
    {
        "id": "48373ebe740e92b6",
        "type": "link in",
        "z": "bd2296fd2d68d405",
        "g": "378995858571b39f",
        "name": "someone wants to turn me off",
        "links": [
            "da02d40547f5f97a",
            "627488f25f62e8dc",
            "e2a7cf4a35c21f95",
            "66a6c020170412e9",
            "75062d25f49d697d",
            "332c24e3641712c2",
            "7960cf867b7e4a78",
            "3101ced9397172da"
        ],
        "x": 205,
        "y": 560,
        "wires": [
            [
                "54b84dae77542449"
            ]
        ]
    },
    {
        "id": "456e8735d35afba5",
        "type": "comment",
        "z": "bd2296fd2d68d405",
        "g": "4f152b1eeea1837b",
        "name": "MVP Step 1 - Light Off all Bldgs",
        "info": "",
        "x": 290,
        "y": 1140,
        "wires": []
    },
    {
        "id": "8b6467bf56c2cbce",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "g": "4f152b1eeea1837b",
        "name": "",
        "group": "087e97027a44b747",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "KILL ALL HEATERS",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 360,
        "y": 1180,
        "wires": [
            [
                "cb99be2b70c3a4ee"
            ]
        ]
    },
    {
        "id": "53134e60fe9ad531",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "4f152b1eeea1837b",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 1110,
        "y": 1180,
        "wires": []
    },
    {
        "id": "254d6dbe796bead4",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "4f152b1eeea1837b",
        "name": "Set heater MQTT msgs",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/heateroff/\"+node_id;\nmsg.payload = \"{}\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 870,
        "y": 1180,
        "wires": [
            [
                "53134e60fe9ad531",
                "16fb96507f1910a9",
                "e3641c48aef6dae2"
            ]
        ]
    },
    {
        "id": "cb99be2b70c3a4ee",
        "type": "loop",
        "z": "bd2296fd2d68d405",
        "g": "4f152b1eeea1837b",
        "name": "",
        "kind": "enum",
        "count": "",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "[\"RTO\",\"RBO\",\"LBO\",\"LTO\"]",
        "enumerationType": "json",
        "limit": "",
        "loopPayload": "loop-val",
        "finalPayload": "final-count",
        "x": 610,
        "y": 1180,
        "wires": [
            [],
            [
                "254d6dbe796bead4"
            ]
        ]
    },
    {
        "id": "16fb96507f1910a9",
        "type": "delay",
        "z": "bd2296fd2d68d405",
        "g": "4f152b1eeea1837b",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 770,
        "y": 1280,
        "wires": [
            [
                "cb99be2b70c3a4ee"
            ]
        ]
    },
    {
        "id": "756238117240a8cf",
        "type": "link in",
        "z": "bd2296fd2d68d405",
        "g": "4f152b1eeea1837b",
        "name": "someone wants to turn heaters off",
        "links": [
            "627488f25f62e8dc",
            "66a6c020170412e9",
            "da02d40547f5f97a"
        ],
        "x": 225,
        "y": 1180,
        "wires": [
            [
                "8b6467bf56c2cbce"
            ]
        ]
    },
    {
        "id": "e3641c48aef6dae2",
        "type": "debug",
        "z": "bd2296fd2d68d405",
        "g": "4f152b1eeea1837b",
        "name": "debug 9",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1080,
        "y": 1280,
        "wires": []
    },
    {
        "id": "bf8a32b7f8081bb2",
        "type": "comment",
        "z": "bd2296fd2d68d405",
        "g": "86746eb8946eaa91",
        "name": "Manual Waters",
        "info": "",
        "x": 240,
        "y": 1480,
        "wires": []
    },
    {
        "id": "b093ebf16ae60878",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "86746eb8946eaa91",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 650,
        "y": 1620,
        "wires": []
    },
    {
        "id": "c30bab3d6b1794ac",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "86746eb8946eaa91",
        "name": "Set up MQTT Message",
        "func": "//--- Basic variables\nvar theBldg = global.get(\"manualWaterBldg\");\nvar theTime = msg.time;\nmsg.payload = {};\n\n//--- Set up MQTT message\nmsg.topic = \"edgenode/balldrop/\"+theBldg;\nmsg.payload.BUILDING_NAME = theBldg;\nmsg.payload.num_drops = 1;\nmsg.payload.timestamp = theTime;\nmsg.payload.side_id = 0;\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 1620,
        "wires": [
            [
                "b093ebf16ae60878"
            ]
        ]
    },
    {
        "id": "f0f486a730b8ca76",
        "type": "ui_dropdown",
        "z": "bd2296fd2d68d405",
        "g": "86746eb8946eaa91",
        "name": "",
        "label": "Add Water Drops / Hits",
        "tooltip": "",
        "place": "Select option",
        "group": "d30d14b4d9e32e11",
        "order": 1,
        "width": 10,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "LBI",
                "value": "LBI",
                "type": "str"
            },
            {
                "label": "LTI",
                "value": "LTI",
                "type": "str"
            },
            {
                "label": "LBM",
                "value": "LBM",
                "type": "str"
            },
            {
                "label": "LTM",
                "value": "LTM",
                "type": "str"
            },
            {
                "label": "LBO",
                "value": "LBO",
                "type": "str"
            },
            {
                "label": "LTO",
                "value": "LTO",
                "type": "str"
            },
            {
                "label": "RBI",
                "value": "RBI",
                "type": "str"
            },
            {
                "label": "RTI",
                "value": "RTI",
                "type": "str"
            },
            {
                "label": "RBM",
                "value": "RBM",
                "type": "str"
            },
            {
                "label": "RTM",
                "value": "RTM",
                "type": "str"
            },
            {
                "label": "RBO",
                "value": "RBO",
                "type": "str"
            },
            {
                "label": "RTO",
                "value": "RTO",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 300,
        "y": 1540,
        "wires": [
            [
                "3f38d246c62ef7bd"
            ]
        ]
    },
    {
        "id": "f4d91ac44401745d",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "g": "86746eb8946eaa91",
        "name": "",
        "group": "d30d14b4d9e32e11",
        "order": 1,
        "width": "5",
        "height": "1",
        "passthru": false,
        "label": "Send Water",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 270,
        "y": 1620,
        "wires": [
            [
                "c30bab3d6b1794ac"
            ]
        ]
    },
    {
        "id": "3f38d246c62ef7bd",
        "type": "change",
        "z": "bd2296fd2d68d405",
        "g": "86746eb8946eaa91",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "manualWaterBldg",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 1540,
        "wires": [
            []
        ]
    },
    {
        "id": "25bdc69949d0b152",
        "type": "comment",
        "z": "bd2296fd2d68d405",
        "g": "77bdfe65956919ec",
        "name": "Manual Injects for Testing",
        "info": "",
        "x": 1350,
        "y": 720,
        "wires": []
    },
    {
        "id": "b3329dfa95503c2c",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "d": true,
        "g": "77bdfe65956919ec",
        "name": "",
        "group": "3e7886cb7c605213",
        "order": 3,
        "width": 5,
        "height": 1,
        "passthru": true,
        "label": "Set LBM to Max FS",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 1370,
        "y": 800,
        "wires": [
            [
                "2d07da5341cf14ee",
                "b8f41ef7533e00c1"
            ]
        ]
    },
    {
        "id": "1a9410ac2442e363",
        "type": "link out",
        "z": "bd2296fd2d68d405",
        "g": "77bdfe65956919ec",
        "name": "Manual set Max FS",
        "mode": "link",
        "links": [
            "0416ea6909311b42",
            "113bf2ef4799a486"
        ],
        "x": 1765,
        "y": 800,
        "wires": []
    },
    {
        "id": "2d07da5341cf14ee",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "77bdfe65956919ec",
        "name": "Set Window 1 FS",
        "func": "// Vars\nmsg.payload = {};\n\n// Set up params for callback node\nmsg.payload.bldg = \"LBM\";\nmsg.payload.window = 1;\nmsg.payload.numFire = 8;\n\n// Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1610,
        "y": 780,
        "wires": [
            [
                "1a9410ac2442e363"
            ]
        ]
    },
    {
        "id": "b8f41ef7533e00c1",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "77bdfe65956919ec",
        "name": "Set Window 2 FS",
        "func": "// Vars\nmsg.payload = {};\n\n// Set up params for callback node\nmsg.payload.bldg = \"LBM\";\nmsg.payload.window = 2;\nmsg.payload.numFire = 8;\n\n// Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1610,
        "y": 820,
        "wires": [
            [
                "1a9410ac2442e363"
            ]
        ]
    },
    {
        "id": "811f25a4a4480bf7",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "d": true,
        "g": "77bdfe65956919ec",
        "name": "",
        "group": "3e7886cb7c605213",
        "order": 4,
        "width": 5,
        "height": 1,
        "passthru": true,
        "label": "Send 2 Lasers to LBM",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 1380,
        "y": 920,
        "wires": [
            [
                "d775d38173b3593c"
            ]
        ]
    },
    {
        "id": "d775d38173b3593c",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "77bdfe65956919ec",
        "name": "Set 2 hits",
        "func": "/* \nExample input: \n{\n    \"node_id\":\"LTO\",\n    \"num_hits\":5, \n    \"timestamp\":1234567890\n}\n*/ \n// Vars\nmsg.payload = {};\n\n// Set up messages that emulate the MQTT message\nmsg.payload.node_id = \"LBM\";\nmsg.payload.num_hits = 2;\nmsg.payload.timestamp = 1234567890;\n\n// Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1580,
        "y": 920,
        "wires": [
            [
                "8b81919795d67036"
            ]
        ]
    },
    {
        "id": "8b81919795d67036",
        "type": "link out",
        "z": "bd2296fd2d68d405",
        "g": "77bdfe65956919ec",
        "name": "Manual Send Lasers",
        "mode": "link",
        "links": [
            "da290e77a88988a7"
        ],
        "x": 1765,
        "y": 920,
        "wires": []
    },
    {
        "id": "3014efb296f50a70",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "d": true,
        "g": "77bdfe65956919ec",
        "name": "",
        "group": "3e7886cb7c605213",
        "order": 5,
        "width": 5,
        "height": 1,
        "passthru": true,
        "label": "Set LBI to Max FS",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 1970,
        "y": 800,
        "wires": [
            [
                "412dda5307ab23bc",
                "11d191fddb70f4cf"
            ]
        ]
    },
    {
        "id": "3fbcebb8a982c031",
        "type": "link out",
        "z": "bd2296fd2d68d405",
        "g": "77bdfe65956919ec",
        "name": "Manual set Max FS",
        "mode": "link",
        "links": [
            "0416ea6909311b42",
            "113bf2ef4799a486"
        ],
        "x": 2415,
        "y": 800,
        "wires": []
    },
    {
        "id": "412dda5307ab23bc",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "77bdfe65956919ec",
        "name": "Set Window 1 FS",
        "func": "// Vars\nmsg.payload = {};\n\n// Set up params for callback node\nmsg.payload.bldg = \"LBI\";\nmsg.payload.window = 1;\nmsg.payload.numFire = 8;\n\n// Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2250,
        "y": 900,
        "wires": [
            [
                "3fbcebb8a982c031"
            ]
        ]
    },
    {
        "id": "11d191fddb70f4cf",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "77bdfe65956919ec",
        "name": "Set Window 2 FS",
        "func": "// Vars\nmsg.payload = {};\n\n// Set up params for callback node\nmsg.payload.bldg = \"LBI\";\nmsg.payload.window = 2;\nmsg.payload.numFire = 8;\n\n// Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2250,
        "y": 940,
        "wires": [
            [
                "3fbcebb8a982c031"
            ]
        ]
    },
    {
        "id": "0e3ebf9316c50718",
        "type": "link out",
        "z": "bd2296fd2d68d405",
        "g": "77bdfe65956919ec",
        "name": "JUST END IT",
        "mode": "link",
        "links": [
            "691a5afc5b52b78a",
            "5d7142916236b97e"
        ],
        "x": 1475,
        "y": 1000,
        "wires": []
    },
    {
        "id": "c5d69c3b0f5e30ee",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "d": true,
        "g": "77bdfe65956919ec",
        "name": "",
        "group": "3e7886cb7c605213",
        "order": 1,
        "width": 5,
        "height": 1,
        "passthru": true,
        "label": "RESET ALL",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 1350,
        "y": 1000,
        "wires": [
            [
                "0e3ebf9316c50718"
            ]
        ]
    },
    {
        "id": "eb1c9ed5222c1bae",
        "type": "comment",
        "z": "bd2296fd2d68d405",
        "g": "1e2b3d276327b031",
        "name": "Light 1 All Bldgs",
        "info": "",
        "x": 1320,
        "y": 120,
        "wires": []
    },
    {
        "id": "c126a3be75f30239",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "g": "1e2b3d276327b031",
        "name": "",
        "group": "7c1e7786ce952a5d",
        "order": 3,
        "width": "5",
        "height": "1",
        "passthru": true,
        "label": "Light 1 All Bldgs",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 1420,
        "y": 160,
        "wires": [
            [
                "5928222f3d7ec169"
            ]
        ]
    },
    {
        "id": "5928222f3d7ec169",
        "type": "loop",
        "z": "bd2296fd2d68d405",
        "g": "1e2b3d276327b031",
        "name": "",
        "kind": "enum",
        "count": "",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "allBldgs",
        "enumerationType": "global",
        "limit": "",
        "loopPayload": "loop-val",
        "finalPayload": "final-count",
        "x": 1650,
        "y": 160,
        "wires": [
            [],
            [
                "af69dcc68b5be41d"
            ]
        ]
    },
    {
        "id": "af69dcc68b5be41d",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "1e2b3d276327b031",
        "name": "Set Light 1 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/lighton/\"+node_id;\nmsg.payload = \"{ \\\"whichLight\\\": 1 }\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1740,
        "y": 280,
        "wires": [
            [
                "c9c52f1b1fc4875f",
                "5928222f3d7ec169"
            ]
        ]
    },
    {
        "id": "c9c52f1b1fc4875f",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "1e2b3d276327b031",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 1930,
        "y": 280,
        "wires": []
    },
    {
        "id": "04f2bf0e5e5fda90",
        "type": "comment",
        "z": "bd2296fd2d68d405",
        "g": "b73bab6188d86888",
        "name": "Light 2 All Bldgs",
        "info": "",
        "x": 1320,
        "y": 400,
        "wires": []
    },
    {
        "id": "86bc73a47bd09922",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "g": "b73bab6188d86888",
        "name": "",
        "group": "7c1e7786ce952a5d",
        "order": 3,
        "width": "5",
        "height": "1",
        "passthru": true,
        "label": "Light 2 All Bldgs",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 1420,
        "y": 440,
        "wires": [
            [
                "8ff26e579280950f"
            ]
        ]
    },
    {
        "id": "8ff26e579280950f",
        "type": "loop",
        "z": "bd2296fd2d68d405",
        "g": "b73bab6188d86888",
        "name": "",
        "kind": "enum",
        "count": "",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "allBldgs",
        "enumerationType": "global",
        "limit": "",
        "loopPayload": "loop-val",
        "finalPayload": "final-count",
        "x": 1650,
        "y": 440,
        "wires": [
            [],
            [
                "26dde0beab910f33"
            ]
        ]
    },
    {
        "id": "26dde0beab910f33",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "b73bab6188d86888",
        "name": "Set Light 2 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/lighton/\"+node_id;\nmsg.payload = \"{ \\\"whichLight\\\": 2 }\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1740,
        "y": 560,
        "wires": [
            [
                "66877abc465757d5",
                "8ff26e579280950f"
            ]
        ]
    },
    {
        "id": "66877abc465757d5",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "b73bab6188d86888",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 1930,
        "y": 560,
        "wires": []
    },
    {
        "id": "0a259f61ef263ff4",
        "type": "comment",
        "z": "bd2296fd2d68d405",
        "g": "a4436834ffd8d273",
        "name": "Manual Lights - Rev 2 - Turn On",
        "info": "",
        "x": 1130,
        "y": 1480,
        "wires": []
    },
    {
        "id": "48336719f32d37fa",
        "type": "ui_dropdown",
        "z": "bd2296fd2d68d405",
        "g": "a4436834ffd8d273",
        "name": "",
        "label": "Turn On Specific Bldg",
        "tooltip": "",
        "place": "Select option",
        "group": "7c1e7786ce952a5d",
        "order": 1,
        "width": "5",
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "LBI",
                "value": "LBI",
                "type": "str"
            },
            {
                "label": "LTI",
                "value": "LTI",
                "type": "str"
            },
            {
                "label": "LBM",
                "value": "LBM",
                "type": "str"
            },
            {
                "label": "LTM",
                "value": "LTM",
                "type": "str"
            },
            {
                "label": "LBO",
                "value": "LBO",
                "type": "str"
            },
            {
                "label": "LTO",
                "value": "LTO",
                "type": "str"
            },
            {
                "label": "RBI",
                "value": "RBI",
                "type": "str"
            },
            {
                "label": "RTI",
                "value": "RTI",
                "type": "str"
            },
            {
                "label": "RBM",
                "value": "RBM",
                "type": "str"
            },
            {
                "label": "RTM",
                "value": "RTM",
                "type": "str"
            },
            {
                "label": "RBO",
                "value": "RBO",
                "type": "str"
            },
            {
                "label": "RTO",
                "value": "RTO",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 1140,
        "y": 1540,
        "wires": [
            [
                "994fdba605b8d390",
                "ec0812801f759152",
                "7cf7c2a31bf1bcce",
                "a24ffcc749b1439d"
            ]
        ]
    },
    {
        "id": "994fdba605b8d390",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "a4436834ffd8d273",
        "name": "Set Light 0 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/lighton/\"+node_id;\nmsg.payload = \"{ \\\"whichLight\\\":0 }\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1300,
        "y": 1620,
        "wires": [
            [
                "0ca3f39d0e17b614"
            ]
        ]
    },
    {
        "id": "0ca3f39d0e17b614",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "a4436834ffd8d273",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 1490,
        "y": 1620,
        "wires": []
    },
    {
        "id": "ec0812801f759152",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "a4436834ffd8d273",
        "name": "Set Light 1 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/lighton/\"+node_id;\nmsg.payload = \"{ \\\"whichLight\\\": 1 }\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 1660,
        "wires": [
            [
                "fa539c94e51af673"
            ]
        ]
    },
    {
        "id": "fa539c94e51af673",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "a4436834ffd8d273",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 1530,
        "y": 1660,
        "wires": []
    },
    {
        "id": "7cf7c2a31bf1bcce",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "a4436834ffd8d273",
        "name": "Set Light 2 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/lighton/\"+node_id;\nmsg.payload = \"{ \\\"whichLight\\\": 2 }\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1380,
        "y": 1700,
        "wires": [
            [
                "c5be06f462d960cb"
            ]
        ]
    },
    {
        "id": "c5be06f462d960cb",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "a4436834ffd8d273",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 1570,
        "y": 1700,
        "wires": []
    },
    {
        "id": "a24ffcc749b1439d",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "a4436834ffd8d273",
        "name": "Set Gutter MQTT msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/updatepixels/\"+node_id;\nmsg.payload = \"{ \\\"whichLeds\\\":0, \" +\n    \"\\\"pixels\\\": \\\"222222222222222222222222222222\\\"\" +\n    \"}\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1420,
        "y": 1740,
        "wires": [
            [
                "16e630ed7e81d738"
            ]
        ]
    },
    {
        "id": "16e630ed7e81d738",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "a4436834ffd8d273",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 1610,
        "y": 1740,
        "wires": []
    },
    {
        "id": "0daf3a9e8c310067",
        "type": "comment",
        "z": "bd2296fd2d68d405",
        "g": "096607a1165ab5dd",
        "name": "Manual Lights - Rev 2 - Turn Off",
        "info": "",
        "x": 1130,
        "y": 1860,
        "wires": []
    },
    {
        "id": "d728650e3d3d36c3",
        "type": "ui_dropdown",
        "z": "bd2296fd2d68d405",
        "g": "096607a1165ab5dd",
        "name": "",
        "label": "Turn Off Specific Bldg",
        "tooltip": "",
        "place": "Select option",
        "group": "7c1e7786ce952a5d",
        "order": 1,
        "width": "5",
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "LBI",
                "value": "LBI",
                "type": "str"
            },
            {
                "label": "LTI",
                "value": "LTI",
                "type": "str"
            },
            {
                "label": "LBM",
                "value": "LBM",
                "type": "str"
            },
            {
                "label": "LTM",
                "value": "LTM",
                "type": "str"
            },
            {
                "label": "LBO",
                "value": "LBO",
                "type": "str"
            },
            {
                "label": "LTO",
                "value": "LTO",
                "type": "str"
            },
            {
                "label": "RBI",
                "value": "RBI",
                "type": "str"
            },
            {
                "label": "RTI",
                "value": "RTI",
                "type": "str"
            },
            {
                "label": "RBM",
                "value": "RBM",
                "type": "str"
            },
            {
                "label": "RTM",
                "value": "RTM",
                "type": "str"
            },
            {
                "label": "RBO",
                "value": "RBO",
                "type": "str"
            },
            {
                "label": "RTO",
                "value": "RTO",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 1140,
        "y": 1920,
        "wires": [
            [
                "a1f8226389886d66",
                "18fee8cf09aa56b6",
                "a672663eed4f1899",
                "d6bac14fab6840fe"
            ]
        ]
    },
    {
        "id": "a1f8226389886d66",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "096607a1165ab5dd",
        "name": "Set Light 0 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/lightoff/\"+node_id;\nmsg.payload = \"{ \\\"whichLight\\\":0 }\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1300,
        "y": 2000,
        "wires": [
            [
                "e05e346b9fb5fbd3"
            ]
        ]
    },
    {
        "id": "d6bac14fab6840fe",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "096607a1165ab5dd",
        "name": "Set Gutter MQTT msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/updatepixels/\"+node_id;\nmsg.payload = \"{ \\\"whichLeds\\\":0, \" +\n    \"\\\"pixels\\\": \\\"000000000000000000000000000000\\\"\" +\n    \"}\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1420,
        "y": 2120,
        "wires": [
            [
                "6df023e1989102e5"
            ]
        ]
    },
    {
        "id": "e05e346b9fb5fbd3",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "096607a1165ab5dd",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 1490,
        "y": 2000,
        "wires": []
    },
    {
        "id": "18fee8cf09aa56b6",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "096607a1165ab5dd",
        "name": "Set Light 1 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/lightoff/\"+node_id;\nmsg.payload = \"{ \\\"whichLight\\\": 1 }\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 2040,
        "wires": [
            [
                "15c8af9ecc4504b9"
            ]
        ]
    },
    {
        "id": "15c8af9ecc4504b9",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "096607a1165ab5dd",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 1530,
        "y": 2040,
        "wires": []
    },
    {
        "id": "a672663eed4f1899",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "096607a1165ab5dd",
        "name": "Set Light 2 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/lightoff/\"+node_id;\nmsg.payload = \"{ \\\"whichLight\\\": 2 }\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1380,
        "y": 2080,
        "wires": [
            [
                "32b4fbc2e326e9d8"
            ]
        ]
    },
    {
        "id": "32b4fbc2e326e9d8",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "096607a1165ab5dd",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 1570,
        "y": 2080,
        "wires": []
    },
    {
        "id": "6df023e1989102e5",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "096607a1165ab5dd",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 1610,
        "y": 2120,
        "wires": []
    },
    {
        "id": "06d3e2320ed797d7",
        "type": "comment",
        "z": "bd2296fd2d68d405",
        "g": "429025b01e7e6d4d",
        "name": "Manual Lights - Rev 2 - Gutter",
        "info": "",
        "x": 1120,
        "y": 2240,
        "wires": []
    },
    {
        "id": "303c612e4f366a64",
        "type": "loop",
        "z": "bd2296fd2d68d405",
        "g": "429025b01e7e6d4d",
        "name": "",
        "kind": "enum",
        "count": "",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "allBldgs",
        "enumerationType": "global",
        "limit": "",
        "loopPayload": "loop-val",
        "finalPayload": "final-count",
        "x": 1410,
        "y": 2340,
        "wires": [
            [],
            [
                "dfd37ae16eec3d3b"
            ]
        ]
    },
    {
        "id": "260905c9622989e0",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "g": "429025b01e7e6d4d",
        "name": "",
        "group": "7c1e7786ce952a5d",
        "order": 3,
        "width": "10",
        "height": "1",
        "passthru": true,
        "label": "Turn On First Half Gutter",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 1150,
        "y": 2300,
        "wires": [
            [
                "303c612e4f366a64"
            ]
        ]
    },
    {
        "id": "f8ed1d8e4301b635",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "429025b01e7e6d4d",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 1630,
        "y": 2420,
        "wires": []
    },
    {
        "id": "dfd37ae16eec3d3b",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "429025b01e7e6d4d",
        "name": "Set Gutter MQTT msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/updatepixels/\"+node_id;\nmsg.payload = \"{ \\\"whichLeds\\\":0, \" +\n    \"\\\"pixels\\\": \\\"333333333333334444444444444444\\\"\" +\n    \"}\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1420,
        "y": 2420,
        "wires": [
            [
                "f8ed1d8e4301b635",
                "303c612e4f366a64"
            ]
        ]
    },
    {
        "id": "21c1a36c6eeec879",
        "type": "comment",
        "z": "bd2296fd2d68d405",
        "g": "156f05bb828f97ee",
        "name": "Manual Lights - Rev Nige - Turn On",
        "info": "",
        "x": 2020,
        "y": 1480,
        "wires": []
    },
    {
        "id": "2c67052878b82a9f",
        "type": "ui_dropdown",
        "z": "bd2296fd2d68d405",
        "g": "156f05bb828f97ee",
        "name": "",
        "label": "Turn On Specific Bldg",
        "tooltip": "",
        "place": "Select option",
        "group": "121aadc1d09320eb",
        "order": 1,
        "width": 5,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "LBI",
                "value": "LBI",
                "type": "str"
            },
            {
                "label": "LTI",
                "value": "LTI",
                "type": "str"
            },
            {
                "label": "LBM",
                "value": "LBM",
                "type": "str"
            },
            {
                "label": "LTM",
                "value": "LTM",
                "type": "str"
            },
            {
                "label": "LBO",
                "value": "LBO",
                "type": "str"
            },
            {
                "label": "LTO",
                "value": "LTO",
                "type": "str"
            },
            {
                "label": "RBI",
                "value": "RBI",
                "type": "str"
            },
            {
                "label": "RTI",
                "value": "RTI",
                "type": "str"
            },
            {
                "label": "RBM",
                "value": "RBM",
                "type": "str"
            },
            {
                "label": "RTM",
                "value": "RTM",
                "type": "str"
            },
            {
                "label": "RBO",
                "value": "RBO",
                "type": "str"
            },
            {
                "label": "RTO",
                "value": "RTO",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 2020,
        "y": 1540,
        "wires": [
            [
                "d040dfd31ac803f3",
                "a530f51f02b55940",
                "e9b331ce522d6fff",
                "4d7dd9500d554d29"
            ]
        ]
    },
    {
        "id": "d040dfd31ac803f3",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "156f05bb828f97ee",
        "name": "Set Light 0 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/lighton/\"+node_id;\nmsg.payload = \"{ \\\"whichLight\\\":0 }\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2180,
        "y": 1620,
        "wires": [
            [
                "9e0034f563520f15"
            ]
        ]
    },
    {
        "id": "4d7dd9500d554d29",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "156f05bb828f97ee",
        "name": "Set Gutter MQTT msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/updatepixels/\"+node_id;\nmsg.payload = \"{ \\\"whichLeds\\\":0, \" +\n    \"\\\"pixels\\\": \\\"222222222222222222222222222222\\\"\" +\n    \"}\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2300,
        "y": 1740,
        "wires": [
            [
                "d4756f35786b766d"
            ]
        ]
    },
    {
        "id": "9e0034f563520f15",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "156f05bb828f97ee",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 2370,
        "y": 1620,
        "wires": []
    },
    {
        "id": "a530f51f02b55940",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "156f05bb828f97ee",
        "name": "Set Light 1 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/lighton/\"+node_id;\nmsg.payload = \"{ \\\"whichLight\\\": 1 }\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2220,
        "y": 1660,
        "wires": [
            [
                "53067221f53cf271"
            ]
        ]
    },
    {
        "id": "53067221f53cf271",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "156f05bb828f97ee",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 2410,
        "y": 1660,
        "wires": []
    },
    {
        "id": "e9b331ce522d6fff",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "156f05bb828f97ee",
        "name": "Set Light 2 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/lighton/\"+node_id;\nmsg.payload = \"{ \\\"whichLight\\\": 2 }\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2260,
        "y": 1700,
        "wires": [
            [
                "397afc29e37dea4f"
            ]
        ]
    },
    {
        "id": "397afc29e37dea4f",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "156f05bb828f97ee",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 2450,
        "y": 1700,
        "wires": []
    },
    {
        "id": "d4756f35786b766d",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "156f05bb828f97ee",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 2490,
        "y": 1740,
        "wires": []
    },
    {
        "id": "7e3a6a92eb8f1794",
        "type": "comment",
        "z": "bd2296fd2d68d405",
        "g": "4fdc3891a83ced02",
        "name": "Manual Lights - Rev Nige - Turn Off",
        "info": "",
        "x": 2020,
        "y": 1860,
        "wires": []
    },
    {
        "id": "ae8147e43f1023ba",
        "type": "ui_dropdown",
        "z": "bd2296fd2d68d405",
        "g": "4fdc3891a83ced02",
        "name": "",
        "label": "Turn Off Specific Bldg",
        "tooltip": "",
        "place": "Select option",
        "group": "121aadc1d09320eb",
        "order": 2,
        "width": 5,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "LBI",
                "value": "LBI",
                "type": "str"
            },
            {
                "label": "LTI",
                "value": "LTI",
                "type": "str"
            },
            {
                "label": "LBM",
                "value": "LBM",
                "type": "str"
            },
            {
                "label": "LTM",
                "value": "LTM",
                "type": "str"
            },
            {
                "label": "LBO",
                "value": "LBO",
                "type": "str"
            },
            {
                "label": "LTO",
                "value": "LTO",
                "type": "str"
            },
            {
                "label": "RBI",
                "value": "RBI",
                "type": "str"
            },
            {
                "label": "RTI",
                "value": "RTI",
                "type": "str"
            },
            {
                "label": "RBM",
                "value": "RBM",
                "type": "str"
            },
            {
                "label": "RTM",
                "value": "RTM",
                "type": "str"
            },
            {
                "label": "RBO",
                "value": "RBO",
                "type": "str"
            },
            {
                "label": "RTO",
                "value": "RTO",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 2020,
        "y": 1920,
        "wires": [
            [
                "701519fb19756ce5",
                "f1db54ebc7cd879b",
                "69d3a6f27883fd2e",
                "558eac6afdcf8563"
            ]
        ]
    },
    {
        "id": "701519fb19756ce5",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "4fdc3891a83ced02",
        "name": "Set Light 0 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/lightoff/\"+node_id;\nmsg.payload = \"{ \\\"whichLight\\\":0 }\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2180,
        "y": 2000,
        "wires": [
            [
                "80b76622216b9807"
            ]
        ]
    },
    {
        "id": "558eac6afdcf8563",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "4fdc3891a83ced02",
        "name": "Set Gutter MQTT msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/updatepixels/\"+node_id;\nmsg.payload = \"{ \\\"whichLeds\\\":0, \" +\n    \"\\\"pixels\\\": \\\"000000000000000000000000000000\\\"\" +\n    \"}\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2300,
        "y": 2120,
        "wires": [
            [
                "d7966aa3641c8fcf"
            ]
        ]
    },
    {
        "id": "80b76622216b9807",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "4fdc3891a83ced02",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 2370,
        "y": 2000,
        "wires": []
    },
    {
        "id": "f1db54ebc7cd879b",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "4fdc3891a83ced02",
        "name": "Set Light 1 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/lightoff/\"+node_id;\nmsg.payload = \"{ \\\"whichLight\\\": 1 }\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2220,
        "y": 2040,
        "wires": [
            [
                "9c991227a903215e"
            ]
        ]
    },
    {
        "id": "9c991227a903215e",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "4fdc3891a83ced02",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 2410,
        "y": 2040,
        "wires": []
    },
    {
        "id": "69d3a6f27883fd2e",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "4fdc3891a83ced02",
        "name": "Set Light 2 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/lightoff/\"+node_id;\nmsg.payload = \"{ \\\"whichLight\\\": 2 }\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2260,
        "y": 2080,
        "wires": [
            [
                "6e23af39d4f63fe0"
            ]
        ]
    },
    {
        "id": "6e23af39d4f63fe0",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "4fdc3891a83ced02",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 2450,
        "y": 2080,
        "wires": []
    },
    {
        "id": "d7966aa3641c8fcf",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "4fdc3891a83ced02",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 2490,
        "y": 2120,
        "wires": []
    },
    {
        "id": "29a9307f80926b96",
        "type": "comment",
        "z": "bd2296fd2d68d405",
        "g": "ec0ec170aad778ad",
        "name": "Manual Lights - Rev Nige - Gutter",
        "info": "",
        "x": 2010,
        "y": 2240,
        "wires": []
    },
    {
        "id": "36158908d91ccd6f",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "g": "ec0ec170aad778ad",
        "name": "",
        "group": "121aadc1d09320eb",
        "order": 3,
        "width": 10,
        "height": 1,
        "passthru": true,
        "label": "Turn On First Half Gutter",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 2030,
        "y": 2300,
        "wires": [
            [
                "9daa3ddcaf2694b4"
            ]
        ]
    },
    {
        "id": "9daa3ddcaf2694b4",
        "type": "loop",
        "z": "bd2296fd2d68d405",
        "g": "ec0ec170aad778ad",
        "name": "",
        "kind": "enum",
        "count": "",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "allBldgs",
        "enumerationType": "global",
        "limit": "",
        "loopPayload": "loop-val",
        "finalPayload": "final-count",
        "x": 2290,
        "y": 2340,
        "wires": [
            [],
            [
                "cd9a098d80ea8fca"
            ]
        ]
    },
    {
        "id": "3c75761e406b9a9c",
        "type": "mqtt out",
        "z": "bd2296fd2d68d405",
        "g": "ec0ec170aad778ad",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 2510,
        "y": 2420,
        "wires": []
    },
    {
        "id": "cd9a098d80ea8fca",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "ec0ec170aad778ad",
        "name": "Set Gutter MQTT msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/updatepixels/\"+node_id;\nmsg.payload = \"{ \\\"whichLeds\\\":0, \" +\n    \"\\\"pixels\\\": \\\"333333333333334444444444444444\\\"\" +\n    \"}\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2300,
        "y": 2420,
        "wires": [
            [
                "3c75761e406b9a9c",
                "9daa3ddcaf2694b4"
            ]
        ]
    },
    {
        "id": "f1d2f751a9ddb7b8",
        "type": "comment",
        "z": "bd2296fd2d68d405",
        "g": "7ae10c2df5524d01",
        "name": "Manual Bldg Btns",
        "info": "",
        "x": 1960,
        "y": 2580,
        "wires": []
    },
    {
        "id": "98833f39eaeba382",
        "type": "comment",
        "z": "bd2296fd2d68d405",
        "g": "4fdc3891a83ced02",
        "name": "\\n \\n \\n \\n \\n \\n \\n HAVEN'T DONE ANYTHING WITH ANY OF THESE \\n \\n INTENT IS TO DO SETTERS GETTERS \\n \\n \\n \\n",
        "info": "",
        "x": 2250,
        "y": 1820,
        "wires": []
    },
    {
        "id": "10013add423d6bb2",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "g": "7ae10c2df5524d01",
        "name": "",
        "group": "28b3ed7cb9589c84",
        "order": 4,
        "width": 2,
        "height": 2,
        "passthru": true,
        "label": "LTO",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "LTO",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 1950,
        "y": 2680,
        "wires": [
            [
                "af339647b46b531f"
            ]
        ]
    },
    {
        "id": "0a1b72ac20c7b9d3",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "g": "7ae10c2df5524d01",
        "name": "",
        "group": "28b3ed7cb9589c84",
        "order": 10,
        "width": 2,
        "height": 2,
        "passthru": true,
        "label": "LBO",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "LBO",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 1950,
        "y": 2760,
        "wires": [
            [
                "af339647b46b531f"
            ]
        ]
    },
    {
        "id": "da5b434d466b7ab8",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "g": "7ae10c2df5524d01",
        "name": "",
        "group": "28b3ed7cb9589c84",
        "order": 5,
        "width": 2,
        "height": 2,
        "passthru": true,
        "label": "LTM",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "LTM",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 2110,
        "y": 2680,
        "wires": [
            [
                "af339647b46b531f"
            ]
        ]
    },
    {
        "id": "7a87f696ccb90fa6",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "g": "7ae10c2df5524d01",
        "name": "",
        "group": "28b3ed7cb9589c84",
        "order": 11,
        "width": 2,
        "height": 2,
        "passthru": true,
        "label": "LBM",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "LBM",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 2110,
        "y": 2760,
        "wires": [
            [
                "af339647b46b531f"
            ]
        ]
    },
    {
        "id": "0890dc5854489522",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "g": "7ae10c2df5524d01",
        "name": "",
        "group": "28b3ed7cb9589c84",
        "order": 12,
        "width": 2,
        "height": 2,
        "passthru": true,
        "label": "LBI",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "LBI",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 2270,
        "y": 2760,
        "wires": [
            [
                "af339647b46b531f"
            ]
        ]
    },
    {
        "id": "0c0397a08701116b",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "g": "7ae10c2df5524d01",
        "name": "",
        "group": "28b3ed7cb9589c84",
        "order": 6,
        "width": 2,
        "height": 2,
        "passthru": true,
        "label": "LTI",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "LTI",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 2270,
        "y": 2680,
        "wires": [
            [
                "af339647b46b531f"
            ]
        ]
    },
    {
        "id": "4f7890090a83f5bb",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "g": "7ae10c2df5524d01",
        "name": "",
        "group": "28b3ed7cb9589c84",
        "order": 7,
        "width": 2,
        "height": 2,
        "passthru": true,
        "label": "RTI",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "RTI",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 2470,
        "y": 2680,
        "wires": [
            [
                "af339647b46b531f"
            ]
        ]
    },
    {
        "id": "415239f281920bf8",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "g": "7ae10c2df5524d01",
        "name": "",
        "group": "28b3ed7cb9589c84",
        "order": 13,
        "width": 2,
        "height": 2,
        "passthru": true,
        "label": "RBI",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "RBI",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 2470,
        "y": 2760,
        "wires": [
            [
                "af339647b46b531f"
            ]
        ]
    },
    {
        "id": "9b8a3752bde55204",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "g": "7ae10c2df5524d01",
        "name": "",
        "group": "28b3ed7cb9589c84",
        "order": 8,
        "width": 2,
        "height": 2,
        "passthru": true,
        "label": "RTM",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "RTM",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 2630,
        "y": 2680,
        "wires": [
            [
                "af339647b46b531f"
            ]
        ]
    },
    {
        "id": "1b5afdc3c905373e",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "g": "7ae10c2df5524d01",
        "name": "",
        "group": "28b3ed7cb9589c84",
        "order": 14,
        "width": 2,
        "height": 2,
        "passthru": true,
        "label": "RBM",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "RBM",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 2630,
        "y": 2760,
        "wires": [
            [
                "af339647b46b531f"
            ]
        ]
    },
    {
        "id": "90e55099663abdb1",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "g": "7ae10c2df5524d01",
        "name": "",
        "group": "28b3ed7cb9589c84",
        "order": 15,
        "width": 2,
        "height": 2,
        "passthru": true,
        "label": "RBO",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "RBO",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 2790,
        "y": 2760,
        "wires": [
            [
                "af339647b46b531f"
            ]
        ]
    },
    {
        "id": "f50831d0c8b517d2",
        "type": "ui_button",
        "z": "bd2296fd2d68d405",
        "g": "7ae10c2df5524d01",
        "name": "",
        "group": "28b3ed7cb9589c84",
        "order": 9,
        "width": 2,
        "height": 2,
        "passthru": true,
        "label": "RTO",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "RTO",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 2790,
        "y": 2680,
        "wires": [
            [
                "af339647b46b531f"
            ]
        ]
    },
    {
        "id": "beb7282432692231",
        "type": "ui_dropdown",
        "z": "bd2296fd2d68d405",
        "g": "7ae10c2df5524d01",
        "name": "",
        "label": "Select Action:",
        "tooltip": "",
        "place": "Select Window Option",
        "group": "28b3ed7cb9589c84",
        "order": 2,
        "width": 6,
        "height": 1,
        "passthru": false,
        "multiple": false,
        "options": [
            {
                "label": "Window 1 - ON",
                "value": "1-ON",
                "type": "str"
            },
            {
                "label": "Window 1 - OFF",
                "value": "1-OFF",
                "type": "str"
            },
            {
                "label": "Window 2 - ON",
                "value": "2-ON",
                "type": "str"
            },
            {
                "label": "Window 2 - OFF",
                "value": "2-OFF",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 2260,
        "y": 2620,
        "wires": [
            [
                "8d7c1e181f7ebb3a"
            ]
        ]
    },
    {
        "id": "8d7c1e181f7ebb3a",
        "type": "change",
        "z": "bd2296fd2d68d405",
        "g": "7ae10c2df5524d01",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "manualMode.lightBldgAction",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2510,
        "y": 2620,
        "wires": [
            []
        ]
    },
    {
        "id": "5fed48b72b1963de",
        "type": "function",
        "z": "bd2296fd2d68d405",
        "g": "7ae10c2df5524d01",
        "name": "Build Setter Msg",
        "func": "/*\nThis comes from clicking one of the BldgLights buttons\n- The node ID is the msg.payload\n- The window actions come from the global that is set from the drop-down\n\nSetter expects the following:\n- msg.payload.bldg: a node ID\n- msg.payload.windowNum: 1 or 2 (this is NOT zero-indexed)\n- msg.payload.windowOnOrOff: \"ON\" or \"OFF\" string\n*/ \n\n//--- Set up vars\nvar theBldg = msg.payload;\nvar theActionStr = global.get(\"manualMode.lightBldgAction\");\nmsg.payload = {};\n\n//--- Parse\n// \"1-OFF\" becomes \"1\",\"OFF\"\nvar theWin = theActionStr.split(\"-\")[0];\nvar theAct = theActionStr.split(\"-\")[1];\n\n//--- Fin\nmsg.payload.bldg = theBldg;\nmsg.payload.windowNum = theWin;\nmsg.payload.windowOnOrOff = theAct;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2380,
        "y": 2820,
        "wires": [
            [
                "60affa2068161af8"
            ]
        ]
    },
    {
        "id": "60affa2068161af8",
        "type": "link out",
        "z": "bd2296fd2d68d405",
        "g": "7ae10c2df5524d01",
        "name": "To SetWindow from Manual Mode",
        "mode": "link",
        "links": [
            "0bfd858cbf7dd015"
        ],
        "x": 2505,
        "y": 2820,
        "wires": []
    },
    {
        "id": "dcae7ce4e5d49ca5",
        "type": "link in",
        "z": "bd2296fd2d68d405",
        "g": "7ae10c2df5524d01",
        "name": "Build Manual Window Setter",
        "links": [
            "af339647b46b531f",
            "d34998a6a1f86332"
        ],
        "x": 2255,
        "y": 2820,
        "wires": [
            [
                "5fed48b72b1963de"
            ]
        ]
    },
    {
        "id": "af339647b46b531f",
        "type": "link out",
        "z": "bd2296fd2d68d405",
        "g": "7ae10c2df5524d01",
        "name": "Manual Bldg Btn Out",
        "mode": "link",
        "links": [
            "dcae7ce4e5d49ca5"
        ],
        "x": 2385,
        "y": 2720,
        "wires": []
    },
    {
        "id": "a57b32e894cf939d",
        "type": "debug",
        "z": "bd2296fd2d68d405",
        "name": "db msg",
        "active": false,
        "tosidebar": true,
        "console": true,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2760,
        "y": 2480,
        "wires": []
    },
    {
        "id": "a847f6cdc0cb3084",
        "type": "comment",
        "z": "f66e6f21e6630f00",
        "g": "0bb0145c8adb017a",
        "name": "Building State Globals (not used other than manual...?)",
        "info": "",
        "x": 300,
        "y": 860,
        "wires": []
    },
    {
        "id": "d83d28b0aa1dfecf",
        "type": "function",
        "z": "f66e6f21e6630f00",
        "g": "0bb0145c8adb017a",
        "name": "SetGutter",
        "func": "/* \n\"Rev Nigel\" Setters/Getters\n- Takes in data from a link node\n- Updates the global variables \n- Sends any associated MQTT messages\n*/ \n\n/* \nExpected inputs:\n- msg.payload.bldg: a node ID\n- msg.payload.gutterString: a 30 int string\n\nExpected output: \n- MQTT topic / payload to update the physical LED strip \n*/\n\n// - Set basic vars\nvar theBldg = msg.payload.bldg;\nvar theGutterString = msg.payload.gutterString;\n\n// - Update\nglobal.set(theBldg + \".Lights.GutterPixels\", theGutterString);\n\n// - MQTT\nmsg.topic = \"nodered/updatepixels/\" + theBldg;\nmsg.payload = \"{ \\\"whichLeds\\\":0, \" +\n    \"\\\"pixels\\\": \\\"\" + theGutterString + \"\\\"\" +\n    \"}\";\n\n// - debug\nif (global.get(\"DEBUG\")) {\n    node.warn(\"--- Updating Gutter --- bldg: \" + theBldg + \"; string: \" + theGutterString);\n}\n\n// - Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 1000,
        "wires": [
            [
                "083d670df93fc63f"
            ]
        ]
    },
    {
        "id": "083d670df93fc63f",
        "type": "mqtt out",
        "z": "f66e6f21e6630f00",
        "g": "0bb0145c8adb017a",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 430,
        "y": 1000,
        "wires": []
    },
    {
        "id": "c24d7ccb4813ce9a",
        "type": "function",
        "z": "f66e6f21e6630f00",
        "g": "0bb0145c8adb017a",
        "name": "SetWindow",
        "func": "/* \n\"Rev Nigel\" Setters/Getters\n- Takes in data from a link node\n- Updates the global variables \n- Sends any associated MQTT messages\n*/ \n\n/* \nExpected inputs:\n- msg.payload.bldg: a node ID\n- msg.payload.windowNum: 0 or 1 (I think, might be 1 or 2)\n- msg.payload.windowOnOrOff: \"ON\" or \"OFF\" string\n\nExpected output: \n- MQTT topic / payload to update the physical light\n*/\n\n// --- Set basic vars\nvar theBldg = msg.payload.bldg;             // e.g. \"LTO\"\nvar theWin = msg.payload.windowNum;         // 1 or 2\nvar theStatus = msg.payload.windowOnOrOff;  // \"ON\" or \"OFF\"\n\n\n// --- Update Globals\nglobal.set(theBldg + \".Lights.Window\" + theWin, theStatus);\n\n\n// --- Build MQTT\nif (theStatus == \"ON\") {\n    msg.topic = \"nodered/lighton/\" + theBldg;\n} else if (theStatus == \"OFF\") {\n    msg.topic = \"nodered/lightoff/\" + theBldg;\n}\nmsg.payload = \"{ \\\"whichLight\\\":\" + theWin + \"}\"\n\n\n// --- debug\nif (global.get(\"DEBUG\")) {\n    node.warn(\"--- Updating Window --- \" + msg.topic + \"; \" + msg.payload);\n}\n\n\n// --- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 940,
        "wires": [
            [
                "cef9fe201b176c2d"
            ]
        ]
    },
    {
        "id": "cef9fe201b176c2d",
        "type": "mqtt out",
        "z": "f66e6f21e6630f00",
        "g": "0bb0145c8adb017a",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 470,
        "y": 940,
        "wires": []
    },
    {
        "id": "0bfd858cbf7dd015",
        "type": "link in",
        "z": "f66e6f21e6630f00",
        "g": "0bb0145c8adb017a",
        "name": "Setters - Set Window",
        "links": [
            "60affa2068161af8"
        ],
        "x": 155,
        "y": 940,
        "wires": [
            [
                "c24d7ccb4813ce9a"
            ]
        ]
    },
    {
        "id": "a982d77f63880d2c",
        "type": "link in",
        "z": "f66e6f21e6630f00",
        "g": "0bb0145c8adb017a",
        "name": "Setters - Set Gutter",
        "links": [],
        "x": 155,
        "y": 1000,
        "wires": [
            [
                "d83d28b0aa1dfecf"
            ]
        ]
    },
    {
        "id": "dc1d674e61de820d",
        "type": "link in",
        "z": "f66e6f21e6630f00",
        "g": "67280a1824f2e68f",
        "name": "Setters - Add FirePix to Bldg",
        "links": [
            "b1892a5d909d22a5",
            "54c21369c6ccd63f",
            "7059882ea6339130",
            "b168987c1df43253",
            "6d4dee2de447ea5a",
            "595534f2e07f6f17",
            "e9064ad0876af058",
            "3067707184cd6d97",
            "a12c5fed51dba728",
            "afb8211bbc679b8a",
            "62b657a968de3afc",
            "b5cf79cc058c8ffa",
            "4387cf2f1b40d3b8",
            "07ec816b8431f6fe",
            "5f254d40c5e8240f",
            "580da0b3754a5818",
            "d2fe120e88698aeb",
            "dd6ffaab8709bab8",
            "e9297d1304e92ff3",
            "99dbe6881f37bc14",
            "408240b3888622ce"
        ],
        "x": 195,
        "y": 200,
        "wires": [
            [
                "ea43b63ac74264a6"
            ]
        ]
    },
    {
        "id": "ea43b63ac74264a6",
        "type": "function",
        "z": "f66e6f21e6630f00",
        "g": "67280a1824f2e68f",
        "name": "Add FirePixels to Bldg",
        "func": "/* \nExpected inputs:\n- msg.payload.bldg: a node ID\n- msg.payload.numFirePixels: int, the qty FirePixels to add\n\nExpected output: \n- msgs to send to the Window / Gutter setters\n*/\n\n//--- Set basic vars\nvar theBldg = msg.payload.bldg;\nvar inputFirePixels = msg.payload.numFirePixels;\nvar curFirePreWater = global.get(theBldg + \".FirePixels.TotalBeforeWater\");\nvar curFS = global.get(theBldg + \".FS.Total\");\nvar curWaterRaw = global.get(theBldg + \".WaterQty\");\nvar curWaterEffective = Math.floor(curWaterRaw / 2); \nvar win1 = \"OFF\";\nvar win2 = \"OFF\";\nvar gutterL = \"\";\nvar gutterR = \"\";\n\n/* \nSome nomenclature logic notes: \n- FS is _always_ an output, i.e. \"after water\"\n- Windows are 4 FS points each\n- Gutters are 8 FirePixels per window\n- Inside the code, we mostly refer to the FirePixels, so that audience can see interstitial water ticks\n- Every bldg has 32 possible Water points\n- Ball bldgs: 1 ball = 1 Water Point = 0.5 pixel\n- Laser bldgs: 1 hit = 2 Water Points = 1 pixel\n*/\n\n//--- Calculations\n//var curFirePixels = curFirePreWater - curWaterEffective;\nvar newFirePixelsPre = curFirePreWater + inputFirePixels\nvar newFirePixelsAfter = newFirePixelsPre - curWaterEffective;\n    if(newFirePixelsAfter < 0) { newFirePixelsAfter = 0; } //correct for negative blowthrough\nvar newFS = Math.ceil(newFirePixelsAfter / 2);\nvar gutterFirePix = newFirePixelsAfter;\n\n\n// -- Window 1 (FS from 0-4)\nif (newFS > 0) {\n    // Window\n    win1 = \"ON\";\n\n    // Gutter\n    for (let i = 1; i <= 8; i++) {\n        // if \"i\" is less than gutterPix (newFS*2), add a yellow pixel (3), otherwise blank (0);\n        gutterL += i <= gutterFirePix ? \"3\" : \"0\";\n    }\n}\n// -- Window 2 (FS from 5-8)\nif (newFS > 4) {\n    // Update gutterFS for window 2\n    gutterFirePix -= 8;\n\n    // Window\n    win2 = \"ON\";\n\n    // Gutter\n    for (let i = 1; i <= 8; i++) {\n        // if \"i\" is less than gutterPix (newFS*2), add a red pixel (4), otherwise blank (0);\n        gutterR += i <= gutterFirePix ? \"4\" : \"0\";\n    }\n} else if (newFS <= 4) {\n    gutterR = \"00000000\";\n}\n\n\n//--- Build the new total string\nvar gutterString = gutterL + \"00000000000000\" + gutterR;\n\n\n//-- Status global (with tweak for hotspot bldg)\nif (global.get(theBldg + \".Status\") != \"Hotspot\") {\n    global.set(theBldg + \".Status\", \"Burning\");\n}\n\n//--- If Cleared - do a few other things first\nif (newFS == 0) {\n    global.set(theBldg + \".Status\", \"Cleared\"); //still do this even if it's hotspot\n    gutterString = \"111111111111111111111111111111\";\n}\n\n//--- Set rest of the globals\n//global.set(theBldg + \".FS.TotalBeforeWater\", newFS);\nglobal.set(theBldg + \".FS.Total\", newFS);\nglobal.set(theBldg + \".FirePixels.TotalBeforeWater\", newFirePixelsPre);\nglobal.set(theBldg + \".FirePixels.TotalAfterWater\", newFirePixelsAfter);\nglobal.set(theBldg + \".Lights.Window1\", win1);\nglobal.set(theBldg + \".Lights.Window2\", win2);\nglobal.set(theBldg + \".Lights.GutterPixels\", gutterString);\n\n\n\n//--- Prepare to call update MQTT Setters\nmsg.payload = theBldg;\n\n\n//--- DEBUG\nif (global.get(\"DEBUG\")) {\n    node.warn(\"--- Adding \" + inputFirePixels + \" FirePixels to \" + theBldg + \"; \\n\" + \n        \"CurFirePreWater: \" + curFirePreWater + \"; \\n\" + \n        \"curWaterRaw: \" + curWaterRaw + \"; curWaterEffective: \" + curWaterEffective + \"; \\n\" +\n        \"NewFirePixels (before Water): \" + newFirePixelsPre + \"; \\n\" +\n        \"NewFirePixels (after Water): \" + newFirePixelsAfter + \"; NewFS: \" + newFS);\n}\n\n// - Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 200,
        "wires": [
            [
                "3e5e745b25e837a1"
            ]
        ]
    },
    {
        "id": "fd3278c8b8251cb2",
        "type": "inject",
        "z": "f66e6f21e6630f00",
        "g": "67280a1824f2e68f",
        "name": "test inject LTI with 8 FirePixels",
        "props": [
            {
                "p": "payload.bldg",
                "v": "LTI",
                "vt": "str"
            },
            {
                "p": "payload.numFirePixels",
                "v": "8",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 270,
        "y": 300,
        "wires": [
            [
                "ea43b63ac74264a6"
            ]
        ]
    },
    {
        "id": "1c3fdf208f1d04ab",
        "type": "function",
        "z": "f66e6f21e6630f00",
        "g": "8ea343d5acb02cd2",
        "name": "UpdateBuilding (Globals -> MQTT)",
        "func": "/* \nExpected inputs:\n- msg.payload: a node ID\n\nExpected outputs: \n- MQTT topics / payloads for each window / gutter\n*/\n\n//--- Set basic vars\nvar theBldg = msg.payload;\nvar win1 = global.get(theBldg + \".Lights.Window1\");\nvar win2 = global.get(theBldg + \".Lights.Window2\");\nvar gutter = global.get(theBldg + \".Lights.GutterPixels\");\n\n//--- Make sure we're not doing the hotspot bldg - escape if so\nvar theHotBldg = global.get(\"hotBldg\");\nif (theBldg == theHotBldg) {\n    return null;\n}\n\n//--- MQTT - Window 1\nvar msg1 = {};\nif (win1 == \"ON\") {\n    msg1.topic = \"nodered/lighton/\" + theBldg;\n} else if (win1 == \"OFF\") {\n    msg1.topic = \"nodered/lightoff/\" + theBldg;\n}\nmsg1.payload = \"{ \\\"whichLight\\\":\" + 1 + \"}\"\n\n\n//--- MQTT - Window 2\nvar msg2 = {};\nif (win2 == \"ON\") {\n    msg2.topic = \"nodered/lighton/\" + theBldg;\n} else if (win2 == \"OFF\") {\n    msg2.topic = \"nodered/lightoff/\" + theBldg;\n}\nmsg2.payload = \"{ \\\"whichLight\\\":\" + 2 + \"}\"\n\n\n// - MQTT - Gutter\nvar msg3 = {};\nmsg3.topic = \"nodered/updatepixels/\" + theBldg;\nmsg3.payload = \"{ \\\"whichLeds\\\":0, \" +\n    \"\\\"pixels\\\": \\\"\" + gutter + \"\\\"\" +\n    \"}\";\n\n// - debug\nif (global.get(\"DEBUG\")) {\n    node.warn(\"--- Updating Bldg: \" + theBldg + \";\\n win1: \" + win1 + \"; win2: \" + win2 + \";\\n gutter: \" + gutter);\n}\n\n// - Fin\nreturn [msg1, msg2, msg3];",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 380,
        "wires": [
            [
                "bee1de4c12ef9269"
            ],
            [
                "39c136dc6262f611"
            ],
            [
                "cba544c17d6aa13d",
                "cdd67f2387d5de33"
            ]
        ]
    },
    {
        "id": "bee1de4c12ef9269",
        "type": "mqtt out",
        "z": "f66e6f21e6630f00",
        "g": "8ea343d5acb02cd2",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 1210,
        "y": 360,
        "wires": []
    },
    {
        "id": "39c136dc6262f611",
        "type": "mqtt out",
        "z": "f66e6f21e6630f00",
        "g": "8ea343d5acb02cd2",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 1210,
        "y": 380,
        "wires": []
    },
    {
        "id": "cba544c17d6aa13d",
        "type": "mqtt out",
        "z": "f66e6f21e6630f00",
        "g": "8ea343d5acb02cd2",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 1210,
        "y": 400,
        "wires": []
    },
    {
        "id": "d76197cd025dce1f",
        "type": "inject",
        "z": "f66e6f21e6630f00",
        "g": "8ea343d5acb02cd2",
        "name": "test inject LTI ",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "LTI",
        "payloadType": "str",
        "x": 798.9999694824219,
        "y": 469.999942779541,
        "wires": [
            [
                "1c3fdf208f1d04ab"
            ]
        ]
    },
    {
        "id": "1125739b31b22db9",
        "type": "link in",
        "z": "f66e6f21e6630f00",
        "g": "8ea343d5acb02cd2",
        "name": "Setters - Update Bldg (Globals -> MQTT)",
        "links": [
            "3e5e745b25e837a1",
            "b1d4327dc1405be1",
            "56af08aa5b3e0733"
        ],
        "x": 775,
        "y": 380,
        "wires": [
            [
                "1c3fdf208f1d04ab"
            ]
        ]
    },
    {
        "id": "3e5e745b25e837a1",
        "type": "link out",
        "z": "f66e6f21e6630f00",
        "g": "67280a1824f2e68f",
        "name": "FirePix have been Added",
        "mode": "link",
        "links": [
            "1125739b31b22db9"
        ],
        "x": 515,
        "y": 200,
        "wires": []
    },
    {
        "id": "5f1e32d4a9243886",
        "type": "comment",
        "z": "f66e6f21e6630f00",
        "g": "67280a1824f2e68f",
        "name": "Add FirePix to a Bldg (MAIN BLDG UPDATER)",
        "info": "",
        "x": 290,
        "y": 140,
        "wires": []
    },
    {
        "id": "02110c0df353b5c6",
        "type": "comment",
        "z": "f66e6f21e6630f00",
        "g": "8ea343d5acb02cd2",
        "name": "Update Bldg's MQTT's",
        "info": "",
        "x": 820,
        "y": 320,
        "wires": []
    },
    {
        "id": "c18680ecca2f99fb",
        "type": "link in",
        "z": "f66e6f21e6630f00",
        "g": "3b4d148e2feae984",
        "name": "Setters - Add Water to Bldg",
        "links": [
            "614e06960c4619e1"
        ],
        "x": 195,
        "y": 500,
        "wires": [
            [
                "109a198c442dc26f"
            ]
        ]
    },
    {
        "id": "109a198c442dc26f",
        "type": "function",
        "z": "f66e6f21e6630f00",
        "g": "3b4d148e2feae984",
        "name": "Add Water Qty to Bldg",
        "func": "/* \nUpdates globals, then punts over to AddFirePixels which does the rest of the conversions\n/* \nExpected inputs:\n- msg.payload.bldg: a node ID\n- msg.payload.numWater: int, the qty Water to add\n\nExpected output: \n- msg.payload.bldg: a node ID\n- msg.payload.numFirePixels: 0 (not actually adding any, but the setter needs it)\n*/\n\n//--- Set basic vars\nvar theBldg = msg.payload.bldg;\nvar inputWater = msg.payload.numWater;\nvar curWaterRaw = global.get(theBldg + \".WaterQty\");\n\n\n//--- Make sure this building is actually ready for water - escape if not\nif (global.get(theBldg + \".Status\") != \"Burning\" && global.get(theBldg + \".Status\") != \"Hotspot\") {\n    if (global.get(\"DEBUG\")) {\n        node.warn(\"Ignoring water hit - bldg not burning\");\n    }\n    return null;\n}\n\n/* \nSome nomenclature logic notes: \n- Windows are 4 FS points each\n- Gutters are 8 FirePixels per window\n- Inside the code, we mostly refer to the FirePixels, so that audience can see interstitial water ticks\n- Every bldg has 32 possible Water points\n- Ball bldgs: 1 ball = 1 Water Point = 0.5 pixel\n- Laser bldgs: 1 hit = 2 Water Points = 1 pixel\n*/\n\n//--- Math / Update \nvar newWater = curWaterRaw + inputWater;\nglobal.set(theBldg + \".WaterQty\", newWater);\n\n//--- Prepare to head over to AddFirePixels to do the rest of the math\nmsg.payload.bldg = theBldg;\nmsg.payload.numFirePixels = 0;\n\n\n//--- DEBUG\nif (global.get(\"DEBUG\")) {\n    node.warn(\"--- Adding \" + inputWater + \" water (raw) to \" + theBldg + \"; \\n\" + \n        \"Bldg currently has \" + curWaterRaw + \" water; \\n\" + \n        \"NewWater: \" + newWater);\n}\n\n// - Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 500,
        "wires": [
            [
                "a12c5fed51dba728"
            ]
        ]
    },
    {
        "id": "a12c5fed51dba728",
        "type": "link out",
        "z": "f66e6f21e6630f00",
        "g": "3b4d148e2feae984",
        "name": "Water has been Added",
        "mode": "link",
        "links": [
            "dc1d674e61de820d"
        ],
        "x": 505,
        "y": 500,
        "wires": []
    },
    {
        "id": "431af36a3ef22227",
        "type": "comment",
        "z": "f66e6f21e6630f00",
        "g": "3b4d148e2feae984",
        "name": "Add Water to a Bldg",
        "info": "",
        "x": 200,
        "y": 440,
        "wires": []
    },
    {
        "id": "a69414e6f67deda5",
        "type": "inject",
        "z": "f66e6f21e6630f00",
        "g": "3b4d148e2feae984",
        "name": "test inject RTM with 2 Water",
        "props": [
            {
                "p": "payload.bldg",
                "v": "RTM",
                "vt": "str"
            },
            {
                "p": "payload.numWater",
                "v": "2",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 270,
        "y": 580,
        "wires": [
            [
                "109a198c442dc26f"
            ]
        ]
    },
    {
        "id": "c47734c2c38bc568",
        "type": "inject",
        "z": "f66e6f21e6630f00",
        "g": "3b4d148e2feae984",
        "name": "test inject RBM with 2 Water",
        "props": [
            {
                "p": "payload.bldg",
                "v": "RBM",
                "vt": "str"
            },
            {
                "p": "payload.numWater",
                "v": "2",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 270,
        "y": 620,
        "wires": [
            [
                "109a198c442dc26f"
            ]
        ]
    },
    {
        "id": "cdd67f2387d5de33",
        "type": "link out",
        "z": "f66e6f21e6630f00",
        "g": "8ea343d5acb02cd2",
        "name": "To check Phase Switch",
        "mode": "link",
        "links": [
            "a7d99a942f016eff"
        ],
        "x": 1195,
        "y": 480,
        "wires": []
    },
    {
        "id": "0416ea6909311b42",
        "type": "link in",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "Update FS",
        "links": [
            "0d8173f38e89fbff",
            "1a9410ac2442e363",
            "3169a0e7aefec915",
            "3fbcebb8a982c031",
            "41518b531082b3d7",
            "53ad0d9118b96995",
            "56baf729ff9f20d4",
            "5d5808f37e4f2631",
            "60c4cd940e202083",
            "6f5b0006051e39ef",
            "7e1e1ed2c52487f5",
            "9a1fea64496dca0b",
            "c612b81a64bb9759",
            "d0e47829bbab10d2",
            "d504585ce63f5428",
            "f4d059522562d6ee",
            "271ede2ce51d285f",
            "ae7f84b63854f65a",
            "31b38ea8c73fc370",
            "b8d97633789e564a",
            "9b568c684831987e",
            "e1cc859ba784a678",
            "c1a90303531def31",
            "93e63f839cdaec05",
            "37c7a2dbbcb0a457",
            "340b990d6b13e2a7",
            "ed716ab02d4082a2",
            "ad963e02c9e92e23",
            "818f620db7bf22cc",
            "92f06b8d089d2e3c",
            "1d79d030bb97d1cb",
            "c15ecd4af88078fe",
            "fb816ea98a4bab83",
            "3d9cde5ecb8c0e76"
        ],
        "x": 205,
        "y": 300,
        "wires": [
            [
                "8078387b8154fc28",
                "085de4503ad6ec20"
            ]
        ]
    },
    {
        "id": "187c6afe9262807c",
        "type": "comment",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "Update FS BEFORE WATER\\n payload.bldg, payload.window, payload.numFire",
        "info": "",
        "x": 340,
        "y": 180,
        "wires": []
    },
    {
        "id": "8078387b8154fc28",
        "type": "function",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "Update Window Global",
        "func": "//--- Basic variables\nvar input = msg.payload;\nvar theBldg = msg.payload.bldg;\nvar theWin = msg.payload.window;\nvar theFS = msg.payload.numFire;\n\n//--- Update Global Variables\nvar theGlobalString = theBldg + \".FS.Window\" + theWin + \"-BeforeWater\";\nglobal.set(theGlobalString,theFS);\n\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 280,
        "wires": [
            [
                "dda9a78374edd0d2"
            ]
        ]
    },
    {
        "id": "5acfacf7a05cc895",
        "type": "function",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "Update GutterPixels Global - Requires AfterWater String",
        "func": "/* \nGutter is built with 30 pixels\n[0-7]   = Window 1 FS\n[8-9]   = Blank (spacer)\n[10-19] = Status\n[20-21] = Blank (spacer)\n[22-29] = Window 2 FS\n\nColor wheel:\n0 = OFF\n1 = RED\n2 = ORANGE\n3 = YELLOW\n4 = GREEN\n5 = BLUE\n6 = PURPLE\n^^ Don't forget to make these a string, not an int\n*/ \n\n//--- Basic variables\nvar input = msg.payload;\nvar theBldg = msg.payload.bldg;\nvar theWin = msg.payload.window;\n\n// --FS is no longer a basic variable, since you'll have to depend on VISIBLE (after Water) fire\nvar theFS = global.get(theBldg+\".FS.Window\" + theWin + \"-AfterWater\");\n\n//--- Get current gutterpixels, delete the relevant window's substring \n//string.substring(indexStart, indexEnd)\nvar curPixelString = global.get(theBldg + \".GutterPixels\");\nif (theWin == 1) {\n    var stringMinusWindow = curPixelString.substring(8, 30); //will want to check off-by-one issues\n    var theColor = \"3\"; // YELLOW\n} else if (theWin == 2) {\n    var stringMinusWindow = curPixelString.substring(0, 22); //will want to check off-by-one issues\n    var theColor = \"4\"; // RED\n}\n//node.warn(stringMinusWindow);\n\n//--- Build the new window's string\nvar newWindowString = \"\";\n//-- Add 1's up to the FS, then 0's after that to only light up the FS pixels\n// off-by-one _should_ work out alright? \n// also js shorthand woo https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator\nfor (let i=0; i<8; i++) {\n    newWindowString += i<theFS ? theColor : \"0\"; \n}\n\n//--- Combino preparo \n//node.warn(newWindowString);\n//node.warn(stringMinusWindow);\nif (theWin == 1) {\n    var newPixelString = newWindowString + stringMinusWindow; \n} else if (theWin == 2) {\n    var newPixelString = stringMinusWindow + newWindowString;\n}\n\n//--- Fin\nglobal.set(theBldg + \".GutterPixels\", newPixelString);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1390,
        "y": 300,
        "wires": [
            [
                "926f27b7e8249ddb"
            ]
        ]
    },
    {
        "id": "926f27b7e8249ddb",
        "type": "function",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "Build MQTT Msg for Gutter",
        "func": "/*\n---- WILL NEED TO UPDATE ONCE WE KNOW HOW \"WHICHLEDS\" WORKS ---\n\nmsg1.topic = \"nodered/updategutter/full/\" + theBldgs[0];\nmsg1.payload = \"{ \\\"color\\\":\\\"FFFF00\\\" }\";\n\n*/ \n\n//--- Basic variables\nvar input = msg.payload;\nvar node_id = msg.payload.bldg;\nvar theGutter = 0; //-=-=-=-==-=\n\n\n//--- Set up MQTT message\nvar gutterString = global.get(node_id + \".GutterPixels\");\n//var gutterString = \"333333333333333333333333333333\";\nmsg.topic = \"nodered/updatepixels/\" + node_id;\nmsg.payload = \"{ \\\"whichLeds\\\":\" + theGutter + \", \" +\n    \"\\\"pixels\\\": \\\"\" + gutterString + \"\\\"\" +\n    \"}\";\n//node.warn(msg);\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1760,
        "y": 300,
        "wires": [
            [
                "5f0bcff5c4ed6ec4"
            ]
        ]
    },
    {
        "id": "ed2d399b29970928",
        "type": "function",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "Build MQTT Msg for Window",
        "func": "//--- Basic variables\nvar input = msg.payload;\nvar node_id = msg.payload.bldg;\nvar theWin = msg.payload.window;\n\nvar theFS = global.get(node_id + \".FS.Window\" + theWin + \"-AfterWater\");\n\n//--- Build MQTT message\nif (theFS > 0) {\n    msg.topic = \"nodered/lighton/\" + node_id;\n} else if (theFS == 0) {\n    msg.topic = \"nodered/lightoff/\" + node_id;\n}\nmsg.payload = \"{ \\\"whichLight\\\":\" + theWin + \"}\"\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1300,
        "y": 360,
        "wires": [
            [
                "f986ab9711daf36b"
            ]
        ]
    },
    {
        "id": "5f0bcff5c4ed6ec4",
        "type": "mqtt out",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 1970,
        "y": 300,
        "wires": []
    },
    {
        "id": "f986ab9711daf36b",
        "type": "mqtt out",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 1510,
        "y": 360,
        "wires": []
    },
    {
        "id": "085de4503ad6ec20",
        "type": "function",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "Update Status Global",
        "func": "//--- Basic variables\nvar input = msg.payload;\nvar node_id = msg.payload.bldg;\nvar theWin = msg.payload.window;\nvar theFS = msg.payload.numFire;\n\n//--- Build MQTT message\nif (theFS > 0) {\n    global.set(node_id+\".Status\", \"Burning\");\n} else if (theFS == 0) {\n    global.set(node_id + \".Status\", \"Cleared\");\n}\n\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "7138aeefb2263d68",
        "type": "comment",
        "z": "f6f035102302ba5a",
        "g": "5f1037ebc6dbd72f",
        "name": "Update GutterPixels \\n payload.bldg, payload.pixelstring \\n I think this is only used by TelloPath anymore..",
        "info": "",
        "x": 290,
        "y": 580,
        "wires": []
    },
    {
        "id": "f8afe1542a91baa2",
        "type": "link in",
        "z": "f6f035102302ba5a",
        "g": "5f1037ebc6dbd72f",
        "name": "Update GutterPixels",
        "links": [
            "ae0759e01e0881af",
            "e1a0483ff23d768b"
        ],
        "x": 185,
        "y": 660,
        "wires": [
            [
                "f976aafaf0f9a3c1"
            ]
        ]
    },
    {
        "id": "f976aafaf0f9a3c1",
        "type": "function",
        "z": "f6f035102302ba5a",
        "g": "5f1037ebc6dbd72f",
        "name": "Update GutterPixels Global",
        "func": "/* \nGutter is built with 30 pixels\n[0-7]   = Window 1 FS\n[8-9]   = Blank (spacer)\n[10-19] = Status\n[20-21] = Blank (spacer)\n[22-29] = Window 2 FS\n*/ \n\n//--- Basic variables\nvar input = msg.payload;\nvar theBldg = input.bldg;\nvar theString = input.pixelstring;\n\n//--- Update global\nglobal.set(theBldg + \".Lights.GutterPixels\", theString);\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 660,
        "wires": [
            [
                "2d3d077a6a33a90f"
            ]
        ]
    },
    {
        "id": "2d3d077a6a33a90f",
        "type": "function",
        "z": "f6f035102302ba5a",
        "g": "5f1037ebc6dbd72f",
        "name": "Build MQTT Msg for Gutter",
        "func": "/*\n---- WILL NEED TO UPDATE ONCE WE KNOW HOW \"WHICHLEDS\" WORKS ---\n*/ \n\n//--- Basic variables\nvar input = msg.payload;\nvar node_id = input.bldg;\nvar theGutter = 0; //-=-=-===--==\n\n//--- Set up MQTT message\nvar gutterString = global.get(node_id + \".GutterPixels\");\nmsg.topic = \"nodered/updatepixels/\" + node_id;\nmsg.payload = \"{ \\\"whichLeds\\\":\" + theGutter + \", \" +\n    \"\\\"pixels\\\": \\\"\" + gutterString + \"\\\"\" +\n    \"}\";\n//{   \"whichLeds\":0,   \"pixels\":\"111111111111111444444444444444\" }\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 660,
        "wires": [
            [
                "19c221d99629ee7a"
            ]
        ]
    },
    {
        "id": "19c221d99629ee7a",
        "type": "mqtt out",
        "z": "f6f035102302ba5a",
        "g": "5f1037ebc6dbd72f",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 890,
        "y": 660,
        "wires": []
    },
    {
        "id": "42500fdf3edadd8f",
        "type": "comment",
        "z": "f6f035102302ba5a",
        "g": "459fe488a5804676",
        "name": "Update WaterQty\\n payload.bldg, payload.newAddlWaterQty",
        "info": "",
        "x": 260,
        "y": 860,
        "wires": []
    },
    {
        "id": "ab46c7d25d3bb74b",
        "type": "link in",
        "z": "f6f035102302ba5a",
        "g": "459fe488a5804676",
        "name": "Update Water Qty",
        "links": [
            "3ddb4866a6ecb8fe"
        ],
        "x": 165,
        "y": 1020,
        "wires": [
            [
                "64807321f86b9125"
            ]
        ]
    },
    {
        "id": "570cc8a3dd014038",
        "type": "function",
        "z": "f6f035102302ba5a",
        "g": "459fe488a5804676",
        "name": "Update WaterQty, prep new FS",
        "func": "/* \nExample input: \nmsg.payload.bldg = \"RTO\";\nmsg.payload.newAddlWaterQty = 3;\n*/ \n\n//--- Basic variables \nvar input = msg.payload;\nvar nodeid = input.bldg;\nvar newWater = input.newAddlWaterQty;\nvar msg1 = {};\nmsg1.payload = {};\nvar msg2 = {};\nmsg2.payload = {};\n\n//--- Get the globals\nvar win1_FS_pre = global.get(nodeid + \".FS.Window1-BeforeWater\");\nvar win2_FS_pre = global.get(nodeid + \".FS.Window2-BeforeWater\");\n\n//--- Do some quick water math\nvar curWaterQty = global.get(nodeid + \".WaterQty\");\nvar newWaterQty = curWaterQty + newWater;\nglobal.set(nodeid + \".WaterQty\", newWaterQty);\n\n//-----------\n//--- HOW MANY WATERS PER PIXEL / FS / BLIP ? \n// ---- Technically, in the manual, it is 4x for water drop balls, 2x for lasers\n//-----------\nswitch(nodeid) {\n    //laser\n    case \"LBO\":\n    case \"LTM\":\n    case \"LBM\":\n    case \"RTO\":\n    case \"RBM\":\n    case \"RTM\":\n        var WATER_PER_FS = 2;\n\n    //balls\n    case \"RTO\":\n    case \"RTI\":\n    case \"RBI\":\n    case \"RBO\":\n    case \"RBI\":\n    case \"RTI\":\n        var WATER_PER_FS = 4;\n}\nvar MAX_POSS_FS = 8;\n\n//--- Take the \"before Water\" FS's, and bang em against the water, and get new \"after Water\" FS's\nvar impactToFS = Math.floor(newWaterQty / WATER_PER_FS);\nnode.warn(impactToFS);\nvar the_FS_thats_left = (win1_FS_pre + win2_FS_pre) - impactToFS; \nnode.warn(\"theleft\");\nnode.warn(the_FS_thats_left);\nif (the_FS_thats_left > MAX_POSS_FS) { \n    var win1_FS_post = MAX_POSS_FS;\n    var win2_FS_post = the_FS_thats_left - MAX_POSS_FS;\n} else { \n    var win1_FS_post = the_FS_thats_left;\n    var win2_FS_post = 0;\n}\nnode.warn(win1_FS_post);\nnode.warn(win2_FS_post);\n\n//--- Prep FS update callback\n//payload.bldg, payload.window, payload.numFire\nmsg1.payload.bldg = nodeid;\nmsg1.payload.window = 1;\nmsg1.payload.numFire = win1_FS_post;\n\nmsg2.payload.bldg = nodeid;\nmsg2.payload.window = 2;\nmsg2.payload.numFire = win2_FS_post;\n\n//rrrrrap it up\nreturn [msg1, msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 960,
        "wires": [
            [
                "7e1e1ed2c52487f5",
                "f4ccd769fbdd6843"
            ],
            [
                "8498c6ad0a1a8df7"
            ]
        ]
    },
    {
        "id": "7e1e1ed2c52487f5",
        "type": "link out",
        "z": "f6f035102302ba5a",
        "g": "459fe488a5804676",
        "name": "Water Hitting FS",
        "mode": "link",
        "links": [
            "0416ea6909311b42",
            "113bf2ef4799a486"
        ],
        "x": 1395,
        "y": 940,
        "wires": []
    },
    {
        "id": "505ee7d447687c96",
        "type": "comment",
        "z": "f6f035102302ba5a",
        "g": "459fe488a5804676",
        "name": "Send this to the FS callback\\n Delay to avoid windows stepping on each other",
        "info": "",
        "x": 1460,
        "y": 1020,
        "wires": []
    },
    {
        "id": "8498c6ad0a1a8df7",
        "type": "delay",
        "z": "f6f035102302ba5a",
        "g": "459fe488a5804676",
        "name": "",
        "pauseType": "delay",
        "timeout": "50",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1290,
        "y": 980,
        "wires": [
            [
                "7e1e1ed2c52487f5"
            ]
        ]
    },
    {
        "id": "192043bb5930e80f",
        "type": "function",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "459fe488a5804676",
        "name": "[obsolete method for this]",
        "func": "/* \nExample input: \nmsg.payload.bldg = \"RTO\";\nmsg.payload.newAddlWaterQty = 3;\n*/ \n\n//--- Basic variables \nvar input = msg.payload;\nvar nodeid = input.bldg;\nvar newWater = input.newAddlWaterQty;\nvar msg1 = {};\nmsg1.payload = {};\nvar msg2 = {};\nmsg2.payload = {};\n\n//--- Get the globals\nvar win1_FS_pre = global.get(nodeid + \".FS.Window1.BeforeWater\");\nvar win2_FS_pre = global.get(nodeid + \".FS.Window2.BeforeWater\");\n\n//--- Do some quick water math\nvar curWaterQty = global.get(nodeid + \".WaterQty\");\nvar newWaterQty = curWaterQty + newWater;\n\n//-----------\n//--- HOW MANY WATERS PER PIXEL / FS / BLIP ? \n// ---- Technically, in the manual, it is 4x for water drop balls, 2x for lasers\n//-----------\nswitch(nodeid) {\n    //laser\n    case \"LBO\":\n    case \"LTM\":\n    case \"LBM\":\n    case \"RTO\":\n    case \"RBM\":\n    case \"RTM\":\n        var WATER_PER_FS = 2;\n\n    //balls\n    case \"RTO\":\n    case \"RTI\":\n    case \"RBI\":\n    case \"RBO\":\n    case \"RBI\":\n    case \"RTI\":\n        var WATER_PER_FS = 4;\n}\nvar MAX_POSS_FS = 8;\n\n/* Example: \n- Win1FS = 8 | Win2FS = 3 | WaterQty = 2 | NewWaterQty = 12\nEnough water is dropped to drop 12 FS points (wateredDownAmt = 12)\n- 8 of this goes to window 1\n- 4 of this goes to window 2\nOtherwise, it just sticks to window 1.\n- THIS IS TRUE EVEN IF window 2 is active.\n- This is part of the \"back to basics\" gameplay.  Is it \"right\" or \"the best\"?  Probably not.. but it's easy\nANOTHER CURRENT ISSUE\n- Currently, this just tracks one master \"water amt\" \n- So theoretically, if your waterqty exceeds window1's amt, it will \"proactively\" count towards window2\n- Probably need to fix this later...\n\nalso.... this is probably way overcomplicated and the result of late night work\n\nthis iwill just need lots of testing\n*/ \nvar wateredDownAmt = Math.floor(newWaterQty / WATER_PER_FS);\n//node.warn(wateredDownAmt);\nif (wateredDownAmt >= 8) {\n    var firstWindowWater = 8;\n    var secondWindowWater = wateredDownAmt - 8;\n} else {\n    var firstWindowWater = wateredDownAmt;\n    var secondWindowWater = 0;\n}\n//node.warn(firstWindowWater);\n//node.warn(secondWindowWater);\n\n\n//--- Calc new FS's\nvar newFS_Win1 = win1_FS - (MAX_POSS_FS - firstWindowWater);\nvar newFS_Win2 = win2_FS - (MAX_POSS_FS - secondWindowWater);\n//node.warn(newFS_Win1);\n\n//--- Update globals\nglobal.set(nodeid+\".WaterQty\", newWaterQty);\n\n\n//--- Prep output for FS update callback\n//payload.bldg, payload.window, payload.numFire\nmsg1.payload.bldg = nodeid;\nmsg1.payload.window = 1;\nmsg1.payload.numFire = win1_FS > 0 ? newFS_Win1 : 0;\n\nmsg2.payload.bldg = nodeid;\nmsg2.payload.window = 2;\nmsg2.payload.numFire = win2_FS > 0 ? newFS_Win2 : 0;\n\n//--- Fin\n//return [msg1, msg2];",
        "outputs": 2,
        "noerr": 4,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1490,
        "y": 880,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "f4ccd769fbdd6843",
        "type": "debug",
        "z": "f6f035102302ba5a",
        "g": "459fe488a5804676",
        "name": "debug 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1260,
        "y": 920,
        "wires": []
    },
    {
        "id": "63f18a575dc37f3b",
        "type": "function",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "Convert BeforeWater -> AfterWater",
        "func": "//--- Basic variables \nvar input = msg.payload;\nvar nodeid = input.bldg;\nvar msg1 = {};\nmsg1.payload = {};\nvar msg2 = {};\nmsg2.payload = {};\n\n//--- Get the globals\nvar win1_FS_pre = global.get(nodeid + \".FS.Window1-BeforeWater\");\nvar win2_FS_pre = global.get(nodeid + \".FS.Window2-BeforeWater\");\nvar theWater = global.get(nodeid + \".WaterQty\");\n\n//--- Do some quick math\nvar MAX_POSS_FS = 8;\nswitch (nodeid) {\n    //-- LASER \n    case \"LBO\":\n    case \"LTM\":\n    case \"LBM\":\n    case \"RTO\":\n    case \"RBM\":\n    case \"RTM\":\n        var WATER_PER_FS = 1; //-- LASER\n\n    //-- BALLS \n    case \"RTI\":\n    case \"RBI\":\n    case \"LTO\":\n    case \"LBI\":\n    case \"LTI\":\n    case \"RBO\":\n        var WATER_PER_FS = 2; //-- BALLS \n}\n\n//--- Take the \"before Water\" FS's, and bang em against the water, and get new \"after Water\" FS's\nvar impactToFS = Math.floor(theWater / WATER_PER_FS);\n//node.warn(impactToFS);\nvar the_FS_thats_left = (win1_FS_pre + win2_FS_pre) - impactToFS;\n//node.warn(the_FS_thats_left);\nif (the_FS_thats_left > MAX_POSS_FS) {\n    var win1_FS_post = MAX_POSS_FS;\n    var win2_FS_post = the_FS_thats_left - MAX_POSS_FS;\n} else {\n    var win1_FS_post = the_FS_thats_left;\n    var win2_FS_post = 0;\n}\n//node.warn('thewinfs');\n//node.warn(win1_FS_post);\n//node.warn(win2_FS_post);\n\n//--- Update de globals\nglobal.set(nodeid + \".FS.Window1-AfterWater\", win1_FS_post);\nglobal.set(nodeid + \".FS.Window2-AfterWater\", win2_FS_post);\n\n//--- Prep FS update callback\n//payload.bldg, payload.window, payload.numFire\nmsg1.payload.bldg = nodeid;\nmsg1.payload.window = 1;\nmsg1.payload.numFire = win1_FS_post;\nmsg2.payload.bldg = nodeid;\nmsg2.payload.window = 2;\nmsg2.payload.numFire = win2_FS_post;\n\n//rrrrrap it up\nreturn [msg1, msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 920,
        "y": 260,
        "wires": [
            [
                "5acfacf7a05cc895",
                "ed2d399b29970928",
                "c558863179e4ef0b",
                "b3159d92c7d2d07d"
            ],
            [
                "5acfacf7a05cc895",
                "ed2d399b29970928"
            ]
        ]
    },
    {
        "id": "64807321f86b9125",
        "type": "function",
        "z": "f6f035102302ba5a",
        "g": "459fe488a5804676",
        "name": "Update WaterQty, send to kickoff FS update",
        "func": "/* \nExample input: \nmsg.payload.bldg = \"RTO\";\nmsg.payload.newAddlWaterQty = 3;\n*/ \n\n//--- Basic variables \nvar input = msg.payload;\nvar nodeid = input.bldg;\nvar newWater = input.newAddlWaterQty;\nmsg.payload = {};\n\n//node.warn(\"addlwater\");\n//node.warn(newWater);\n\n\n//--- Do some quick water math\nvar curWaterQty = global.get(nodeid + \".WaterQty\");\n//node.warn(\"waters\");\n//node.warn(curWaterQty);\ncurWaterQty = curWaterQty === undefined ? 0 : curWaterQty; // don't poison the waterhole\nvar newWaterQty = curWaterQty + newWater;\n//node.warn(newWaterQty);\n//node.warn(newWaterQty);\n\n//--- Update the gloabl\nglobal.set(nodeid + \".WaterQty\", newWaterQty);\n\n\n//--- Prep FS update callback\n// ???\nmsg.payload.bldg = nodeid;\n\n//rrrrrap it up\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 1020,
        "wires": [
            [
                "71f67f7f27cafd81"
            ]
        ]
    },
    {
        "id": "dda9a78374edd0d2",
        "type": "link out",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "To Window Washing",
        "mode": "link",
        "links": [
            "a25ecc470396a417"
        ],
        "x": 535,
        "y": 280,
        "wires": []
    },
    {
        "id": "a25ecc470396a417",
        "type": "link in",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "Time to Wash Windows",
        "links": [
            "dda9a78374edd0d2",
            "71f67f7f27cafd81"
        ],
        "x": 715,
        "y": 260,
        "wires": [
            [
                "63f18a575dc37f3b"
            ]
        ]
    },
    {
        "id": "71f67f7f27cafd81",
        "type": "link out",
        "z": "f6f035102302ba5a",
        "g": "459fe488a5804676",
        "name": "To Window Washing",
        "mode": "link",
        "links": [
            "a25ecc470396a417"
        ],
        "x": 605,
        "y": 1020,
        "wires": []
    },
    {
        "id": "f5ac07449078a00d",
        "type": "comment",
        "z": "f6f035102302ba5a",
        "g": "11a9b9cee18f6b6c",
        "name": "Update ALL BLDGS from Globals",
        "info": "",
        "x": 230,
        "y": 1220,
        "wires": []
    },
    {
        "id": "3c85efd6b9fe4796",
        "type": "ui_button",
        "z": "f6f035102302ba5a",
        "g": "11a9b9cee18f6b6c",
        "name": "",
        "group": "ee9886ff6322a456",
        "order": 1,
        "width": 5,
        "height": 1,
        "passthru": true,
        "label": "Push all Bldgs to MQTT",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 290,
        "y": 1280,
        "wires": [
            [
                "b497a4557843716d"
            ]
        ]
    },
    {
        "id": "7503e9afbf970c67",
        "type": "mqtt out",
        "z": "f6f035102302ba5a",
        "g": "11a9b9cee18f6b6c",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 770,
        "y": 1360,
        "wires": []
    },
    {
        "id": "36c9b826c07c4844",
        "type": "function",
        "z": "f6f035102302ba5a",
        "g": "11a9b9cee18f6b6c",
        "name": "Set Light 1 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nif (global.get(node_id+\".FS.Window1-AfterWater\") > 0) { \n    msg.topic = \"nodered/lighton/\"+node_id;\n} else {\n    msg.topic = \"nodered/lightoff/\"+node_id;\n}\nmsg.payload = \"{ \\\"whichLight\\\":1 }\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 1360,
        "wires": [
            [
                "7503e9afbf970c67"
            ]
        ]
    },
    {
        "id": "b497a4557843716d",
        "type": "loop",
        "z": "f6f035102302ba5a",
        "g": "11a9b9cee18f6b6c",
        "name": "",
        "kind": "enum",
        "count": "",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "allBldgs",
        "enumerationType": "global",
        "limit": "",
        "loopPayload": "loop-val",
        "finalPayload": "final-count",
        "x": 530,
        "y": 1280,
        "wires": [
            [],
            [
                "36c9b826c07c4844",
                "223c3fe920a91621",
                "b019d27b1b388b63"
            ]
        ]
    },
    {
        "id": "223c3fe920a91621",
        "type": "function",
        "z": "f6f035102302ba5a",
        "g": "11a9b9cee18f6b6c",
        "name": "Set Gutter MQTT msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/updatepixels/\"+node_id;\nmsg.payload = \"{ \\\"whichLeds\\\":0, \" +\n    \"\\\"pixels\\\": \\\"\" + global.get(node_id+\".GutterPixels\") + \"\\\"\" +\n    \"}\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 1440,
        "wires": [
            [
                "270a5506f8851358",
                "b497a4557843716d"
            ]
        ]
    },
    {
        "id": "270a5506f8851358",
        "type": "mqtt out",
        "z": "f6f035102302ba5a",
        "g": "11a9b9cee18f6b6c",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 770,
        "y": 1440,
        "wires": []
    },
    {
        "id": "b019d27b1b388b63",
        "type": "function",
        "z": "f6f035102302ba5a",
        "g": "11a9b9cee18f6b6c",
        "name": "Set Light 2 MQTT Msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload;\n\n//--- Set up MQTT message\nif (global.get(node_id + \".FS.Window2-AfterWater\") > 0) {\n    msg.topic = \"nodered/lighton/\" + node_id;\n} else {\n    msg.topic = \"nodered/lightoff/\" + node_id;\n}\nmsg.payload = \"{ \\\"whichLight\\\":2 }\";\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 1400,
        "wires": [
            [
                "74e30c503ee7b8b0"
            ]
        ]
    },
    {
        "id": "74e30c503ee7b8b0",
        "type": "mqtt out",
        "z": "f6f035102302ba5a",
        "g": "11a9b9cee18f6b6c",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 770,
        "y": 1400,
        "wires": []
    },
    {
        "id": "3f402ddd8643cce0",
        "type": "link in",
        "z": "f6f035102302ba5a",
        "g": "11a9b9cee18f6b6c",
        "name": "Update All Bldgs IN",
        "links": [
            "cb167d27c1e7d778",
            "4c742ebce9027c25",
            "b348ea8918f0e0bc",
            "54f240d0cd94a297",
            "0a207319af1f6290"
        ],
        "x": 135,
        "y": 1280,
        "wires": [
            [
                "3c85efd6b9fe4796"
            ]
        ]
    },
    {
        "id": "2a37db221e4919dc",
        "type": "switch",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "If ready",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2120,
        "y": 120,
        "wires": [
            [
                "fe84ce88167ea094"
            ]
        ]
    },
    {
        "id": "fe84ce88167ea094",
        "type": "link out",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "GOTO PHASE 2",
        "mode": "link",
        "links": [
            "9004aeb7ec1ed4bf"
        ],
        "x": 2235,
        "y": 120,
        "wires": []
    },
    {
        "id": "5c0e589cb02e5ad4",
        "type": "switch",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "Which phase",
        "property": "matchPhase",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1410,
        "y": 140,
        "wires": [
            [
                "4c512025a065832e"
            ],
            [
                "3eed4a6d746b77f9"
            ]
        ]
    },
    {
        "id": "6983c6fb1a960333",
        "type": "link out",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "GOTO PHASE 3",
        "mode": "link",
        "links": [
            "d236e6eee53270f4"
        ],
        "x": 2235,
        "y": 160,
        "wires": []
    },
    {
        "id": "a429c99752090afe",
        "type": "inject",
        "z": "f6f035102302ba5a",
        "g": "11a9b9cee18f6b6c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "LTO",
        "payloadType": "str",
        "x": 250,
        "y": 1460,
        "wires": [
            [
                "223c3fe920a91621"
            ]
        ]
    },
    {
        "id": "c558863179e4ef0b",
        "type": "function",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "Check if Bldg Empty",
        "func": "/* \nEvery time you're updating a FS, check to see if it's the LAST ONE  :O\n*/ \n\n// --- Set up vars\nvar input = msg.payload;\nvar bldg = input.bldg;\nvar theBldgFS = global.get(bldg + \".FS.Window1-AfterWater\") + global.get(bldg + \".FS.Window2-AfterWater\"); \n//node.warn(theBldgFS);\n\n//-- Fin\nmsg.fs = theBldgFS;\nmsg.bldgstatus = global.get(bldg + \".Status\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1540,
        "y": 240,
        "wires": [
            [
                "ec9a8da5fdcd039c",
                "28964f598a2b91f8"
            ]
        ]
    },
    {
        "id": "9ec27b48eb18ce04",
        "type": "switch",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "If theBldgFS = 0",
        "property": "fs",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lte",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1940,
        "y": 240,
        "wires": [
            [
                "30922eb04470fcd3"
            ]
        ]
    },
    {
        "id": "30922eb04470fcd3",
        "type": "loop",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "",
        "kind": "fcnt",
        "count": "3",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "enum",
        "enumerationType": "msg",
        "limit": "",
        "loopPayload": "loop-keep",
        "finalPayload": "final-count",
        "x": 2160,
        "y": 240,
        "wires": [
            [],
            [
                "e214f388cf42a7bc"
            ]
        ]
    },
    {
        "id": "e214f388cf42a7bc",
        "type": "function",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "Set Gutter Clap On MQTT",
        "func": "//--- Basic variables\nvar node_id = msg.payload.bldg;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/updatepixels/\"+node_id;\nmsg.payload = \"{ \\\"whichLeds\\\":0, \" +\n    \"\\\"pixels\\\": \\\"111111111111111111111111111111\\\"\" +\n    \"}\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2410,
        "y": 240,
        "wires": [
            [
                "b0111393f42d13c5",
                "df0730dca6dcd4ae"
            ]
        ]
    },
    {
        "id": "b0111393f42d13c5",
        "type": "mqtt out",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 2650,
        "y": 240,
        "wires": []
    },
    {
        "id": "df0730dca6dcd4ae",
        "type": "delay",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "",
        "pauseType": "delay",
        "timeout": "300",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2430,
        "y": 300,
        "wires": [
            [
                "1a82187c851908ef"
            ]
        ]
    },
    {
        "id": "1a82187c851908ef",
        "type": "function",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "Set Gutter Clap Off MQTT msg",
        "func": "//--- Basic variables\nvar node_id = msg.payload.bldg;\n\n//--- Set up MQTT message\nmsg.topic = \"nodered/updatepixels/\"+node_id;\nmsg.payload = \"{ \\\"whichLeds\\\":0, \" +\n    \"\\\"pixels\\\": \\\"000000000000000000000000000000\\\"\" +\n    \"}\";\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2530,
        "y": 360,
        "wires": [
            [
                "e1499c0ddc6fdf99",
                "9fa16415953d9ae6"
            ]
        ]
    },
    {
        "id": "e1499c0ddc6fdf99",
        "type": "mqtt out",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 2770,
        "y": 360,
        "wires": []
    },
    {
        "id": "9fa16415953d9ae6",
        "type": "delay",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "",
        "pauseType": "delay",
        "timeout": "300",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2190,
        "y": 400,
        "wires": [
            [
                "30922eb04470fcd3"
            ]
        ]
    },
    {
        "id": "28964f598a2b91f8",
        "type": "switch",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "If iss not hottt",
        "property": "bldgstatus",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Hottt",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1750,
        "y": 240,
        "wires": [
            [
                "9ec27b48eb18ce04"
            ]
        ]
    },
    {
        "id": "ec9a8da5fdcd039c",
        "type": "switch",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "If iss hottt",
        "property": "bldgstatus",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Hottt",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1740,
        "y": 200,
        "wires": [
            [
                "ee79a9d508104fa0"
            ]
        ]
    },
    {
        "id": "ee79a9d508104fa0",
        "type": "switch",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "If theBldgFS = 0",
        "property": "fs",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lte",
                "v": "-8",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1940,
        "y": 200,
        "wires": [
            [
                "30922eb04470fcd3"
            ]
        ]
    },
    {
        "id": "4c512025a065832e",
        "type": "function",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "Check if Phase 1 complete (startSide GutterPixels = 0)",
        "func": "/* \nEvery time you're updating a FS, check to see if it's the LAST ONE  :O\n(also use this moment to calculate new Damage scores LOL)\n*/ \n\n// --- Set up vars\nvar startside = global.get(\"startSide\");\nvar theTotalFS = 0;\nvar theTotalWater = 0;\nvar curDamage = [];\n\nswitch(startside) {\n    case \"L\":\n        var bldgs = [\"LBO\", \"LTO\", \"LBM\", \"LTM\", \"LBI\", \"LTI\"];\n        break;\n    case \"R\":\n        var bldgs = [\"RTO\", \"RBO\", \"RTM\", \"RBM\", \"RTI\", \"RBI\"];\n        break;\n}\n\n// --- Loop through all buildings, look for no bueno\nvar isClear = true;\nfor (var i in bldgs) {\n    for (var j = 0; j < 30; j++) {\n        var c = global.get(bldgs[i]+\".GutterPixels\").charAt(j);\n        if (c != \"0\") {\n            isClear = false;\n            break;\n        }\n    }\n    if (isClear == false) {\n        break;\n    }\n    //theTotalWater += global.get(bldgs[i]+\".WaterQty\"); // no cheating\n}\n\n/*\nfor (var i in bldgs) {\n    curDamage[i] = 0;\n\n    for (var j=0; j<30; j++) {\n        var c = global.get(bldgs[i]+\".GutterPixels\").chatAr(j);\n        if (c == \"3\" || c==\"4\") {\n            curDamage[i] += 1;\n        }\n    }\n\n    if(curDamage[i] > global.get(bldgs[i]+\".Damage\")) {\n        global.set(bldgs[i] + \".Damage\", curDamage[i]);\n    }\n}\n*/\n\n// --- If it's gone, LET'S GO\n//msg.payload = (theTotalFS <= 0 && theTotalWater >= 30) ? true : false;\n//node.warn(theTotalFS);\n\n// fin\nmsg.payload = isClear;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1780,
        "y": 120,
        "wires": [
            [
                "2a37db221e4919dc"
            ]
        ]
    },
    {
        "id": "b3159d92c7d2d07d",
        "type": "delay",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1240,
        "y": 140,
        "wires": [
            [
                "5c0e589cb02e5ad4"
            ]
        ]
    },
    {
        "id": "3eed4a6d746b77f9",
        "type": "function",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "Check if Phase 2 complete (otherSide GutterPixels = 0)",
        "func": "/* \nEvery time you're updating a FS, check to see if it's the LAST ONE  :O\n*/ \n\n// --- Set up vars\nvar otherside = global.get(\"otherSide\");\nvar theTotalFS = 0;\nvar theTotalWater = 0;\n\nswitch(otherside) {\n    case \"L\":\n        var bldgs = [\"LBO\", \"LTO\", \"LBM\", \"LTM\", \"LBI\", \"LTI\"];\n        break;\n    case \"R\":\n        var bldgs = [\"RTO\", \"RBO\", \"RTM\", \"RBM\", \"RTI\", \"RBI\"];\n        break;\n}\n\n// --- Loop through all buildings, add up total FS\nvar isClear = true;\nfor (var i in bldgs) {\n    for (var j = 0; j < 30; j++) {\n        var c = global.get(bldgs[i]+\".GutterPixels\").charAt(j);\n        if (c != \"0\") {\n            isClear = false;\n            break;\n        }\n    }\n    if (isClear == false) {\n        break;\n    }\n    //theTotalWater += global.get(bldgs[i]+\".WaterQty\"); // no cheating\n}\n\n// --- If it's gone, LET'S GO\n//msg.payload = (isClear && theTotalWater >= 30) ? true : false;\nmsg.payload = isClear;\n//node.warn(theTotalWater);\n//node.warn(theTotalFS);\n\n// fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1790,
        "y": 160,
        "wires": [
            [
                "f2b56dfdbbe11a17"
            ]
        ]
    },
    {
        "id": "f2b56dfdbbe11a17",
        "type": "switch",
        "z": "f6f035102302ba5a",
        "d": true,
        "g": "284c27310b25477c",
        "name": "If ready",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2120,
        "y": 160,
        "wires": [
            [
                "6983c6fb1a960333"
            ]
        ]
    },
    {
        "id": "7a5f520857017bbb",
        "type": "mqtt in",
        "z": "47c0e0ae667846a9",
        "g": "0d233ae99a4c6065",
        "name": "",
        "topic": "edgenode/laserconfig/#",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "bc90be16040a7d21",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 220,
        "y": 100,
        "wires": [
            [
                "70c149ec65fb102c"
            ]
        ]
    },
    {
        "id": "70c149ec65fb102c",
        "type": "ui_text",
        "z": "47c0e0ae667846a9",
        "g": "0d233ae99a4c6065",
        "group": "9b0778b1ab30b93e",
        "order": 1,
        "width": "10",
        "height": "1",
        "name": "",
        "label": "Latest Debug Msg",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 470,
        "y": 100,
        "wires": []
    },
    {
        "id": "5f3e0a85eea68705",
        "type": "comment",
        "z": "47c0e0ae667846a9",
        "g": "0d233ae99a4c6065",
        "name": "Receive edgenode/laserconfig, parse, display",
        "info": "",
        "x": 230,
        "y": 60,
        "wires": []
    },
    {
        "id": "6c36dbfe44cb036b",
        "type": "comment",
        "z": "47c0e0ae667846a9",
        "name": "Receive heartbeat, parse, display",
        "info": "",
        "x": 1070,
        "y": 60,
        "wires": []
    },
    {
        "id": "35860ad47d848928",
        "type": "mqtt in",
        "z": "47c0e0ae667846a9",
        "name": "",
        "topic": "edgenode/heartbeat/LBM",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "bc90be16040a7d21",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1090,
        "y": 260,
        "wires": [
            [
                "666ddc2d1f9ad272",
                "9e2f4acaa87727e5",
                "98bdf92b14ea3f17",
                "d9f0243f09640174",
                "039c7e87a2f1695e",
                "f82ff874bcc830f9",
                "415dbe1befaea27f",
                "f26ed7948bc91a86",
                "99040e5844332efe"
            ]
        ]
    },
    {
        "id": "666ddc2d1f9ad272",
        "type": "ui_text",
        "z": "47c0e0ae667846a9",
        "group": "8ab51318efc44d27",
        "order": 2,
        "width": "10",
        "height": "1",
        "name": "",
        "label": "Timestamp:",
        "format": "{{msg.payload.timestamp}}",
        "layout": "row-spread",
        "className": "",
        "x": 1370,
        "y": 140,
        "wires": []
    },
    {
        "id": "62457075fe8acc34",
        "type": "ui_text",
        "z": "47c0e0ae667846a9",
        "group": "8ab51318efc44d27",
        "order": 1,
        "width": "10",
        "height": "1",
        "name": "",
        "label": "LBM",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 1030,
        "y": 120,
        "wires": []
    },
    {
        "id": "9e2f4acaa87727e5",
        "type": "ui_text",
        "z": "47c0e0ae667846a9",
        "group": "8ab51318efc44d27",
        "order": 3,
        "width": "10",
        "height": "1",
        "name": "",
        "label": "UUID:",
        "format": "{{msg.payload.uuid}}",
        "layout": "row-spread",
        "className": "",
        "x": 1350,
        "y": 180,
        "wires": []
    },
    {
        "id": "98bdf92b14ea3f17",
        "type": "ui_text",
        "z": "47c0e0ae667846a9",
        "group": "8ab51318efc44d27",
        "order": 4,
        "width": "10",
        "height": "1",
        "name": "",
        "label": "bldg:",
        "format": "{{msg.payload.bldg}}",
        "layout": "row-spread",
        "className": "",
        "x": 1350,
        "y": 220,
        "wires": []
    },
    {
        "id": "d9f0243f09640174",
        "type": "ui_text",
        "z": "47c0e0ae667846a9",
        "group": "8ab51318efc44d27",
        "order": 5,
        "width": "10",
        "height": "1",
        "name": "",
        "label": "IP Address:",
        "format": "{{msg.payload.ip_address}}",
        "layout": "row-spread",
        "className": "",
        "x": 1370,
        "y": 260,
        "wires": []
    },
    {
        "id": "0e16be23a79edb49",
        "type": "ui_slider",
        "z": "47c0e0ae667846a9",
        "g": "aa7cdd8f3125703c",
        "name": "",
        "label": "Laser Diff (default: 500)",
        "tooltip": "",
        "group": "9b0778b1ab30b93e",
        "order": 1,
        "width": "10",
        "height": "1",
        "passthru": true,
        "outs": "end",
        "topic": "topic",
        "topicType": "msg",
        "min": "100",
        "max": "3000",
        "step": "10",
        "className": "",
        "x": 210,
        "y": 240,
        "wires": [
            [
                "39d591f75ab6581f"
            ]
        ]
    },
    {
        "id": "af913b1474ed43d9",
        "type": "comment",
        "z": "47c0e0ae667846a9",
        "g": "aa7cdd8f3125703c",
        "name": "Update LaserDiff",
        "info": "",
        "x": 140,
        "y": 200,
        "wires": []
    },
    {
        "id": "4f65e1b1c3249fbc",
        "type": "mqtt out",
        "z": "47c0e0ae667846a9",
        "g": "aa7cdd8f3125703c",
        "name": "",
        "topic": "nodered/laserdiff",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 730,
        "y": 240,
        "wires": []
    },
    {
        "id": "39d591f75ab6581f",
        "type": "change",
        "z": "47c0e0ae667846a9",
        "g": "aa7cdd8f3125703c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "DETECTOR_DIFF",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 240,
        "wires": [
            [
                "4f65e1b1c3249fbc",
                "6e6816ac951a5c0f"
            ]
        ]
    },
    {
        "id": "6e6816ac951a5c0f",
        "type": "debug",
        "z": "47c0e0ae667846a9",
        "g": "aa7cdd8f3125703c",
        "name": "attempt at mqtt json magic",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 720,
        "y": 300,
        "wires": []
    },
    {
        "id": "f82ff874bcc830f9",
        "type": "ui_text",
        "z": "47c0e0ae667846a9",
        "group": "8ab51318efc44d27",
        "order": 5,
        "width": "10",
        "height": "1",
        "name": "",
        "label": "Heater_on:",
        "format": "{{msg.payload.ip_address}}",
        "layout": "row-spread",
        "className": "",
        "x": 1370,
        "y": 340,
        "wires": []
    },
    {
        "id": "415dbe1befaea27f",
        "type": "ui_text",
        "z": "47c0e0ae667846a9",
        "group": "8ab51318efc44d27",
        "order": 5,
        "width": "10",
        "height": "1",
        "name": "",
        "label": "Latest_diff (laser):",
        "format": "{{msg.payload.latest_diff}}",
        "layout": "row-spread",
        "className": "",
        "x": 1390,
        "y": 380,
        "wires": []
    },
    {
        "id": "039c7e87a2f1695e",
        "type": "ui_text",
        "z": "47c0e0ae667846a9",
        "group": "8ab51318efc44d27",
        "order": 5,
        "width": "10",
        "height": "1",
        "name": "",
        "label": "index (?):",
        "format": "{{msg.payload.index}}",
        "layout": "row-spread",
        "className": "",
        "x": 1360,
        "y": 300,
        "wires": []
    },
    {
        "id": "f26ed7948bc91a86",
        "type": "ui_text",
        "z": "47c0e0ae667846a9",
        "group": "8ab51318efc44d27",
        "order": 5,
        "width": "10",
        "height": "1",
        "name": "",
        "label": "Latest_triggered_diff (laser):",
        "format": "{{msg.payload.latest_triggered_diff}}",
        "layout": "row-spread",
        "className": "",
        "x": 1420,
        "y": 420,
        "wires": []
    },
    {
        "id": "99040e5844332efe",
        "type": "ui_text",
        "z": "47c0e0ae667846a9",
        "group": "8ab51318efc44d27",
        "order": 5,
        "width": "10",
        "height": "1",
        "name": "",
        "label": "MEM:",
        "format": "{{msg.payload.mem}}",
        "layout": "row-spread",
        "className": "",
        "x": 1350,
        "y": 460,
        "wires": []
    },
    {
        "id": "1c589feac1f746b9",
        "type": "comment",
        "z": "47c0e0ae667846a9",
        "name": "COPY THIS OUT FOR ALL NODES",
        "info": "",
        "x": 1160,
        "y": 580,
        "wires": []
    },
    {
        "id": "13b29febb8e2b3e9",
        "type": "comment",
        "z": "47c0e0ae667846a9",
        "g": "3a81c46c8f3762a2",
        "name": "Reset Match / Laser",
        "info": "",
        "x": 150,
        "y": 440,
        "wires": []
    },
    {
        "id": "042587d56aedd796",
        "type": "mqtt out",
        "z": "47c0e0ae667846a9",
        "g": "3a81c46c8f3762a2",
        "name": "",
        "topic": "nodered/reset/laserdetector",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "bc90be16040a7d21",
        "x": 700,
        "y": 480,
        "wires": []
    },
    {
        "id": "478145ccd1cc1b6c",
        "type": "change",
        "z": "47c0e0ae667846a9",
        "g": "3a81c46c8f3762a2",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 480,
        "wires": [
            [
                "042587d56aedd796"
            ]
        ]
    },
    {
        "id": "1c1fbdd28c2c806b",
        "type": "ui_button",
        "z": "47c0e0ae667846a9",
        "g": "3a81c46c8f3762a2",
        "name": "",
        "group": "9b0778b1ab30b93e",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reset Lasers",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 250,
        "y": 480,
        "wires": [
            [
                "478145ccd1cc1b6c"
            ]
        ]
    },
    {
        "id": "1b55865e8e16d405",
        "type": "link in",
        "z": "47c0e0ae667846a9",
        "g": "3a81c46c8f3762a2",
        "name": "Resettin' time",
        "links": [
            "9bc5be050fadf6b6",
            "ced32d8be696727e"
        ],
        "x": 125,
        "y": 480,
        "wires": [
            [
                "1c1fbdd28c2c806b"
            ]
        ]
    },
    {
        "id": "fd280fb139a56e3e",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "MVP Step 4 - Match Start (T=0)",
        "info": "",
        "x": 210,
        "y": 120,
        "wires": []
    },
    {
        "id": "82a8466517112ffd",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "Update first Burning Bldgs",
        "func": "//--- Set up vars\n/*\nif (global.get(\"matchPhase\") == 1) {\n    var whichSide = global.get(\"startSide\");   // \"L\" or \"R\"\n} else if (global.get(\"matchPhase\") == 2) { \n    var whichSide = global.get(\"otherSide\"); \n}\n*/\nvar whichSide = global.get(\"droneActiveSide\"); //\"L\" or \"R\"\nvar msg1 = {};\nmsg1.payload = {};\nvar msg2 = {};\nmsg2.payload = {};\n\n//--- Top or bottom?\nvar whichRouteInt = Math.floor(Math.random() * 2); //returns 0 or 1\nvar whichRouteStr = whichRouteInt == 1 ? \"T\" : \"B\";\nglobal.set(\"startRoute\", whichRouteStr);\nvar bldg1 = whichSide + whichRouteStr + \"M\"; //e.g. bldg LTM\nvar bldg2 = whichSide + whichRouteStr + \"I\"; //e.g. bldg LTI\n\n//--- Set up payloads to update globals using callbacks\n// - Callback expects payload.bldg, payload.window, payload.numFire\n// - Set window 1 to FS of 8\nmsg1.payload.bldg = bldg1;\nmsg1.payload.window = 1;\nmsg1.payload.numFire = 8;\nglobal.set(bldg1+\".Damage\", 8);\nmsg2.payload.bldg = bldg2;\nmsg2.payload.window = 1;\nmsg2.payload.numFire = 8;\nglobal.set(bldg2 + \".Damage\", 8);\n\n\n//Fin\nreturn [msg1, msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 910,
        "y": 180,
        "wires": [
            [
                "c612b81a64bb9759",
                "45e70a9ad7899e4d"
            ],
            [
                "c612b81a64bb9759",
                "9cbdb9d52fe7cf9a"
            ]
        ]
    },
    {
        "id": "c612b81a64bb9759",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "Send T=0 FS updates",
        "mode": "link",
        "links": [
            "0416ea6909311b42"
        ],
        "x": 1245,
        "y": 180,
        "wires": []
    },
    {
        "id": "ee7fad842ebd85de",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "Light up a Tello Path",
        "func": "/* \nGutterPixels callback expects\npayload.bldg, payload.pixelstring\n*/ \n\n\n//--- Set up vars\nvar whichSide = global.get(\"otherSide\"); // \"L\" or \"R\"\nvar msg1 = {};\nmsg1.payload = {};\nvar msg2 = {};\nmsg2.payload = {};\nvar msg3 = {};\nmsg3.payload = {};\nvar msg4 = {};\nmsg4.payload = {};\n\n//                    |                            |\nvar thePixelString = \"666666666666666666666666666666\"; // TEAL\n\n//--- Choose a path\nvar whichPath = Math.floor(Math.random() * 3);\n\n//--- Set up messages\nswitch (whichPath) {\n    case 0:\n        switch (whichSide) {\n            case \"R\":\n                msg1.payload.bldg = \"RTO\";\n                msg2.payload.bldg = \"RBO\";\n                msg3.payload.bldg = \"RBM\";\n                msg4.payload.bldg = \"RTI\";\n                break;\n            case \"L\":\n                msg1.payload.bldg = \"LBI\";\n                msg2.payload.bldg = \"LTM\";\n                msg3.payload.bldg = \"LTO\";\n                msg4.payload.bldg = \"LBO\";\n                break;\n        }\n        break;\n    case 1:\n        switch (whichSide) {\n            case \"R\":\n                msg1.payload.bldg = \"RBI\";\n                msg2.payload.bldg = \"RBM\";\n                msg3.payload.bldg = \"RTM\";\n                msg4.payload.bldg = \"RTO\";\n                break;\n            case \"L\":\n                msg1.payload.bldg = \"LTI\";\n                msg2.payload.bldg = \"LBM\";\n                msg3.payload.bldg = \"LTM\";\n                msg4.payload.bldg = \"LBO\";\n                break;\n        }\n        break;\n    case 2:\n        switch (whichSide) {\n            case \"R\":\n                msg1.payload.bldg = \"RBI\";\n                msg2.payload.bldg = \"RBM\";\n                msg3.payload.bldg = \"RBO\";\n                msg4.payload.bldg = \"RTO\";\n                break;\n            case \"L\":\n                msg1.payload.bldg = \"LTI\";\n                msg2.payload.bldg = \"LTM\";\n                msg3.payload.bldg = \"LTO\";\n                msg4.payload.bldg = \"LBO\";\n                break;\n        }\n        break;\n}\nmsg1.payload.pixelstring = thePixelString;\nmsg2.payload.pixelstring = thePixelString;\nmsg3.payload.pixelstring = thePixelString;\nmsg4.payload.pixelstring = thePixelString;\n\n//--- Update global statuses\nglobal.set(msg1.payload.bldg + \".Status\", \"TelloPath\");\nglobal.set(msg2.payload.bldg + \".Status\", \"TelloPath\");\nglobal.set(msg3.payload.bldg + \".Status\", \"TelloPath\");\nglobal.set(msg4.payload.bldg + \".Status\", \"TelloPath\");\n\n//Fin\nreturn [msg1, msg2, msg3, msg4];\n\n\n/*\n--------\nTHIS WILL BE EASY TO ADD ALL 3 PATHS LATER \n- JUST PULL FROM THE OTHER CODE\n--------\n*/ ",
        "outputs": 4,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 320,
        "wires": [
            [
                "ae0759e01e0881af"
            ],
            [
                "ae0759e01e0881af"
            ],
            [
                "ae0759e01e0881af"
            ],
            [
                "ae0759e01e0881af"
            ]
        ]
    },
    {
        "id": "ae0759e01e0881af",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "Tello GutterPixels",
        "mode": "link",
        "links": [
            "f8afe1542a91baa2"
        ],
        "x": 1005,
        "y": 320,
        "wires": []
    },
    {
        "id": "18a7e5b4e99c326d",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "Set 1:00 target for heater",
        "func": "//--- Set up vars\nvar hotBldg = global.get(\"hotBldg\"); // e.g. \"LTO\"\nvar curHotTime = global.get(\"heaterTime\"); //in secs\n\n//--- Set a \"time target\" that is 60 secs from now\nvar timeTarget = curHotTime + 60;\nglobal.set(\"heaterTimeTarget\", timeTarget);\n//node.warn(global.get(\"heaterTime\"));\n//node.warn(global.get(\"heaterTimeTarget\"));\n\n\n//Fin\nmsg.payload = timeTarget;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 420,
        "wires": [
            [
                "140ccabed0093842"
            ]
        ]
    },
    {
        "id": "aadcf8e2c074df27",
        "type": "ui_text",
        "z": "26a7e7275cb541d0",
        "d": true,
        "g": "6a8702296ddd22a1",
        "group": "eec8a831cc9d15c1",
        "order": 7,
        "width": 10,
        "height": 1,
        "name": "",
        "label": "Heater will turn off in: ",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 1740,
        "y": 380,
        "wires": []
    },
    {
        "id": "140ccabed0093842",
        "type": "trigger",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "-250",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1080,
        "y": 420,
        "wires": [
            [
                "a7ed1ac2a675515d"
            ]
        ]
    },
    {
        "id": "a7ed1ac2a675515d",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "Time Remaining",
        "func": "var waitTime = global.get(\"heaterTimeTarget\") - global.get(\"heaterTime\");\nmsg.payload = waitTime;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1280,
        "y": 420,
        "wires": [
            [
                "3b77325dbc1afa0c"
            ]
        ]
    },
    {
        "id": "3b77325dbc1afa0c",
        "type": "switch",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "If still time remaining",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1480,
        "y": 420,
        "wires": [
            [
                "aadcf8e2c074df27"
            ],
            [
                "f80fcf16add6a94c",
                "6e9c04bbdc0780af"
            ]
        ]
    },
    {
        "id": "f80fcf16add6a94c",
        "type": "change",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1720,
        "y": 480,
        "wires": [
            [
                "140ccabed0093842",
                "d1995509f950a1a9"
            ]
        ]
    },
    {
        "id": "d1995509f950a1a9",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "Ding fries are done",
        "mode": "link",
        "links": [
            "8c8fae70037e1c26"
        ],
        "x": 1855,
        "y": 480,
        "wires": []
    },
    {
        "id": "da8215e65b543ef9",
        "type": "ui_button",
        "z": "26a7e7275cb541d0",
        "d": true,
        "g": "6a8702296ddd22a1",
        "name": "",
        "group": "f1f13388d5f613e8",
        "order": 3,
        "width": 5,
        "height": 2,
        "passthru": true,
        "label": "END / RESET MATCH",
        "tooltip": "",
        "color": "",
        "bgcolor": "red",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 280,
        "y": 560,
        "wires": [
            [
                "2335df53b4766297",
                "6d217ae324a7acc7",
                "9bc5be050fadf6b6"
            ]
        ]
    },
    {
        "id": "4b6a57a81a1ea4ce",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "d": true,
        "g": "6a8702296ddd22a1",
        "name": "Start Burn Timer",
        "mode": "link",
        "links": [
            "ff0af9f0a11f5393"
        ],
        "x": 695,
        "y": 500,
        "wires": []
    },
    {
        "id": "ea98a939f9a52953",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "Start burn timer",
        "info": "",
        "x": 800,
        "y": 480,
        "wires": []
    },
    {
        "id": "2335df53b4766297",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "JUST END IT",
        "mode": "link",
        "links": [
            "227f2d5a2ea24037",
            "c0d73c7a8e66d4c2",
            "93467bb9550545d1"
        ],
        "x": 445,
        "y": 540,
        "wires": []
    },
    {
        "id": "6d217ae324a7acc7",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "Ding fries are done",
        "mode": "link",
        "links": [
            "8c8fae70037e1c26"
        ],
        "x": 445,
        "y": 580,
        "wires": []
    },
    {
        "id": "b139a3ab9696d743",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "Send all the resets",
        "info": "",
        "x": 580,
        "y": 560,
        "wires": []
    },
    {
        "id": "0ff21611a0176572",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "TODO - Reset GUI",
        "info": "",
        "x": 580,
        "y": 600,
        "wires": []
    },
    {
        "id": "691a5afc5b52b78a",
        "type": "link in",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "Just end it (in)",
        "links": [
            "0e3ebf9316c50718"
        ],
        "x": 125,
        "y": 540,
        "wires": [
            [
                "da8215e65b543ef9"
            ]
        ]
    },
    {
        "id": "45e70a9ad7899e4d",
        "type": "debug",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "db bldg1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1280,
        "y": 140,
        "wires": []
    },
    {
        "id": "9cbdb9d52fe7cf9a",
        "type": "debug",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "db bldg2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1280,
        "y": 220,
        "wires": []
    },
    {
        "id": "9bc5be050fadf6b6",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "Send reset MQTT",
        "mode": "link",
        "links": [
            "1b55865e8e16d405"
        ],
        "x": 445,
        "y": 620,
        "wires": []
    },
    {
        "id": "e4346dc3857e09be",
        "type": "change",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "matchPhase",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 320,
        "wires": [
            [
                "82a8466517112ffd",
                "ee7fad842ebd85de",
                "18a7e5b4e99c326d",
                "4b6a57a81a1ea4ce",
                "840d83d276567759"
            ]
        ]
    },
    {
        "id": "6e9c04bbdc0780af",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "Erupt Heating Building",
        "func": "// Expects \n// payload.bldg, payload.window, payload.numFire\n\n//--- Set up vars\nvar theBldg = global.get(\"hotBldg\");\nvar theWater = global.get(theBldg+\".WaterQty\");\nvar msg1 = {};\nmsg1.payload = {};\nvar msg2 = {};\nmsg2.payload = {};\n\n//--- Light 'er up\n/*\nglobal.set(theBldg + \".Status\",\"Burning\");\nglobal.set(theBldg + \".FS.Window1-BeforeWater\", 8);\nglobal.set(theBldg + \".FS.Window2-BeforeWater\", 8);\n\nglobal.set(theBldg + \".FS.Window1-AfterWater\", 8-theWater);\nglobal.set(theBldg + \".FS.Window2-AfterWater\", 8-theWater);\nglobal.set(theBldg + \".GutterPixels\", \"333333330000000000000044444444\");\n*/\n\nmsg1.payload.bldg = theBldg;\nmsg1.payload.window = 1;\nmsg1.payload.numFire = 8;\n\nmsg2.payload.bldg = theBldg;\nmsg2.payload.window = 2;\nmsg2.payload.numFire = 8;\n\n\n//Fin\nreturn [msg1, msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1740,
        "y": 540,
        "wires": [
            [
                "53ad0d9118b96995"
            ],
            [
                "d504585ce63f5428"
            ]
        ]
    },
    {
        "id": "53ad0d9118b96995",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "Bldg been erupted",
        "mode": "link",
        "links": [
            "0416ea6909311b42"
        ],
        "x": 1895,
        "y": 520,
        "wires": []
    },
    {
        "id": "d504585ce63f5428",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "Bldg been erupted",
        "mode": "link",
        "links": [
            "0416ea6909311b42"
        ],
        "x": 1895,
        "y": 560,
        "wires": []
    },
    {
        "id": "4ddc4f8c8e23432a",
        "type": "switch",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "Check Phase",
        "property": "matchPhase",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 370,
        "y": 320,
        "wires": [
            [
                "e4346dc3857e09be"
            ]
        ]
    },
    {
        "id": "334fd460617b85bd",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "Start burn timer rev2",
        "info": "",
        "x": 990,
        "y": 520,
        "wires": []
    },
    {
        "id": "840d83d276567759",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "Time to Start Burn Rev2",
        "mode": "link",
        "links": [
            "1a85280e23bfe3a9",
            "4bed08c71e9e8bf9"
        ],
        "x": 875,
        "y": 540,
        "wires": []
    },
    {
        "id": "a920288bc5a73af2",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "g": "6a8702296ddd22a1",
        "name": "=== OBSOLETE, REPLACED BY REV NIGE ===",
        "info": "",
        "x": 260,
        "y": 160,
        "wires": []
    },
    {
        "id": "87776e9d6e72f8b7",
        "type": "ui_button",
        "z": "26a7e7275cb541d0",
        "d": true,
        "g": "6a8702296ddd22a1",
        "name": "",
        "group": "f1f13388d5f613e8",
        "order": 1,
        "width": 5,
        "height": 2,
        "passthru": false,
        "label": "START MATCH",
        "tooltip": "",
        "color": "",
        "bgcolor": "green",
        "className": "bigbutton",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 180,
        "y": 300,
        "wires": [
            [
                "4ddc4f8c8e23432a"
            ]
        ]
    },
    {
        "id": "1e1c7379d222d543",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "Global Timer Rev2 (Week 3)",
        "info": "",
        "x": 240,
        "y": 760,
        "wires": []
    },
    {
        "id": "7c021285ab1cb1de",
        "type": "delay",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "",
        "pauseType": "delay",
        "timeout": "30",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 300,
        "y": 860,
        "wires": [
            [
                "9cad5208bdecb706",
                "90d6f18b09e1c6b5"
            ]
        ]
    },
    {
        "id": "9cad5208bdecb706",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "First Burning Bldgs -> 2 Windows",
        "func": "//--- Set up vars\n/*\nif (global.get(\"matchPhase\") == 1) {\n    var whichSide = global.get(\"startSide\");   // \"L\" or \"R\"\n} else if (global.get(\"matchPhase\") == 2) { \n    var whichSide = global.get(\"otherSide\"); \n}\n*/\nvar whichSide = global.get(\"droneActiveSide\"); //\"L\" or \"R\"\nvar whichRoute = global.get(\"startRoute\");     // \"T\" or \"B\"\nvar bldg1 = whichSide + whichRoute + \"I\";      // e.g. \"LTI\"\nvar bldg2 = whichSide + whichRoute + \"M\";      // e.g. \"LTM\"\nvar msg1 = {};\nmsg1.payload = {};\nvar msg2 = {};\nmsg2.payload = {};\n\n//--- Check on the bldgs\n// Anyone who is still burning (i.e. team has not turned FS to 0) expands to next window\n// Set up payloads to update globals using callbacks\n// - Callback expects payload.bldg, payload.window, payload.numFire\n// - Set window 2 to FS of 8\nif (global.get(bldg1 + \".FS.Window1-AfterWater\") > 0) {\n    msg1.payload.bldg = bldg1;\n    msg1.payload.window = 2;\n    msg1.payload.numFire = 8;\n}\nif (global.get(bldg2 + \".FS.Window1-AfterWater\") > 0) {\n    msg2.payload.bldg = bldg2;\n    msg2.payload.window = 2;\n    msg2.payload.numFire = 8;\n}\n\n//Fin\nreturn [msg1, msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 880,
        "wires": [
            [
                "9b568c684831987e",
                "19cd1fc687cb899a"
            ],
            [
                "9b568c684831987e",
                "1d62b36f11529438"
            ]
        ]
    },
    {
        "id": "9b568c684831987e",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "Send \"first burn\" FS updates",
        "mode": "link",
        "links": [
            "0416ea6909311b42"
        ],
        "x": 745,
        "y": 880,
        "wires": []
    },
    {
        "id": "4bed08c71e9e8bf9",
        "type": "link in",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "Start tha burn",
        "links": [
            "840d83d276567759"
        ],
        "x": 185,
        "y": 860,
        "wires": [
            [
                "7c021285ab1cb1de",
                "846e1f20d568c2da"
            ]
        ]
    },
    {
        "id": "1d62b36f11529438",
        "type": "delay",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "",
        "pauseType": "delay",
        "timeout": "30",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 300,
        "y": 980,
        "wires": [
            [
                "d76c9c232c05e97e"
            ]
        ]
    },
    {
        "id": "d76c9c232c05e97e",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "Second Bldgs -> 1 Window",
        "func": "//--- Set up vars\n/*\nif (global.get(\"matchPhase\") == 1) {\n    var whichSide = global.get(\"startSide\");   // \"L\" or \"R\"\n} else if (global.get(\"matchPhase\") == 2) { \n    var whichSide = global.get(\"otherSide\"); \n}\n*/\nvar whichSide = global.get(\"droneActiveSide\"); //\"L\" or \"R\"\nvar startRoute = global.get(\"startRoute\"); // \"T\" or \"B\"\nvar whichRoute = startRoute == \"T\" ? \"B\" : \"T\"; //opposite\nvar bldg1 = whichSide + whichRoute + \"I\";  // e.g. \"LTI\"\nvar bldg2 = whichSide + whichRoute + \"M\";  // e.g. \"LTM\"\nvar msg1 = {};\nmsg1.payload = {};\nvar msg2 = {};\nmsg2.payload = {};\n\n//--- Set up payloads to update globals using callbacks\n// - Callback expects payload.bldg, payload.window, payload.numFire\n// - Set window 1 to FS of 8\nmsg1.payload.bldg = bldg1;\nmsg1.payload.window = 1;\nmsg1.payload.numFire = 8;\nmsg2.payload.bldg = bldg2;\nmsg2.payload.window = 1;\nmsg2.payload.numFire = 8;\n\n//Fin\nreturn [msg1, msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 980,
        "wires": [
            [
                "e1cc859ba784a678"
            ],
            [
                "e1cc859ba784a678",
                "e4b62f6f4296fca8"
            ]
        ]
    },
    {
        "id": "e1cc859ba784a678",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "Send \"first burn\" FS updates",
        "mode": "link",
        "links": [
            "0416ea6909311b42",
            "772defe5dc3f1eb0",
            "113bf2ef4799a486"
        ],
        "x": 745,
        "y": 980,
        "wires": []
    },
    {
        "id": "e4b62f6f4296fca8",
        "type": "delay",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "",
        "pauseType": "delay",
        "timeout": "30",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 300,
        "y": 1040,
        "wires": [
            [
                "fd55779ccd56155f"
            ]
        ]
    },
    {
        "id": "fd55779ccd56155f",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "Second Bldgs -> 2 Windows",
        "func": "//--- Set up vars\n/*\nif (global.get(\"matchPhase\") == 1) {\n    var whichSide = global.get(\"startSide\");   // \"L\" or \"R\"\n} else if (global.get(\"matchPhase\") == 2) { \n    var whichSide = global.get(\"otherSide\"); \n}\n*/\nvar whichSide = global.get(\"droneActiveSide\"); //\"L\" or \"R\"\nvar startRoute = global.get(\"startRoute\"); // \"T\" or \"B\"\nvar whichRoute = startRoute == \"T\" ? \"B\" : \"T\"; //opposite\nvar bldg1 = whichSide + whichRoute + \"I\";  // e.g. \"LTI\"\nvar bldg2 = whichSide + whichRoute + \"M\";  // e.g. \"LTM\"\nvar msg1 = {};\nvar msg2 = {};\nmsg1.payload = {};\nmsg2.payload = {};\n\n\n//--- Check on the bldgs\n// Anyone who is still burning (i.e. team has not turned FS to 0) expands to next window\n// Set up payloads to update globals using callbacks\n// - Callback expects payload.bldg, payload.window, payload.numFire\n// - Set window 2 to FS of 8\nif (global.get(bldg1 + \".FS.Window1-AfterWater\") > 0) {\n    msg1.payload.bldg = bldg1;\n    msg1.payload.window = 2;\n    msg1.payload.numFire = 8;\n}\nif (global.get(bldg2 + \".FS.Window1-AfterWater\") > 0) {\n    msg2.payload.bldg = bldg2;\n    msg2.payload.window = 2;\n    msg2.payload.numFire = 8;\n}\n\n\n//Fin\nreturn [msg1, msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 1040,
        "wires": [
            [
                "c1a90303531def31"
            ],
            [
                "c1a90303531def31"
            ]
        ]
    },
    {
        "id": "c1a90303531def31",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "Send \"first burn\" FS updates",
        "mode": "link",
        "links": [
            "0416ea6909311b42",
            "772defe5dc3f1eb0",
            "113bf2ef4799a486"
        ],
        "x": 745,
        "y": 1040,
        "wires": []
    },
    {
        "id": "19cd1fc687cb899a",
        "type": "debug",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "debug after 2 windows",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 860,
        "y": 820,
        "wires": []
    },
    {
        "id": "90d6f18b09e1c6b5",
        "type": "debug",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "debug after 30 seconds",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 550,
        "y": 820,
        "wires": []
    },
    {
        "id": "846e1f20d568c2da",
        "type": "debug",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "debug before 30 seconds",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 230,
        "y": 920,
        "wires": []
    },
    {
        "id": "f13d9ce18d748f8f",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "Set 0:30 target for spread",
        "func": "//--- Set up vars\nvar hotBldg = global.get(\"hotBldg\"); // e.g. \"LTO\"\nvar curHotTime = global.get(\"heaterTime\"); //in secs\n\n//--- Set a \"time target\" that is 60 secs from now\nvar timeTarget = curHotTime + 60;\nglobal.set(\"heaterTimeTarget\", timeTarget);\n//node.warn(global.get(\"heaterTime\"));\n//node.warn(global.get(\"heaterTimeTarget\"));\n\n\n//Fin\nmsg.payload = timeTarget;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 1160,
        "wires": [
            [
                "f646899bf16b76b6"
            ]
        ]
    },
    {
        "id": "a09cc4d46358b314",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "Erupt Heating Building",
        "func": "// Expects \n// payload.bldg, payload.window, payload.numFire\n\n//--- Set up vars\nvar theBldg = global.get(\"hotBldg\");\nvar theWater = global.get(theBldg+\".WaterQty\");\nvar msg1 = {};\nmsg1.payload = {};\nvar msg2 = {};\nmsg2.payload = {};\n\n//--- Light 'er up\n/*\nglobal.set(theBldg + \".Status\",\"Burning\");\nglobal.set(theBldg + \".FS.Window1-BeforeWater\", 8);\nglobal.set(theBldg + \".FS.Window2-BeforeWater\", 8);\n\nglobal.set(theBldg + \".FS.Window1-AfterWater\", 8-theWater);\nglobal.set(theBldg + \".FS.Window2-AfterWater\", 8-theWater);\nglobal.set(theBldg + \".GutterPixels\", \"333333330000000000000044444444\");\n*/\n\nmsg1.payload.bldg = theBldg;\nmsg1.payload.window = 1;\nmsg1.payload.numFire = 8;\n\nmsg2.payload.bldg = theBldg;\nmsg2.payload.window = 2;\nmsg2.payload.numFire = 8;\n\n\n//Fin\nreturn [msg1, msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1380,
        "y": 1200,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "44f4a840ec1b589d",
        "type": "inject",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 220,
        "y": 1120,
        "wires": [
            []
        ]
    },
    {
        "id": "f6e062923baa476e",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "Global Timer Rev2 (Week 3) \\n === WAS WORKING WEEK 3, CURRENTLY OBSOLETE FOR REV NIGEL BUT BEING KEPT FOR REFERENCE",
        "info": "",
        "x": 510,
        "y": 800,
        "wires": []
    },
    {
        "id": "f646899bf16b76b6",
        "type": "trigger",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "-250",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 760,
        "y": 1120,
        "wires": [
            [
                "0ee5885f70e1a162"
            ]
        ]
    },
    {
        "id": "0ee5885f70e1a162",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "Time Remaining",
        "func": "var waitTime = global.get(\"heaterTimeTarget\") - global.get(\"heaterTime\");\nmsg.payload = waitTime;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 960,
        "y": 1120,
        "wires": [
            [
                "6f91f3d03b147e08"
            ]
        ]
    },
    {
        "id": "6f91f3d03b147e08",
        "type": "switch",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "If still time remaining",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1160,
        "y": 1120,
        "wires": [
            [],
            [
                "10f78329219af1a4",
                "a09cc4d46358b314"
            ]
        ]
    },
    {
        "id": "10f78329219af1a4",
        "type": "change",
        "z": "26a7e7275cb541d0",
        "g": "02ce9447bb02faf7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1400,
        "y": 1160,
        "wires": [
            [
                "f646899bf16b76b6"
            ]
        ]
    },
    {
        "id": "10ba0965c5c6a10f",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "g": "da5dfd18efe136b1",
        "name": "MVP Version - Phase 2",
        "info": "",
        "x": 680,
        "y": 1500,
        "wires": []
    },
    {
        "id": "ec04ce96331f3c58",
        "type": "link in",
        "z": "26a7e7275cb541d0",
        "g": "da5dfd18efe136b1",
        "name": "Phase 2 start",
        "links": [],
        "x": 845,
        "y": 1520,
        "wires": [
            [
                "7a1fe1dc9f21c9b7"
            ]
        ]
    },
    {
        "id": "88202dc9135e20fa",
        "type": "loop",
        "z": "26a7e7275cb541d0",
        "g": "da5dfd18efe136b1",
        "name": "L bldgs",
        "kind": "enum",
        "count": "",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "[\"LBI\",\"LTI\",\"LBM\",\"LTM\",\"LBO\",\"LTO\"]",
        "enumerationType": "json",
        "limit": "",
        "loopPayload": "loop-val",
        "finalPayload": "final-count",
        "x": 1420,
        "y": 1420,
        "wires": [
            [],
            [
                "72a3554a4648663f",
                "f3c5a6e47bb4e136"
            ]
        ]
    },
    {
        "id": "f14554f1fa404823",
        "type": "switch",
        "z": "26a7e7275cb541d0",
        "g": "da5dfd18efe136b1",
        "name": "which side",
        "property": "otherSide",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "L",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "R",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1230,
        "y": 1520,
        "wires": [
            [
                "88202dc9135e20fa"
            ],
            [
                "54d2fb1e31d10786"
            ]
        ]
    },
    {
        "id": "72a3554a4648663f",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "g": "da5dfd18efe136b1",
        "name": "send values",
        "func": "var bldg = msg.payload;\nvar msg1 = {};\nmsg1.payload = {};\nvar msg2 = {};\nmsg2.payload = {};\n\nmsg1.payload.bldg = bldg;\nmsg1.payload.window = 1;\nmsg1.payload.numFire = 8;\n\nmsg2.payload.bldg = bldg;\nmsg2.payload.window = 2;\nmsg2.payload.numFire = 8;\n\nreturn msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1510,
        "y": 1500,
        "wires": [
            [
                "f4d059522562d6ee",
                "f847a8fbed96f010"
            ],
            [
                "0d8173f38e89fbff",
                "88202dc9135e20fa"
            ]
        ]
    },
    {
        "id": "0d8173f38e89fbff",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "da5dfd18efe136b1",
        "name": "Send \"first phase 2 burn\" FS updates",
        "mode": "link",
        "links": [
            "0416ea6909311b42"
        ],
        "x": 1675,
        "y": 1520,
        "wires": []
    },
    {
        "id": "f4d059522562d6ee",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "da5dfd18efe136b1",
        "name": "Send \"first phase 2 burn\" FS updates",
        "mode": "link",
        "links": [
            "0416ea6909311b42"
        ],
        "x": 1675,
        "y": 1480,
        "wires": []
    },
    {
        "id": "54d2fb1e31d10786",
        "type": "loop",
        "z": "26a7e7275cb541d0",
        "g": "da5dfd18efe136b1",
        "name": "R bldgs",
        "kind": "enum",
        "count": "",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "[\"RBI\",\"RTI\",\"RBM\",\"RTM\",\"RBO\",\"RTO\"]",
        "enumerationType": "json",
        "limit": "",
        "loopPayload": "loop-val",
        "finalPayload": "final-count",
        "x": 1440,
        "y": 1600,
        "wires": [
            [],
            [
                "9819d01a6d9c632b"
            ]
        ]
    },
    {
        "id": "3169a0e7aefec915",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "da5dfd18efe136b1",
        "name": "Send \"first phase 2 burn\" FS updates",
        "mode": "link",
        "links": [
            "0416ea6909311b42"
        ],
        "x": 1675,
        "y": 1700,
        "wires": []
    },
    {
        "id": "9a1fea64496dca0b",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "da5dfd18efe136b1",
        "name": "Send \"first phase 2 burn\" FS updates",
        "mode": "link",
        "links": [
            "0416ea6909311b42"
        ],
        "x": 1675,
        "y": 1660,
        "wires": []
    },
    {
        "id": "9819d01a6d9c632b",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "g": "da5dfd18efe136b1",
        "name": "send values",
        "func": "var bldg = msg.payload;\nvar msg1 = {};\nmsg1.payload = {};\nvar msg2 = {};\nmsg1.payload = {};\n\nmsg1.payload.bldg = bldg;\nmsg1.payload.window = 1;\nmsg1.payload.numFire = 8;\n\nmsg2.payload.bldg = bldg;\nmsg2.payload.window = 2;\nmsg2.payload.numFire = 8;\n\nreturn msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1550,
        "y": 1680,
        "wires": [
            [
                "9a1fea64496dca0b"
            ],
            [
                "3169a0e7aefec915",
                "54d2fb1e31d10786"
            ]
        ]
    },
    {
        "id": "f3c5a6e47bb4e136",
        "type": "debug",
        "z": "26a7e7275cb541d0",
        "g": "da5dfd18efe136b1",
        "name": "debug 16",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1640,
        "y": 1420,
        "wires": []
    },
    {
        "id": "f847a8fbed96f010",
        "type": "debug",
        "z": "26a7e7275cb541d0",
        "g": "da5dfd18efe136b1",
        "name": "debug 17",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1700,
        "y": 1360,
        "wires": []
    },
    {
        "id": "7a1fe1dc9f21c9b7",
        "type": "loop",
        "z": "26a7e7275cb541d0",
        "g": "da5dfd18efe136b1",
        "name": "L bldgs",
        "kind": "enum",
        "count": "",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "[\"RTO\",\"RBO\",\"RTM\",\"RBM\",\"RTI\",\"RBI\",\"LBI\",\"LTI\",\"LBM\",\"LTM\",\"LBO\",\"LTO\"]",
        "enumerationType": "json",
        "limit": "",
        "loopPayload": "loop-val",
        "finalPayload": "final-count",
        "x": 1000,
        "y": 1520,
        "wires": [
            [
                "f14554f1fa404823"
            ],
            [
                "5ed3a3ca0846d32d"
            ]
        ]
    },
    {
        "id": "5ed3a3ca0846d32d",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "g": "da5dfd18efe136b1",
        "name": "turn off gutterpixels",
        "func": "//expecting\n//payload.bldg, payload.pixelstring\nvar input = msg.payload;\nvar bldg = input.bldg;\nmsg.payload = {}; \n\nmsg.payload.bldg = bldg;\nmsg.payload.pixelstring = \"000000000000000000000000000000\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 1580,
        "wires": [
            [
                "7a1fe1dc9f21c9b7"
            ]
        ]
    },
    {
        "id": "ef955756849278aa",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "g": "da5dfd18efe136b1",
        "name": "=== OBSOLETE, WAS JUST USED FOR TESTING ====",
        "info": "",
        "x": 790,
        "y": 1540,
        "wires": []
    },
    {
        "id": "d56b2c69ab7a5b19",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "g": "b2c04e106e7697f0",
        "name": "MVP Step 6 - Receive a laser / ball hit, decrease FS",
        "info": "",
        "x": 370,
        "y": 1840,
        "wires": []
    },
    {
        "id": "c71621e5f8d62525",
        "type": "mqtt in",
        "z": "26a7e7275cb541d0",
        "d": true,
        "g": "b2c04e106e7697f0",
        "name": "",
        "topic": "edgenode/laserhit/#",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "bc90be16040a7d21",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 290,
        "y": 2140,
        "wires": [
            [
                "a43cfe8c60aa1766",
                "6cbc63bf1ddca5ee"
            ]
        ]
    },
    {
        "id": "3324776758a34ef8",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "g": "b2c04e106e7697f0",
        "name": "Convert to callback formats - BALL",
        "func": "/* \nExample input BALL:\nobject\nnum_drops: 1\ntimestamp: 637739\nBUILDING_NAME: \"LBM\"\nside_id: 1\n\nDesired outputs for callback: \npayload.bldg, payload.newAddlWaterQty\n*/ \n\n//--- Basic variables \nvar input = msg.payload;\nvar nodeid = input.BUILDING_NAME; \nvar numHits = input.num_drops * global.get(\"balldoubler\");;  \nmsg.payload = {};\n\n\n//--- FS update callback outputs\nmsg.payload.bldg = nodeid;\nmsg.payload.newAddlWaterQty = numHits;\n\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 1960,
        "wires": [
            [
                "3ddb4866a6ecb8fe",
                "eb26606ce7b0b4da"
            ]
        ]
    },
    {
        "id": "14d53b51ae10a6d7",
        "type": "inject",
        "z": "26a7e7275cb541d0",
        "g": "b2c04e106e7697f0",
        "name": "Fake laser MQTT (RTM)",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "edgenode/laserhit/RTO",
        "payload": "{\"node_id\":\"RTM\",\"num_hits\":1,\"timestamp\":1234567890}",
        "payloadType": "json",
        "x": 410,
        "y": 2220,
        "wires": [
            [
                "b92ea91a45968087"
            ]
        ],
        "info": "Example input: \r\n{\r\n    \"node_id\":\"LTO\",\r\n    \"num_hits\":5, \r\n    \"timestamp\":1234567890\r\n}"
    },
    {
        "id": "3ddb4866a6ecb8fe",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "b2c04e106e7697f0",
        "name": "Laser been hit",
        "mode": "link",
        "links": [
            "ab46c7d25d3bb74b"
        ],
        "x": 1055,
        "y": 2040,
        "wires": []
    },
    {
        "id": "250504d69a42ec07",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "g": "b2c04e106e7697f0",
        "name": "To callback",
        "info": "",
        "x": 1060,
        "y": 2000,
        "wires": []
    },
    {
        "id": "a43cfe8c60aa1766",
        "type": "debug",
        "z": "26a7e7275cb541d0",
        "g": "b2c04e106e7697f0",
        "name": "db received laser hit",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 580,
        "y": 2100,
        "wires": []
    },
    {
        "id": "03cc0a5688f63569",
        "type": "mqtt in",
        "z": "26a7e7275cb541d0",
        "d": true,
        "g": "b2c04e106e7697f0",
        "name": "",
        "topic": "edgenode/balldrop/#",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "bc90be16040a7d21",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 290,
        "y": 1920,
        "wires": [
            [
                "8b9f85415994242a",
                "7ec8575c8ae051af"
            ]
        ]
    },
    {
        "id": "8b9f85415994242a",
        "type": "debug",
        "z": "26a7e7275cb541d0",
        "g": "b2c04e106e7697f0",
        "name": "db received ball",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 580,
        "y": 1880,
        "wires": []
    },
    {
        "id": "81525ae27ca9e82c",
        "type": "inject",
        "z": "26a7e7275cb541d0",
        "g": "b2c04e106e7697f0",
        "name": "Fake ball MQTT (LBI)",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"num_drops\":1,\"timestamp\":10356098,\"BUILDING_NAME\":\"LBI\",\"side_id\":0}",
        "payloadType": "json",
        "x": 400,
        "y": 1980,
        "wires": [
            [
                "3324776758a34ef8"
            ]
        ]
    },
    {
        "id": "b92ea91a45968087",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "g": "b2c04e106e7697f0",
        "name": "Convert to callback formats - LASER",
        "func": "/* \nExample input LASER:\n{\n  \"num_hits\": 1,\n  \"timestamp\": 415775,\n  \"timestamp\": 416493,\n  \"BUILDING_NAME\": \"LBM\",\n  \"side_id\": 1\n}\n\n\nDesired outputs for callback: \npayload.bldg, payload.newAddlWaterQty\n*/ \n\n//--- Basic variables \nvar input = msg.payload;\nvar nodeid = input.BUILDING_NAME; \nvar numHits = input.num_hits;  \nmsg.payload = {};\n\n\n//--- FS update callback outputs\nmsg.payload.bldg = nodeid;\nmsg.payload.newAddlWaterQty = numHits*2;\n\n\n//--- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 2180,
        "wires": [
            [
                "3ddb4866a6ecb8fe"
            ]
        ]
    },
    {
        "id": "6cbc63bf1ddca5ee",
        "type": "switch",
        "z": "26a7e7275cb541d0",
        "g": "b2c04e106e7697f0",
        "name": "matchPhase > 0",
        "property": "matchPhase",
        "propertyType": "global",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 520,
        "y": 2160,
        "wires": [
            [
                "b92ea91a45968087"
            ]
        ]
    },
    {
        "id": "7ec8575c8ae051af",
        "type": "switch",
        "z": "26a7e7275cb541d0",
        "g": "b2c04e106e7697f0",
        "name": "matchPhase > 0",
        "property": "matchPhase",
        "propertyType": "global",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 520,
        "y": 1940,
        "wires": [
            [
                "3324776758a34ef8"
            ]
        ]
    },
    {
        "id": "eb26606ce7b0b4da",
        "type": "debug",
        "z": "26a7e7275cb541d0",
        "g": "b2c04e106e7697f0",
        "name": "debug 12",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 980,
        "y": 1920,
        "wires": []
    },
    {
        "id": "d7533cfe83cb541d",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "g": "b2c04e106e7697f0",
        "name": "=== OBSOLETE, WAS USED WEEK 3 ====",
        "info": "",
        "x": 410,
        "y": 1860,
        "wires": []
    },
    {
        "id": "da290e77a88988a7",
        "type": "link in",
        "z": "26a7e7275cb541d0",
        "d": true,
        "g": "b2c04e106e7697f0",
        "name": "Laser Hit Inject",
        "links": [
            "8b81919795d67036"
        ],
        "x": 445,
        "y": 2020,
        "wires": [
            [
                "3324776758a34ef8"
            ]
        ]
    },
    {
        "id": "9004aeb7ec1ed4bf",
        "type": "link in",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "TIME FOR PHASE 2",
        "links": [
            "fe84ce88167ea094",
            "18c798f8f622b55b"
        ],
        "x": 1555,
        "y": 2000,
        "wires": [
            [
                "a051d26f3d84b499"
            ]
        ]
    },
    {
        "id": "dc410816705aadf3",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "clap on",
        "mode": "link",
        "links": [
            "31c4db3eb2f36e59"
        ],
        "x": 2085,
        "y": 2120,
        "wires": []
    },
    {
        "id": "4c72ca30adc671fc",
        "type": "delay",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "",
        "pauseType": "delay",
        "timeout": "100",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2140,
        "y": 2060,
        "wires": [
            [
                "627488f25f62e8dc",
                "58af15e1f7b1e202"
            ]
        ]
    },
    {
        "id": "627488f25f62e8dc",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "clap off",
        "mode": "link",
        "links": [
            "48373ebe740e92b6",
            "756238117240a8cf",
            "371a308e27a41bed",
            "55ae42b1368591f7"
        ],
        "x": 2295,
        "y": 2060,
        "wires": []
    },
    {
        "id": "58af15e1f7b1e202",
        "type": "loop",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "Mini Rave Loop",
        "kind": "fcnt",
        "count": "5",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "enum",
        "enumerationType": "msg",
        "limit": "",
        "loopPayload": "loop-index",
        "finalPayload": "final-count",
        "x": 1930,
        "y": 2000,
        "wires": [
            [
                "244a5e68750deac1"
            ],
            [
                "dc410816705aadf3",
                "4c72ca30adc671fc"
            ]
        ]
    },
    {
        "id": "41fe48a660030e78",
        "type": "inject",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "LET'S RAVE",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1700,
        "y": 2060,
        "wires": [
            [
                "58af15e1f7b1e202"
            ]
        ]
    },
    {
        "id": "244a5e68750deac1",
        "type": "delay",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2130,
        "y": 2000,
        "wires": [
            [
                "53c404b6960d9d5d"
            ]
        ]
    },
    {
        "id": "9c7e5e9066493481",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "Pause to drain MQTT",
        "info": "",
        "x": 2150,
        "y": 1940,
        "wires": []
    },
    {
        "id": "f35369f3e7d9d9f9",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "Set PHASE-2 qtys",
        "func": "// --- Set up variables\nvar activeSideChar = global.get(\"otherSide\");\n\n// --- Create active side array\nswitch (activeSideChar) {\n    case \"L\":\n        var activeSide = global.get(\"leftBldgs\");\n    case \"R\": \n        var activeSide = global.get(\"rightBldgs\");\n}\n\n\n// --- Loop (phase 2) active side bldgs, make sure they're all clear and outta here\nfor (var i in activeSide) {\n    //Status - Dormant, At Risk(Unblocked), Blocked, Cleared, Damaged\n    global.set(activeSide[i] + \".Status\", \"PHASE-2\");\n\n    //Fire scores \n    global.set(activeSide[i] + \".FS.Window1-BeforeWater\", 0);\n    global.set(activeSide[i] + \".FS.Window2-BeforeWater\", 0);\n    global.set(activeSide[i] + \".FS.Window1-AfterWater\", 0);\n    global.set(activeSide[i] + \".FS.Window2-AfterWater\", 0);\n\n    // Gutters\n    global.set(activeSide[i] + \".GutterPixels\", \"000000000000000000000000000000\");\n\n    // Water qtys - int\n    global.set(activeSide[i] + \".WaterQty\", 0);\n}\n//-------------------------------\n\n//--- Create & then loop burning active side buildings\n//-- Step 1: Create\nvar whichRouteInt = Math.floor(Math.random() * 2); //returns 0 or 1\nvar whichRouteChar = whichRouteInt == 1 ? \"T\" : \"B\";\nglobal.set(\"startRoute\", whichRouteChar);\nvar bldg1 = activeSideChar + whichRouteChar + \"M\"; //e.g. bldg LTM\nvar bldg2 = activeSideChar + whichRouteChar + \"I\"; //e.g. bldg LTI\nvar bldg3 = activeSideChar + whichRouteChar + \"O\"; //e.g. bldg LTO\nvar burningBldgs = [bldg1, bldg2, bldg3];\n\n//-- Step 2: Set globals\nfor(var i in burningBldgs) {\n    //Status - Dormant, At Risk(Unblocked), Blocked, Cleared, Damaged\n    global.set(activeSide[i] + \".Status\", \"PHASE-2-BURNING\");\n\n    //Fire scores \n    global.set(burningBldgs[i] + \".FS.Window1-BeforeWater\", 8);\n    global.set(burningBldgs[i] + \".FS.Window2-BeforeWater\", 0);\n    global.set(burningBldgs[i] + \".FS.Window1-AfterWater\", 8);\n    global.set(burningBldgs[i] + \".FS.Window2-AfterWater\", 0);\n\n    // Gutters\n    global.set(burningBldgs[i] + \".GutterPixels\", \"333333330000000000000000000000\"); \n}\n\n//-- Pass through\nflow.set(\"whichRouteChar\",whichRouteChar);\n\n//-- Fin\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2560,
        "y": 2000,
        "wires": [
            [
                "54f240d0cd94a297",
                "ece36ce509a29e6b"
            ]
        ]
    },
    {
        "id": "54f240d0cd94a297",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "Push phase2 statuses",
        "mode": "link",
        "links": [
            "3f402ddd8643cce0"
        ],
        "x": 2705,
        "y": 2000,
        "wires": []
    },
    {
        "id": "53c404b6960d9d5d",
        "type": "change",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "matchPhase",
                "pt": "global",
                "to": "2",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2350,
        "y": 2000,
        "wires": [
            [
                "f35369f3e7d9d9f9"
            ]
        ]
    },
    {
        "id": "a051d26f3d84b499",
        "type": "change",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "matchPhase",
                "pt": "global",
                "to": "-1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 2000,
        "wires": [
            [
                "58af15e1f7b1e202"
            ]
        ]
    },
    {
        "id": "ece36ce509a29e6b",
        "type": "delay",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "",
        "pauseType": "delay",
        "timeout": "30",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2750,
        "y": 2080,
        "wires": [
            [
                "5c2c6bce8c7555a8"
            ]
        ]
    },
    {
        "id": "5c2c6bce8c7555a8",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "First Burning Bldgs -> 2 Windows",
        "func": "//--- Vars\nvar whichSide = global.get(\"otherSide\"); \nvar whichRoute = flow.get(\"whichRouteChar\"); // \"T\" or \"B\"\nvar bldg1 = whichSide + whichRoute + \"I\";  // e.g. \"LTI\"\nvar bldg2 = whichSide + whichRoute + \"M\";  // e.g. \"LTM\"\nvar bldg3 = whichSide + whichRoute + \"O\";  // e.g. \"LTO\"\n\nvar msg1 = {};\nmsg1.payload = {};\nvar msg2 = {};\nmsg2.payload = {};\nvar msg3 = {};\nmsg3.payload = {};\n\n//--- Check on the bldgs\n// Anyone who is still burning (i.e. team has not turned FS to 0) expands to next window\n// Set up payloads to update globals using callbacks\n// - Callback expects payload.bldg, payload.window, payload.numFire\n// - Set window 2 to FS of 8\nif (global.get(bldg1 + \".FS.Window1-AfterWater\") > 0) {\n    msg1.payload.bldg = bldg1;\n    msg1.payload.window = 2;\n    msg1.payload.numFire = 8;\n}\nif (global.get(bldg2 + \".FS.Window1-AfterWater\") > 0) {\n    msg2.payload.bldg = bldg2;\n    msg2.payload.window = 2;\n    msg2.payload.numFire = 8;\n}\n\n\n//-------------------------\n//-- THIS IS STILL THE JANK METHOD\n//-- WILL NEED TO BE UPDATED WITH THE NIGE METHOD\n\nvar whichSide = global.get(\"otherSide\");\nvar whichRoute = flow.get(\"whichRouteChar\"); // \"T\" or \"B\"\nvar bldg1 = whichSide + whichRoute + \"I\";  // e.g. \"LTI\"\nvar bldg2 = whichSide + whichRoute + \"M\";  // e.g. \"LTM\"\nvar bldg3 = whichSide + whichRoute + \"O\";  // e.g. \"LTO\"\nvar burningBldgs = [bldg1, bldg2, bldg3];\n\n// Check on it \nif (global.get(bldg1 + \".FS.Window1-AfterWater\") > 0) {\n    msg1.payload.bldg = bldg1;\n    msg1.payload.window = 2;\n    msg1.payload.numFire = 8;\n}\nif (global.get(bldg2 + \".FS.Window1-AfterWater\") > 0) {\n    msg2.payload.bldg = bldg1;\n    msg2.payload.window = 2;\n    msg2.payload.numFire = 8;\n}\nif (global.get(bldg3 + \".FS.Window1-AfterWater\") > 0) {\n    msg3.payload.bldg = bldg1;\n    msg3.payload.window = 2;\n    msg3.payload.numFire = 8;\n}\n\n\n//Fin\nreturn [msg1, msg2, msg3];",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3010,
        "y": 2080,
        "wires": [
            [
                "340b990d6b13e2a7"
            ],
            [
                "340b990d6b13e2a7"
            ],
            [
                "340b990d6b13e2a7"
            ]
        ]
    },
    {
        "id": "340b990d6b13e2a7",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "Send \"first burn\" FS updates",
        "mode": "link",
        "links": [
            "0416ea6909311b42"
        ],
        "x": 3235,
        "y": 2080,
        "wires": []
    },
    {
        "id": "93e63f839cdaec05",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "Send \"first burn\" FS updates",
        "mode": "link",
        "links": [
            "0416ea6909311b42",
            "772defe5dc3f1eb0",
            "113bf2ef4799a486"
        ],
        "x": 3415,
        "y": 2220,
        "wires": []
    },
    {
        "id": "37c7a2dbbcb0a457",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "Send \"first burn\" FS updates",
        "mode": "link",
        "links": [
            "0416ea6909311b42"
        ],
        "x": 3405,
        "y": 2160,
        "wires": []
    },
    {
        "id": "5178f08d4efe39d8",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "Second Bldgs -> 1 Window",
        "func": "//--- Set up vars\nif (global.get(\"matchPhase\") == 1) {\n    var whichSide = global.get(\"startSide\");   // \"L\" or \"R\"\n} else if (global.get(\"matchPhase\") == 2) {\n    var whichSide = global.get(\"otherSide\");\n}\nvar startRoute = global.get(\"startRoute\"); // \"T\" or \"B\"\nvar whichRoute = startRoute == \"T\" ? \"B\" : \"T\"; //opposite\nvar bldg1 = whichSide + whichRoute + \"I\";  // e.g. \"LTI\"\nvar bldg2 = whichSide + whichRoute + \"M\";  // e.g. \"LTM\"\nvar msg1 = {};\nmsg1.payload = {};\nvar msg2 = {};\nmsg2.payload = {};\n\n//--- Set up payloads to update globals using callbacks\n// - Callback expects payload.bldg, payload.window, payload.numFire\n// - Set window 1 to FS of 8\nmsg1.payload.bldg = bldg1;\nmsg1.payload.window = 1;\nmsg1.payload.numFire = 8;\nmsg2.payload.bldg = bldg2;\nmsg2.payload.window = 1;\nmsg2.payload.numFire = 8;\n\n//Fin\nreturn [msg1, msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3210,
        "y": 2160,
        "wires": [
            [
                "37c7a2dbbcb0a457"
            ],
            [
                "37c7a2dbbcb0a457",
                "04945c3baa280d56"
            ]
        ]
    },
    {
        "id": "53fa00494ea9a428",
        "type": "delay",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "",
        "pauseType": "delay",
        "timeout": "30",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2990,
        "y": 2160,
        "wires": [
            [
                "5178f08d4efe39d8"
            ]
        ]
    },
    {
        "id": "04945c3baa280d56",
        "type": "delay",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "",
        "pauseType": "delay",
        "timeout": "30",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2990,
        "y": 2220,
        "wires": [
            [
                "df670749b6ba940f"
            ]
        ]
    },
    {
        "id": "df670749b6ba940f",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "Second Bldgs -> 2 Windows",
        "func": "//--- Set up vars\nif (global.get(\"matchPhase\") == 1) {\n    var whichSide = global.get(\"startSide\");   // \"L\" or \"R\"\n} else if (global.get(\"matchPhase\") == 2) {\n    var whichSide = global.get(\"otherSide\");\n}\nvar startRoute = global.get(\"startRoute\"); // \"T\" or \"B\"\nvar whichRoute = startRoute == \"T\" ? \"B\" : \"T\"; //opposite\nvar bldg1 = whichSide + whichRoute + \"I\";  // e.g. \"LTI\"\nvar bldg2 = whichSide + whichRoute + \"M\";  // e.g. \"LTM\"\nvar msg1 = {};\nvar msg2 = {};\nmsg1.payload = {};\nmsg2.payload = {};\n\n\n//--- Check on the bldgs\n// Anyone who is still burning (i.e. team has not turned FS to 0) expands to next window\n// Set up payloads to update globals using callbacks\n// - Callback expects payload.bldg, payload.window, payload.numFire\n// - Set window 2 to FS of 8\nif (global.get(bldg1 + \".FS.Window1-AfterWater\") > 0) {\n    msg1.payload.bldg = bldg1;\n    msg1.payload.window = 2;\n    msg1.payload.numFire = 8;\n}\nif (global.get(bldg2 + \".FS.Window1-AfterWater\") > 0) {\n    msg2.payload.bldg = bldg2;\n    msg2.payload.window = 2;\n    msg2.payload.numFire = 8;\n}\n\n\n//Fin\nreturn [msg1, msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3210,
        "y": 2220,
        "wires": [
            [
                "93e63f839cdaec05"
            ],
            [
                "93e63f839cdaec05"
            ]
        ]
    },
    {
        "id": "90051ad270b2f765",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "MVP Step 8 - Phase 2",
        "info": "",
        "x": 1590,
        "y": 1880,
        "wires": []
    },
    {
        "id": "692f7e973b247e3f",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "TIME FOR PHASE 2",
        "info": "",
        "x": 1610,
        "y": 1940,
        "wires": []
    },
    {
        "id": "266ee9c97ad1fe86",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "g": "2971d7c90b74f3b4",
        "name": "Global Timer Rev2 (Week 3) \\n === WAS WORKING WEEK 3, CURRENTLY OBSOLETE FOR REV NIGEL BUT BEING KEPT FOR REFERENCE",
        "info": "",
        "x": 2120,
        "y": 1920,
        "wires": []
    },
    {
        "id": "45b2a30339f4ad99",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "name": "====\\n JANK PHASE 2 METHOD, THIS WILL NEED TO BE REPLACED WITH NIGE METHOD",
        "info": "",
        "x": 1960,
        "y": 2360,
        "wires": []
    },
    {
        "id": "fda57943df6dddeb",
        "type": "delay",
        "z": "26a7e7275cb541d0",
        "name": "",
        "pauseType": "delay",
        "timeout": "30",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1740,
        "y": 2440,
        "wires": [
            [
                "41102c25b0511ae6"
            ]
        ]
    },
    {
        "id": "41102c25b0511ae6",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "name": "Spread phase 2 [jank]",
        "func": "//--- Vars\nvar whichSide = global.get(\"otherSide\");\nvar whichRoute = global.get(\"startRoute\"); // \"T\" or \"B\"\nvar bldg1 = whichSide + whichRoute + \"I\";  // e.g. \"LTI\"\nvar bldg2 = whichSide + whichRoute + \"M\";  // e.g. \"LTM\"\nvar bldg3 = whichSide + whichRoute + \"O\";  // e.g. \"LTO\"\n\nvar msg1 = {};\nmsg1.payload = {};\nvar msg2 = {};\nmsg2.payload = {};\nvar msg3 = {};\nmsg3.payload = {};\n\n\n\n//-------------------------\n//-- THIS IS STILL THE JANK METHOD\n//-- WILL NEED TO BE UPDATED WITH THE NIGE METHOD\n\nvar bldg1 = whichSide + whichRoute + \"I\";  // e.g. \"LTI\"\nvar bldg2 = whichSide + whichRoute + \"M\";  // e.g. \"LTM\"\nvar bldg3 = whichSide + whichRoute + \"O\";  // e.g. \"LTO\"\nvar burningBldgs = [bldg1, bldg2, bldg3];\nnode.warn(burningBldgs);\n\n// Check on it \nif (global.get(bldg1 + \".FS.Window1-AfterWater\") > 0) {\n    msg1.payload.bldg = bldg1;\n    msg1.payload.window = 2;\n    msg1.payload.numFire = 8;\n}\nif (global.get(bldg2 + \".FS.Window1-AfterWater\") > 0) {\n    msg2.payload.bldg = bldg2;\n    msg2.payload.window = 2;\n    msg2.payload.numFire = 8;\n}\nif (global.get(bldg3 + \".FS.Window1-AfterWater\") > 0) {\n    msg3.payload.bldg = bldg3;\n    msg3.payload.window = 2;\n    msg3.payload.numFire = 8;\n}\n\nnode.warn(msg1);\nnode.warn(msg2);\nnode.warn(msg3);\n\n//Fin\nreturn [msg1, msg2, msg3];",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1940,
        "y": 2440,
        "wires": [
            [
                "ed716ab02d4082a2"
            ],
            [
                "ed716ab02d4082a2"
            ],
            [
                "ed716ab02d4082a2",
                "2bf1904c5cdfea2c"
            ]
        ]
    },
    {
        "id": "ed716ab02d4082a2",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "name": "Send phase 2 FS updates",
        "mode": "link",
        "links": [
            "0416ea6909311b42"
        ],
        "x": 2105,
        "y": 2440,
        "wires": []
    },
    {
        "id": "2bf1904c5cdfea2c",
        "type": "delay",
        "z": "26a7e7275cb541d0",
        "name": "",
        "pauseType": "delay",
        "timeout": "30",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1740,
        "y": 2520,
        "wires": [
            [
                "21a3e408cf9c4ffc"
            ]
        ]
    },
    {
        "id": "ad963e02c9e92e23",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "name": "Send phase 2 FS updates",
        "mode": "link",
        "links": [
            "0416ea6909311b42"
        ],
        "x": 2065,
        "y": 2520,
        "wires": []
    },
    {
        "id": "9ff066051ce6b800",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "name": "Spread phase 2 [jank]",
        "func": "//--- Vars\nvar whichSide = global.get(\"otherSide\");\nvar whichRoute = global.get(\"startRoute\"); // \"T\" or \"B\"\nwhichRoute = whichRoute == \"T\" ? \"B\" : \"T\";\nvar bldg1 = whichSide + whichRoute + \"I\";  // e.g. \"LTI\"\nvar bldg2 = whichSide + whichRoute + \"M\";  // e.g. \"LTM\"\nvar bldg3 = whichSide + whichRoute + \"O\";  // e.g. \"LTO\"\n\nvar msg1 = {};\nmsg1.payload = {};\nvar msg2 = {};\nmsg2.payload = {};\nvar msg3 = {};\nmsg3.payload = {};\n\n\n\n//-------------------------\n//-- THIS IS STILL THE JANK METHOD\n//-- WILL NEED TO BE UPDATED WITH THE NIGE METHOD\n\nvar bldg1 = whichSide + whichRoute + \"I\";  // e.g. \"LTI\"\nvar bldg2 = whichSide + whichRoute + \"M\";  // e.g. \"LTM\"\nvar bldg3 = whichSide + whichRoute + \"O\";  // e.g. \"LTO\"\nvar burningBldgs = [bldg1, bldg2, bldg3];\nnode.warn(burningBldgs);\n\n// Check on it \nif (global.get(bldg1 + \".FS.Window1-AfterWater\") > 0) {\n    msg1.payload.bldg = bldg1;\n    msg1.payload.window = 2;\n    msg1.payload.numFire = 8;\n}\nif (global.get(bldg2 + \".FS.Window1-AfterWater\") > 0) {\n    msg2.payload.bldg = bldg2;\n    msg2.payload.window = 2;\n    msg2.payload.numFire = 8;\n}\nif (global.get(bldg3 + \".FS.Window1-AfterWater\") > 0) {\n    msg3.payload.bldg = bldg3;\n    msg3.payload.window = 2;\n    msg3.payload.numFire = 8;\n}\n\nnode.warn(msg1);\nnode.warn(msg2);\nnode.warn(msg3);\n\n//Fin\nreturn [msg1, msg2, msg3];",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1940,
        "y": 2600,
        "wires": [
            [
                "818f620db7bf22cc"
            ],
            [
                "818f620db7bf22cc"
            ],
            [
                "818f620db7bf22cc"
            ]
        ]
    },
    {
        "id": "818f620db7bf22cc",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "name": "Send phase 2 FS updates",
        "mode": "link",
        "links": [
            "0416ea6909311b42"
        ],
        "x": 2105,
        "y": 2600,
        "wires": []
    },
    {
        "id": "e08a0860d7eb970a",
        "type": "delay",
        "z": "26a7e7275cb541d0",
        "name": "",
        "pauseType": "delay",
        "timeout": "30",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1740,
        "y": 2600,
        "wires": [
            [
                "9ff066051ce6b800"
            ]
        ]
    },
    {
        "id": "01d28ef179167563",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "name": "====\\n ALSO - THIS TIMER WILL NEED TO RUN OUT AFTER TEH MATCH FINISHES",
        "info": "",
        "x": 1960,
        "y": 2680,
        "wires": []
    },
    {
        "id": "21a3e408cf9c4ffc",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "name": "Spread phase 2 second bldgs [jank]",
        "func": "//--- Vars\nvar whichSide = global.get(\"otherSide\");\nvar whichRoute = global.get(\"startRoute\"); // \"T\" or \"B\"\nwhichRoute = whichRoute==\"T\" ? \"B\": \"T\";\nvar bldg1 = whichSide + whichRoute + \"I\";  // e.g. \"LTI\"\nvar bldg2 = whichSide + whichRoute + \"M\";  // e.g. \"LTM\"\nvar bldg3 = whichSide + whichRoute + \"O\";  // e.g. \"LTO\"\n\nvar msg1 = {};\nmsg1.payload = {};\nvar msg2 = {};\nmsg2.payload = {};\nvar msg3 = {};\nmsg3.payload = {};\n\n\n\n//-------------------------\n//-- THIS IS STILL THE JANK METHOD\n//-- WILL NEED TO BE UPDATED WITH THE NIGE METHOD\n\nvar bldg1 = whichSide + whichRoute + \"I\";  // e.g. \"LTI\"\nvar bldg2 = whichSide + whichRoute + \"M\";  // e.g. \"LTM\"\nvar bldg3 = whichSide + whichRoute + \"O\";  // e.g. \"LTO\"\nvar burningBldgs = [bldg1, bldg2, bldg3];\nnode.warn(burningBldgs);\n\n// do it\nmsg1.payload.bldg = bldg1;\nmsg1.payload.window = 1;\nmsg1.payload.numFire = 8;\n    msg2.payload.bldg = bldg2;\n    msg2.payload.window = 1;\n    msg2.payload.numFire = 8;\nmsg3.payload.bldg = bldg3;\nmsg3.payload.window =1;\nmsg3.payload.numFire = 8;\n\n\nnode.warn(msg1);\nnode.warn(msg2);\nnode.warn(msg3);\n\n//Fin\nreturn [msg1, msg2, msg3];",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1980,
        "y": 2520,
        "wires": [
            [
                "ad963e02c9e92e23"
            ],
            [
                "ad963e02c9e92e23"
            ],
            [
                "ad963e02c9e92e23",
                "e08a0860d7eb970a"
            ]
        ]
    },
    {
        "id": "98367b1c57292215",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "name": "====\\n PHASE 2 NIGE METHOD",
        "info": "",
        "x": 1790,
        "y": 2820,
        "wires": []
    },
    {
        "id": "d236e6eee53270f4",
        "type": "link in",
        "z": "26a7e7275cb541d0",
        "g": "e6f0aa02159bc664",
        "name": "TIME FOR PHASE 3",
        "links": [
            "6983c6fb1a960333"
        ],
        "x": 165,
        "y": 2580,
        "wires": [
            [
                "42523d902813f067"
            ]
        ]
    },
    {
        "id": "f31e8c8e319d93ce",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "g": "e6f0aa02159bc664",
        "name": "TIME FOR PHASE 3",
        "info": "",
        "x": 220,
        "y": 2520,
        "wires": []
    },
    {
        "id": "971728897ecf9437",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "e6f0aa02159bc664",
        "name": "clap on",
        "mode": "link",
        "links": [
            "31c4db3eb2f36e59"
        ],
        "x": 715,
        "y": 2700,
        "wires": []
    },
    {
        "id": "2badacc9a7cff346",
        "type": "delay",
        "z": "26a7e7275cb541d0",
        "g": "e6f0aa02159bc664",
        "name": "",
        "pauseType": "delay",
        "timeout": "200",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 770,
        "y": 2640,
        "wires": [
            [
                "66a6c020170412e9",
                "9b2dd509237ea4ba"
            ]
        ]
    },
    {
        "id": "66a6c020170412e9",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "e6f0aa02159bc664",
        "name": "clap off",
        "mode": "link",
        "links": [
            "48373ebe740e92b6",
            "756238117240a8cf",
            "371a308e27a41bed",
            "55ae42b1368591f7"
        ],
        "x": 915,
        "y": 2640,
        "wires": []
    },
    {
        "id": "9b2dd509237ea4ba",
        "type": "loop",
        "z": "26a7e7275cb541d0",
        "g": "e6f0aa02159bc664",
        "name": "Mini Rave Loop",
        "kind": "fcnt",
        "count": "5",
        "initial": "1",
        "step": "1",
        "condition": "",
        "conditionType": "js",
        "when": "before",
        "enumeration": "enum",
        "enumerationType": "msg",
        "limit": "",
        "loopPayload": "loop-index",
        "finalPayload": "final-count",
        "x": 560,
        "y": 2580,
        "wires": [
            [
                "cd6470a4dd6dcf5a"
            ],
            [
                "971728897ecf9437",
                "2badacc9a7cff346"
            ]
        ]
    },
    {
        "id": "75bb4dcf27e09311",
        "type": "inject",
        "z": "26a7e7275cb541d0",
        "g": "e6f0aa02159bc664",
        "name": "LET'S RAVE",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 330,
        "y": 2640,
        "wires": [
            [
                "9b2dd509237ea4ba"
            ]
        ]
    },
    {
        "id": "c9cff8053a0560cc",
        "type": "change",
        "z": "26a7e7275cb541d0",
        "g": "e6f0aa02159bc664",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "matchPhase",
                "pt": "global",
                "to": "3",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 2580,
        "wires": [
            [
                "d50e20b89aafa29b"
            ]
        ]
    },
    {
        "id": "cd6470a4dd6dcf5a",
        "type": "delay",
        "z": "26a7e7275cb541d0",
        "g": "e6f0aa02159bc664",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 760,
        "y": 2580,
        "wires": [
            [
                "c9cff8053a0560cc"
            ]
        ]
    },
    {
        "id": "a0b22b12a042c73b",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "g": "e6f0aa02159bc664",
        "name": "Pause to drain MQTT",
        "info": "",
        "x": 780,
        "y": 2520,
        "wires": []
    },
    {
        "id": "d50e20b89aafa29b",
        "type": "function",
        "z": "26a7e7275cb541d0",
        "g": "e6f0aa02159bc664",
        "name": "Set ENDGAME qtys",
        "func": "var bldgs = [\"RTO\", \"RBO\", \"RTM\", \"RBM\", \"RTI\", \"RBI\", \"LBO\", \"LTO\", \"LBM\", \"LTM\", \"LBI\", \"LTI\"];\nfor (var i in bldgs) {\n\n    //Status - Dormant, At Risk(Unblocked), Blocked, Cleared, Damaged\n    global.set(bldgs[i] + \".Status\", \"ENDGAME\");\n\n    //Fire scores \n    global.set(bldgs[i] + \".FS.Window1-BeforeWater\", 8);\n    global.set(bldgs[i] + \".FS.Window2-BeforeWater\", 8);\n    global.set(bldgs[i] + \".FS.Window1-AfterWater\", 8);\n    global.set(bldgs[i] + \".FS.Window2-AfterWater\", 8);\n\n    // Gutters\n    global.set(bldgs[i] + \".GutterPixels\",\"333333330000000000000044444444\");\n\n    // Water qtys - int\n    global.set(bldgs[i] + \".WaterQty\", 0);\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1200,
        "y": 2580,
        "wires": [
            [
                "4c742ebce9027c25"
            ]
        ]
    },
    {
        "id": "4c742ebce9027c25",
        "type": "link out",
        "z": "26a7e7275cb541d0",
        "g": "e6f0aa02159bc664",
        "name": "Push endgame statuses",
        "mode": "link",
        "links": [
            "3f402ddd8643cce0"
        ],
        "x": 1345,
        "y": 2580,
        "wires": []
    },
    {
        "id": "42523d902813f067",
        "type": "change",
        "z": "26a7e7275cb541d0",
        "g": "e6f0aa02159bc664",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "matchPhase",
                "pt": "global",
                "to": "-1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 320,
        "y": 2580,
        "wires": [
            [
                "9b2dd509237ea4ba"
            ]
        ]
    },
    {
        "id": "28af28cc8618a072",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "g": "e6f0aa02159bc664",
        "name": "MVP Step 9 - Endgame",
        "info": "",
        "x": 210,
        "y": 2460,
        "wires": []
    },
    {
        "id": "28862dd1f1f894b4",
        "type": "comment",
        "z": "26a7e7275cb541d0",
        "g": "e6f0aa02159bc664",
        "name": "=== OBSOLETE, WAS USED WEEK 3 ====",
        "info": "",
        "x": 550,
        "y": 2480,
        "wires": []
    }
]